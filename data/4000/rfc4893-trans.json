{
  "title": {
    "text": "RFC 4893: BGP Support for Four-octet AS Number Space",
    "zh-CHS": "RFC 4893"
  },
  "number": 4893,
  "created_at": "2021-11-15 10:56:13.024107+08:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Network Working Group                                           Q. Vohra\nRequest for Comments: 4893                              Juniper Networks\nCategory: Standards Track                                        E. Chen\n                                                           Cisco Systems\n                                                                May 2007",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 15,
      "text": "BGP Support for Four-octet AS Number Space",
      "zh-CHS": "BGP支持四个八位组作为数字空间"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "zh-CHS": "关于下段备忘"
    },
    {
      "indent": 3,
      "text": "This document specifies an Internet standards track protocol for the Internet community, and requests discussion and suggestions for improvements. Please refer to the current edition of the \"Internet Official Protocol Standards\" (STD 1) for the standardization state and status of this protocol. Distribution of this memo is unlimited.",
      "zh-CHS": "本文件规定了互联网社区的互联网标准跟踪协议，并要求进行讨论和提出改进建议。有关本协议的标准化状态和状态，请参考当前版本的“互联网官方协议标准”（STD 1）。本备忘录的分发不受限制。"
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "zh-CHS": "版权公告"
    },
    {
      "indent": 3,
      "text": "Copyright (C) The IETF Trust (2007).",
      "zh-CHS": "版权所有（C）IETF信托基金（2007年）。"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "zh-CHS": "摘要"
    },
    {
      "indent": 3,
      "text": "Currently the Autonomous System (AS) number is encoded as a two-octet entity in BGP. This document describes extensions to BGP to carry the Autonomous System number as a four-octet entity.",
      "zh-CHS": "目前，自治系统（AS）编号在BGP中编码为两个八位组实体。本文档描述了BGP的扩展，以将自治系统号作为四个八位组实体进行携带。"
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "zh-CHS": "1. 介绍"
    },
    {
      "indent": 3,
      "text": "Currently the Autonomous System number is encoded as a two-octet entity in BGP [BGP]. To prepare for the anticipated exhaustion of the two-octet AS numbers, this document describes extensions to BGP to carry the Autonomous System number as a four-octet entity.",
      "zh-CHS": "目前，自治系统编号在BGP[BGP]中编码为两个八位组实体。为了准备两个八位组作为数字的预期耗尽，本文档描述了BGP的扩展，以将自治系统编号作为四个八位组实体携带。"
    },
    {
      "indent": 3,
      "text": "More specifically, this document defines a new BGP capability, Four-octet AS Number Capability, that can be used by a BGP speaker to indicate its support for the four-octet AS numbers. Two new attributes, AS4_PATH and AS4_AGGREGATOR, are introduced that can be used to propagate four-octet based AS path information across BGP speakers that do not support the four-octet AS numbers. This document also specifies mechanisms for constructing the AS path information from the AS_PATH attribute and the AS4_PATH attribute.",
      "zh-CHS": "更具体地说，本文档定义了一个新的BGP功能，四个八位组作为数字功能，BGP扬声器可以使用该功能来表示其支持四个八位组作为数字。引入了两个新属性AS4_PATH和AS4_AGGREGATOR，可用于在不支持四个八位组作为数字的BGP扬声器之间传播基于四个八位组的AS路径信息。本文档还指定了从AS_path属性和AS4_path属性构造AS路径信息的机制。"
    },
    {
      "indent": 3,
      "text": "The extensions proposed in this document allow a gradual transition from 2-octet AS numbers to 4-octet AS numbers.",
      "zh-CHS": "本文件中提出的扩展允许从2个八位组作为数字逐渐过渡到4个八位组作为数字。"
    },
    {
      "indent": 0,
      "text": "2. Specification of Requirements",
      "section_title": true,
      "zh-CHS": "2. 需求说明"
    },
    {
      "indent": 3,
      "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in [RFC2119].",
      "zh-CHS": "本文件中的关键词“必须”、“不得”、“必需”、“应”、“不应”、“应”、“不应”、“建议”、“可”和“可选”应按照[RFC2119]中所述进行解释。"
    },
    {
      "indent": 0,
      "text": "3. Protocol Extensions",
      "section_title": true,
      "zh-CHS": "3. 协议扩展"
    },
    {
      "indent": 3,
      "text": "For the purpose of this document we define a BGP speaker that does not support the new 4-octet AS number extensions as an OLD BGP speaker, and a BGP speaker which supports the new 4-octet AS number extensions as a NEW BGP speaker.",
      "zh-CHS": "在本文档中，我们将不支持新的4-octet作为数字扩展的BGP扬声器定义为旧的BGP扬声器，将支持新的4-octet作为数字扩展的BGP扬声器定义为新的BGP扬声器。"
    },
    {
      "indent": 3,
      "text": "BGP carries the Autonomous System number in the \"My Autonomous System\" field of the OPEN message, in the AS_PATH attribute of the UPDATE message, and in the AGGREGATOR attribute of the UPDATE message. BGP also carries the Autonomous System number in the BGP Communities attribute.",
      "zh-CHS": "BGP在打开消息的“我的自治系统”字段、更新消息的AS_路径属性和更新消息的聚合器属性中携带自治系统编号。BGP还携带BGP Communities属性中的自治系统编号。"
    },
    {
      "indent": 3,
      "text": "A NEW BGP speaker uses BGP Capability Advertisements [RFC2842] to advertise to its neighbors (either internal or external) that it supports 4-octet AS number extensions, as specified in this document.",
      "zh-CHS": "新的BGP扬声器使用BGP功能播发[RFC2842]向其邻居（内部或外部）播发其支持4个八位组作为数字扩展，如本文档所述。"
    },
    {
      "indent": 3,
      "text": "The Capability that is used by a BGP speaker to convey to its BGP peer the 4-octet Autonomous System number capability, also carries the 4-octet Autonomous System number of the speaker in the Capability Value field of the Capability Optional Parameter. The Capability Length field of the Capability is set to 4.",
      "zh-CHS": "BGP扬声器用于向其BGP对等方传送4-八位组自治系统编号能力的能力，也在能力可选参数的能力值字段中携带扬声器的4-八位组自治系统编号。能力的能力长度字段设置为4。"
    },
    {
      "indent": 3,
      "text": "NEW BGP speakers carry AS path information expressed in terms of 4- octet Autonomous Systems numbers by using the existing AS_PATH attribute, except that each AS number in this attribute is encoded not as a 2-octet, but as a 4-octet entity. The same applies to the AGGREGATOR attribute - NEW BGP speakers use the same attribute, except that the AS carried in this attribute is encoded as a 4-octet entity.",
      "zh-CHS": "新的BGP扬声器通过使用现有的AS_路径属性携带以4-八位字节自治系统编号表示的AS路径信息，但该属性中的每个AS编号不是编码为2-八位字节，而是编码为4-八位字节实体。这同样适用于聚合器属性-新的BGP扬声器使用相同的属性，除了此属性中携带的AS被编码为4-octet实体。"
    },
    {
      "indent": 3,
      "text": "To preserve AS path information with 4-octet AS numbers across OLD BGP speakers, this document defines a new AS path attribute, called AS4_PATH. This is an optional transitive attribute that contains the AS path encoded with 4-octet AS numbers. The AS4_PATH attribute has the same semantics as the AS_PATH attribute, except that it is optional transitive, and it carries 4-octet AS numbers.",
      "zh-CHS": "为了在旧的BGP扬声器中保留4-octet作为数字的AS路径信息，本文档定义了一个新的AS路径属性，称为AS4_路径。这是一个可选的可传递属性，它包含用4个八位组作为数字编码的AS路径。AS4_路径属性与as_路径属性具有相同的语义，不同之处在于它是可选的可传递属性，并且以数字形式携带4个八位组。"
    },
    {
      "indent": 3,
      "text": "To prevent the possible propagation of confederation path segments outside of a confederation, the path segment types AS_CONFED_SEQUENCE and AS_CONFED_SET [RFC3065] are declared invalid for the AS4_PATH attribute.",
      "zh-CHS": "为了防止联盟路径段可能在联盟之外传播，路径段类型（如_-CONFED_序列和_-CONFED_集合[RFC3065]）对于AS4_路径属性被声明为无效。"
    },
    {
      "indent": 3,
      "text": "Similarly, this document defines a new aggregator attribute called AS4_AGGREGATOR, which is optional transitive. The AS4_AGGREGATOR attribute has the same semantics as the AGGREGATOR attribute, except that it carries a 4-octet AS number.",
      "zh-CHS": "类似地，本文档定义了一个名为AS4_aggregator的新聚合器属性，它是可选的可传递属性。AS4_AGGREGATOR属性与AGGREGATOR属性具有相同的语义，只是它携带一个4个八位组作为数字。"
    },
    {
      "indent": 3,
      "text": "Currently assigned 2-octet Autonomous System numbers are converted into 4-octet Autonomous System numbers by setting the two high-order octets of the 4-octet field to zero. Such a 4-octet AS number is said to be mappable to a 2-octet AS number.",
      "zh-CHS": "通过将4-octet字段的两个高阶八位组设置为零，当前分配的2-octet自治系统编号将转换为4-octet自治系统编号。这样一个4-octet作为数字被称为可映射到2-octet作为数字。"
    },
    {
      "indent": 3,
      "text": "To represent 4-octet AS numbers (which are not mapped from 2-octets) as 2-octet AS numbers in the AS path information encoded with 2-octet AS numbers, this document reserves a 2-octet AS number. We denote this special AS number as AS_TRANS for ease of description in the rest of this specification. This AS number is also placed in the \"My Autonomous System\" field of the OPEN message originated by a NEW BGP speaker, if the speaker does not have a (globally unique) 2-octet AS number.",
      "zh-CHS": "为了将4个八位组表示为数字（不是从2个八位组映射而来），将2个八位组表示为以2个八位组作为数字编码的AS路径信息中的数字，本文档保留了一个2个八位组作为数字。为了便于在本规范的其余部分进行描述，我们将此特殊编号表示为AS_TRANS。如果新的BGP说话人没有（全局唯一的）2-octet AS编号，则该AS编号也会放置在新BGP说话人发出的开放消息的“我的自主系统”字段中。"
    },
    {
      "indent": 0,
      "text": "4. Operations",
      "section_title": true,
      "zh-CHS": "4. 操作"
    },
    {
      "indent": 0,
      "text": "4.1. Interaction Between NEW BGP Speakers",
      "section_title": true,
      "zh-CHS": "4.1. 新BGP发言人之间的互动"
    },
    {
      "indent": 3,
      "text": "A BGP speaker that supports 4-octet Autonomous System numbers SHOULD advertise this to its peers using the BGP Capability Advertisements. A BGP speaker that advertises such capability to a particular peer, and receives from that peer the advertisement of such capability MUST encode Autonomous System numbers as 4-octet entities in both the AS_PATH and the AGGREGATOR attributes in the updates it sends to the peer, and MUST assume that these attributes in the updates received from the peer encode Autonomous System numbers as 4-octet entities.",
      "zh-CHS": "支持4-octet自治系统编号的BGP扬声器应使用BGP功能播发功能向其对等方播发此信息。向特定对等方播发该能力并从该对等方接收该能力播发的BGP扬声器必须在其发送给对等方的更新中，在as_路径和聚合器属性中将自治系统编号编码为4-octet实体，并且必须假设从对等方接收的更新中的这些属性将自治系统编号编码为4个八位组实体。"
    },
    {
      "indent": 3,
      "text": "The new attributes, AS4_PATH and AS4_AGGREGATOR SHOULD NOT be carried in the UPDATE messages between NEW BGP peers. A NEW BGP speaker that receives the AS4_PATH and AS4_AGGREGATOR path attributes in an UPDATE message from a NEW BGP speaker SHOULD discard these path attributes and continue processing the UPDATE message.",
      "zh-CHS": "新的属性AS4_路径和AS4_聚合器不应在新BGP对等点之间的更新消息中携带。从新BGP扬声器接收更新消息中的AS4_路径和AS4_聚合器路径属性的新BGP扬声器应放弃这些路径属性并继续处理更新消息。"
    },
    {
      "indent": 0,
      "text": "4.2. Interaction Between NEW and OLD BGP Speakers",
      "section_title": true,
      "zh-CHS": "4.2. 新旧BGP扬声器之间的交互"
    },
    {
      "indent": 0,
      "text": "4.2.1. BGP Peering",
      "section_title": true,
      "zh-CHS": "4.2.1. BGP对等"
    },
    {
      "indent": 3,
      "text": "Note that peering between a NEW BGP speaker and an OLD one is possible only if the NEW BGP speaker has a 2-octet AS number. However, this document does not assume that an Autonomous System with NEW speakers has to have a globally unique 2-octet AS number -- AS_TRANS could be used instead (even if a multiple Autonomous System would use it).",
      "zh-CHS": "请注意，只有当新BGP扬声器有2个八位组作为编号时，才可能在新BGP扬声器和旧BGP扬声器之间进行对等。然而，本文档并不假设一个带有新扬声器的自治系统必须有一个全局唯一的2-octet作为数字——可以使用AS_TRANS（即使多个自治系统会使用它）。"
    },
    {
      "indent": 0,
      "text": "4.2.2. Generating Updates",
      "section_title": true,
      "zh-CHS": "4.2.2. 生成更新"
    },
    {
      "indent": 3,
      "text": "When communicating with an OLD BGP speaker, a NEW speaker MUST send the AS path information in the AS_PATH attribute encoded with 2-octet AS numbers. The NEW speaker MUST also send the AS path information in the AS4_PATH attribute (encoded with 4-octet AS numbers), except for the case where the entire AS path information is composed of 2- octet AS numbers only. In this case, the NEW speaker SHOULD NOT send the AS4_PATH attribute.",
      "zh-CHS": "当与旧BGP扬声器通信时，新扬声器必须发送AS_path属性中的AS路径信息，该属性使用2个八位组作为数字编码。新的说话人还必须发送AS4_路径属性中的AS路径信息（用4个八位组的AS编号编码），除非整个AS路径信息仅由2个八位组的AS编号组成。在这种情况下，新扬声器不应发送AS4_路径属性。"
    },
    {
      "indent": 3,
      "text": "In the AS_PATH attribute encoded with 2-octet AS numbers, non-mappable 4-octet AS numbers are represented by the well-known 2-octet AS number, AS_TRANS. This will preserve the path length property of the AS path information and also help in updating the AS path information received on a NEW BGP speaker from an OLD speaker, as explained in the next section.",
      "zh-CHS": "在以2-octet作为数字编码的AS_路径属性中，不可映射的4-octet作为数字由众所周知的2-octet作为数字，AS_TRANS表示。这将保留AS路径信息的路径长度属性，并有助于更新新BGP扬声器从旧扬声器接收到的AS路径信息，如下一节所述。"
    },
    {
      "indent": 3,
      "text": "The NEW speaker constructs the AS4_PATH attribute from the information carried in the AS_PATH attribute. In the case where the AS_PATH attribute contains either AS_CONFED_SEQUENCE or AS_CONFED_SET path segments, the NEW speaker, when constructing the AS4_PATH attribute from the AS_PATH attribute, MUST exclude such path segments. The AS4_PATH attribute will be carried across a series of OLD BGP speakers without modification and will help preserve the truly 4-octet AS numbers in the AS path information.",
      "zh-CHS": "新说话人根据AS_路径属性中包含的信息构造AS4_路径属性。如果AS_路径属性包含AS_CONFED_序列或AS_CONFED_集合路径段，则新说话人在从AS_路径属性构造AS4_路径属性时，必须排除此类路径段。AS4_路径属性将在一系列旧的BGP扬声器上携带，无需修改，并有助于在AS路径信息中保留真正的4八位组AS编号。"
    },
    {
      "indent": 3,
      "text": "Similarly, if the NEW speaker has to send the AGGREGATOR attribute, and if the aggregating Autonomous System's AS number is truly 4- octets, then the speaker constructs the AS4_AGGREGATOR attributes by taking the attribute length and attribute value from the AGGREGATOR attribute and placing them into the attribute length and attribute value of the AS4_AGGREGATOR attribute, and sets the AS number field in the existing AGGREGATOR attribute to the reserved AS number, AS_TRANS. Note that if the AS number is 2-octets only, then the AS4_AGGREGATOR attribute SHOULD NOT be sent.",
      "zh-CHS": "类似地，如果新说话人必须发送聚合器属性，并且如果聚合自治系统的AS编号确实是4个八位组，然后，演讲者通过从聚合器属性中获取属性长度和属性值并将其放入AS4_聚合器属性的属性长度和属性值来构造AS4_聚合器属性，并将现有聚合器属性中的AS number字段设置为保留AS number，AS_TRANS。请注意，如果AS编号仅为2个八位字节，则不应发送AS4_聚合器属性。"
    },
    {
      "indent": 0,
      "text": "4.2.3. Processing Received Updates",
      "section_title": true,
      "zh-CHS": "4.2.3. 处理收到的更新"
    },
    {
      "indent": 3,
      "text": "When a NEW BGP speaker receives an update from an OLD one, it should be prepared to receive the AS4_PATH attribute along with the existing AS_PATH attribute. If the AS4_PATH attribute is also received, both the attributes will be used to construct the exact AS path information, and therefore the information carried by both the attributes will be considered for AS path loop detection.",
      "zh-CHS": "当新的BGP扬声器接收到来自旧扬声器的更新时，它应该准备好接收AS4_路径属性以及现有的AS_路径属性。如果还接收到AS4_路径属性，则这两个属性将用于构造精确的AS路径信息，因此这两个属性携带的信息将被视为AS路径循环检测。"
    },
    {
      "indent": 3,
      "text": "Note that a route may have traversed a series of autonomous systems with 2-octet AS numbers and OLD BGP speakers only. In that case, if the route carries the AS4_PATH attribute, this attribute must have",
      "zh-CHS": "请注意，一条路由可能已经穿越了一系列以2个八位组为数字且仅使用旧BGP扬声器的自治系统。在这种情况下，如果路由带有AS4_路径属性，则该属性必须具有"
    },
    {
      "indent": 3,
      "text": "remained unmodified since the route left the last NEW BGP speaker. The trailing AS path information (representing autonomous systems with 2-octet AS numbers and OLD BGP speakers only) is contained only in the current AS_PATH attribute (encoded in the leading part of the AS_PATH attribute).",
      "zh-CHS": "由于路由离开最后一个新的BGP扬声器，因此未被修改。尾随AS路径信息（仅表示具有2个八位组作为数字和旧BGP扬声器的自治系统）仅包含在当前AS_路径属性（编码在AS_路径属性的前导部分）中。"
    },
    {
      "indent": 3,
      "text": "Under certain conditions, it may not be possible to reconstruct the entire AS path information from the AS_PATH and the AS4_PATH attributes of a route. This occurs when two or more routes that carry the AS4_PATH attribute are aggregated by an OLD BGP speaker, and the AS4_PATH attribute of at least one of these routes carries at least one 4-octet AS number (as oppose to a 2-octet AS number that is encoded in 4 octets). Depending on the implementation, either the AS4_PATH attribute would be lost during route aggregation, or both the AS_PATH attribute and the AS4_PATH attribute would contain valid, partial information that cannot be combined seamlessly, resulting in incomplete AS path information in these cases.",
      "zh-CHS": "在某些情况下，可能无法从路由的AS_路径和AS4_路径属性重建整个AS路径信息。当两个或多个带有AS4_路径属性的路由被一个旧BGP扬声器聚合，并且这些路由中至少一个的AS4_路径属性带有至少一个4八位组作为编号（与编码在4八位组中的2八位组作为编号相反）时，就会发生这种情况。根据实现的不同，AS4_路径属性可能会在路由聚合过程中丢失，或者AS_路径属性和AS4_路径属性都包含无法无缝组合的有效部分信息，从而在这些情况下导致AS路径信息不完整。"
    },
    {
      "indent": 3,
      "text": "A NEW BGP speaker should also be prepared to receive the AS4_AGGREGATOR attribute along with the AGGREGATOR attribute from an OLD BGP speaker. When both the attributes are received, if the AS number in the AGGREGATOR attribute is not AS_TRANS, then:",
      "zh-CHS": "新的BGP演讲者还应准备好接收来自旧BGP演讲者的AS4_聚合器属性以及聚合器属性。当接收到两个属性时，如果聚合器属性中的AS编号不是AS_TRANS，则："
    },
    {
      "indent": 6,
      "text": "- the AS4_AGGREGATOR attribute and the AS4_PATH attribute SHALL be ignored,",
      "zh-CHS": "- 应忽略AS4_聚合器属性和AS4_路径属性，"
    },
    {
      "indent": 6,
      "text": "- the AGGREGATOR attribute SHALL be taken as the information about the aggregating node, and",
      "zh-CHS": "- 聚合器属性应作为有关聚合节点的信息，并且"
    },
    {
      "indent": 6,
      "text": "- the AS_PATH attribute SHALL be taken as the AS path information.",
      "zh-CHS": "- AS_路径属性应作为AS路径信息。"
    },
    {
      "indent": 3,
      "text": "Otherwise,",
      "zh-CHS": "否则"
    },
    {
      "indent": 6,
      "text": "- the AGGREGATOR attribute SHALL be ignored,",
      "zh-CHS": "- 应忽略聚合器属性，"
    },
    {
      "indent": 6,
      "text": "- the AS4_AGGREGATOR attribute SHALL be taken as the information about the aggregating node, and",
      "zh-CHS": "- AS4_聚合器属性应作为聚合节点的信息，以及"
    },
    {
      "indent": 6,
      "text": "- the AS path information would need to be constructed, as in all other cases.",
      "zh-CHS": "- 与所有其他情况一样，需要构造AS路径信息。"
    },
    {
      "indent": 3,
      "text": "In order to construct the AS path information, it would be necessary to first calculate the number of AS numbers in the AS_PATH and AS4_PATH attributes using the method specified in Section 9.1.2.2 [BGP] and [RFC3065] for route selection.",
      "zh-CHS": "为了构建AS路径信息，首先需要使用第9.1.2.2节[BGP]和[RFC3065]中规定的路由选择方法计算AS_路径和AS4_路径属性中的AS编号数量。"
    },
    {
      "indent": 3,
      "text": "If the number of AS numbers in the AS_PATH attribute is less than the number of AS numbers in the AS4_PATH attribute, then the AS4_PATH attribute SHALL be ignored, and the AS_PATH attribute SHALL be taken as the AS path information.",
      "zh-CHS": "如果AS_路径属性中的AS编号数量小于AS4_路径属性中的AS编号数量，则应忽略AS4_路径属性，并将AS_路径属性作为AS路径信息。"
    },
    {
      "indent": 3,
      "text": "If the number of AS numbers in the AS_PATH attribute is larger than or equal to the number of AS numbers in the AS4_PATH attribute, then the AS path information SHALL be constructed by taking as many AS numbers and path segments as necessary from the leading part of the AS_PATH attribute, and then prepending them to the AS4_PATH attribute so that the AS path information has an identical number of AS numbers as the AS_PATH attribute. Note that a valid AS_CONFED_SEQUENCE or AS_CONFED_SET path segment SHALL be prepended if it is either the leading path segment or adjacent to a path segment that is prepended.",
      "zh-CHS": "如果AS_路径属性中AS编号的数量大于或等于AS4_路径属性中AS编号的数量，则AS路径信息应通过从AS_路径属性的前导部分获取所需数量和路径段来构建，然后将它们预先添加到AS4_路径属性，以便AS路径信息具有与AS_路径属性相同数量的AS编号。请注意，如果有效的AS_CONFED_序列或AS_CONFED_集合路径段是前导路径段或与预先指定的路径段相邻，则应预先指定该路径段。"
    },
    {
      "indent": 0,
      "text": "5. Handling BGP Communities",
      "section_title": true,
      "zh-CHS": "5. 处理BGP社区"
    },
    {
      "indent": 3,
      "text": "As specified in [RFC1997], when the high-order two-octets of the community attribute is neither 0x0000 nor 0xffff, these two octets encode the Autonomous System number. Quite clearly this would not work for BGP speakers that use 4-octets Autonomous System numbers. Such BGP speakers should use the Four-octet AS Specific Extended Communities [AS-EXT-COM] instead.",
      "zh-CHS": "如[RFC1997]所述，当community属性的高阶两个八位字节既不是0x0000也不是0xffff时，这两个八位字节编码自治系统编号。很明显，这不适用于使用4-octets自治系统编号的BGP扬声器。此类BGP演讲者应使用四个八位组作为特定的扩展社区[AS-EXT-COM]。"
    },
    {
      "indent": 0,
      "text": "6. Transition",
      "section_title": true,
      "zh-CHS": "6. 过渡"
    },
    {
      "indent": 3,
      "text": "The scheme described in this document allows a gradual transition from 2-octet AS numbers to 4-octet AS numbers. One can upgrade one Autonomous System or one BGP speaker at a time.",
      "zh-CHS": "本文件中描述的方案允许从2-八位组作为数字逐渐过渡到4-八位组作为数字。一次可以升级一个自治系统或一个BGP扬声器。"
    },
    {
      "indent": 3,
      "text": "To simplify transition, this document assumes that an Autonomous System could start using a 4-octet AS number only after all the BGP speakers within that Autonomous System have been upgraded to support 4-octet AS numbers.",
      "zh-CHS": "为了简化转换，本文档假设只有在自治系统内的所有BGP扬声器升级到支持4-octet作为数字后，自治系统才能开始使用4-octet作为数字。"
    },
    {
      "indent": 3,
      "text": "An OLD BGP speaker MUST NOT use AS_TRANS as its Autonomous System number.",
      "zh-CHS": "旧的BGP扬声器不得使用AS_TRANS作为其自主系统编号。"
    },
    {
      "indent": 3,
      "text": "A non-mappable 4-octet AS number cannot be used as a \"Member AS Number\" of a BGP Confederation until all the BGP speakers within the Confederation have transitioned to support 4-octet AS numbers.",
      "zh-CHS": "不可映射的4-octet AS编号不能用作BGP联盟的“成员AS编号”，除非联盟内的所有BGP扬声器都已转换为支持4-octet AS编号。"
    },
    {
      "indent": 3,
      "text": "In an environment where an Autonomous System that has OLD BGP speakers peers with two or more Autonomous Systems that have NEW BGP speakers and use AS_TRANS (rather than having a globally unique AS number), use of Multi-Exit Discriminators by the Autonomous System",
      "zh-CHS": "在具有旧BGP扬声器的自治系统与具有新BGP扬声器并使用AS_TRANS（而不是具有全局唯一AS编号）的两个或多个自治系统对等的环境中，自治系统使用多出口鉴别器"
    },
    {
      "indent": 3,
      "text": "with the OLD speakers may result in a situation where Multi-Exit Discriminator will influence route selection among the routes that were received from different neighboring Autonomous Systems.",
      "zh-CHS": "对于旧扬声器，可能导致多出口鉴别器将影响从不同相邻自治系统接收的路由中的路由选择的情况。"
    },
    {
      "indent": 3,
      "text": "Under certain conditions, it may not be possible to reconstruct the entire AS path information from the AS_PATH and the AS4_PATH attributes of a route. This occurs when two or more routes that carry the AS4_PATH attribute are aggregated by an OLD BGP speaker, and the AS4_PATH attribute of at least one of these routes carries at least one 4-octet AS number (as oppose to a 2-octet AS number that is encoded in 4 octets). When such aggregation results in creating a route that is less specific than any of the component routes (route whose Network Layer Reachability Information (NLRI) covers NLRI of all the component routes), loss of the AS path information does not create a risk of a routing loop. In all other cases, loss of the AS path information does create a risk of a routing loop.",
      "zh-CHS": "在某些情况下，可能无法从路由的AS_路径和AS4_路径属性重建整个AS路径信息。当两个或多个带有AS4_路径属性的路由被一个旧BGP扬声器聚合，并且这些路由中至少一个的AS4_路径属性带有至少一个4八位组作为编号（与编码在4八位组中的2八位组作为编号相反）时，就会发生这种情况。当这种聚合导致创建的路由不如任何组件路由（其网络层可达性信息（NLRI）覆盖所有组件路由的NLRI）具体时，AS路径信息的丢失不会产生路由循环的风险。在所有其他情况下，AS路径信息的丢失确实会产生路由循环的风险。"
    },
    {
      "indent": 0,
      "text": "7. IANA Considerations",
      "section_title": true,
      "zh-CHS": "7. IANA考虑"
    },
    {
      "indent": 3,
      "text": "This document expands the pool for AS numbers from 0 - 65535 to 0 - 4294967295. The AS numbers are managed by the IANA \"Autonomous System Numbers\" registry. Other than expanding the AS number pool, this document does not propose any modifications to the existing policies and procedures pertaining to the AS number allocation.",
      "zh-CHS": "本文档将AS编号的池从0-65535扩展到0-4294967295。AS编号由IANA“自主系统编号”注册表管理。除扩展AS编号池外，本文件不建议对与AS编号分配相关的现有政策和程序进行任何修改。"
    },
    {
      "indent": 3,
      "text": "This document uses a BGP Capability code to indicate that a BGP speaker supports the 4-octet AS numbers. The Capability Code 65 has been assigned by IANA per RFC 2842.",
      "zh-CHS": "本文档使用BGP功能代码表示BGP扬声器支持4位八位组作为数字。IANA根据RFC 2842分配了能力代码65。"
    },
    {
      "indent": 3,
      "text": "In addition, this document introduces two new BGP optional transitive attributes, and their type codes have been assigned by the IANA. The first one is the AS4_PATH attribute, value 17, which preserves the AS path information with 4-octet AS numbers across old BGP speakers. The second one is the AS4_AGGREGATOR attribute, value 18, which is similar in use to the current AGGREGATOR attribute, but it carries a 4-octet AS number.",
      "zh-CHS": "此外，本文档还介绍了两个新的BGP可选传递属性，其类型代码已由IANA分配。第一个是AS4_路径属性，值17，它在旧的BGP扬声器中使用4个八位组作为数字保留AS路径信息。第二个是AS4_AGGREGATOR属性，值18，与当前AGGREGATOR属性的用法类似，但它携带了一个4个八位组作为数字。"
    },
    {
      "indent": 3,
      "text": "Finally, this document introduces a reserved 2-octet AS number -- AS_TRANS. The AS number 23456 has been assigned by the IANA for AS_TRANS.",
      "zh-CHS": "最后，本文引入了一个保留的2-octet作为数字——AS_TRANS。IANA已为AS_TRANS分配AS编号23456。"
    },
    {
      "indent": 0,
      "text": "8. Security Considerations",
      "section_title": true,
      "zh-CHS": "8. 安全考虑"
    },
    {
      "indent": 3,
      "text": "This extension to BGP does not change the underlying security issues inherent in the existing BGP, except for the following:",
      "zh-CHS": "BGP的此扩展不会改变现有BGP固有的基本安全问题，但以下情况除外："
    },
    {
      "indent": 3,
      "text": "The inconsistency between the AS_PATH attribute and the AS4_PATH attribute can create loss of the AS path information, and potential routing loops in certain cases as discussed in the document. This could be exploited by an attacker.",
      "zh-CHS": "AS_路径属性和AS4_路径属性之间的不一致会造成AS路径信息的丢失，并在某些情况下造成潜在的路由循环，如本文档所述。攻击者可能会利用此漏洞。"
    },
    {
      "indent": 0,
      "text": "9. Acknowledgments",
      "section_title": true,
      "zh-CHS": "9. 致谢"
    },
    {
      "indent": 3,
      "text": "The authors would like to thank Yakov Rekhter, Chaitanya Kodeboyina, and Jeffrey Haas for the numerous discussions that went into the making of this document.",
      "zh-CHS": "作者要感谢雅科夫·雷赫特、柴坦尼亚·科德博伊纳和杰弗里·哈斯在编写本文件过程中进行的大量讨论。"
    },
    {
      "indent": 0,
      "text": "10. Normative References",
      "section_title": true,
      "zh-CHS": "10. 规范性引用文件"
    },
    {
      "indent": 3,
      "text": "[BGP] Rekhter, Y., Ed., Li, T., Ed., and S. Hares, Ed., \"A Border Gateway Protocol 4 (BGP-4)\", RFC 4271, January 2006.",
      "zh-CHS": "[BGP]Rekhter，Y.，Ed.，Li，T.，Ed.，和S.Hares，Ed.，“边境网关协议4（BGP-4）”，RFC 42712006年1月。"
    },
    {
      "indent": 3,
      "text": "[RFC1997] Chandra, R., Traina, P., and T. Li, \"BGP Communities Attribute\", RFC 1997, August 1996.",
      "zh-CHS": "[RFC1997]Chandra，R.，Traina，P.，和T.Li，“BGP社区属性”，RFC 1997，1996年8月。"
    },
    {
      "indent": 3,
      "text": "[RFC3392] Chandra, R. and J. Scudder, \"Capabilities Advertisement with BGP-4\", RFC 3392, November 2002.",
      "zh-CHS": "[RFC3392]Chandra，R.和J.Scudder，“BGP-4的能力广告”，RFC 3392，2002年11月。"
    },
    {
      "indent": 3,
      "text": "[RFC3065] Traina, P., McPherson, D., and J. Scudder, \"Autonomous System Confederations for BGP\", RFC 3065, February 2001.",
      "zh-CHS": "[RFC3065]Traina，P.，McPherson，D.，和J.Scudder，“BGP自治系统联合会”，RFC 3065，2001年2月。"
    },
    {
      "indent": 3,
      "text": "[RFC2119] Bradner, S., \"Key words for use in RFCs to Indicate Requirement Levels\", BCP 14, RFC 2119, March 1997.",
      "zh-CHS": "[RFC2119]Bradner，S.，“RFC中用于表示需求水平的关键词”，BCP 14，RFC 2119，1997年3月。"
    },
    {
      "indent": 0,
      "text": "11. Informative References",
      "section_title": true,
      "zh-CHS": "11. 资料性引用"
    },
    {
      "indent": 3,
      "text": "[AS-EXT-COM] Rekhter, Y., Ramachandra, S., and D. Tappan, \"Four-octet AS Specific BGP Extended Community\", Work in Progress, April 2007.",
      "zh-CHS": "[AS-EXT-COM]Y.Rekhter、S.Ramachandra和D.Tappan，“四个八位组作为特定的BGP扩展社区”，正在进行的工作，2007年4月。"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "zh-CHS": "作者地址"
    },
    {
      "indent": 3,
      "text": "Quaizar Vohra Juniper Networks 1194 N.Mathilda Ave Sunnyvale, CA 94089",
      "zh-CHS": "加利福尼亚州桑尼维尔市马蒂尔达大道北1194号奎扎尔·沃赫拉Juniper Networks，邮编94089"
    },
    {
      "indent": 3,
      "text": "EMail: quaizar.vohra@gmail.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 3,
      "text": "Enke Chen Cisco Systems, Inc. 170 W. Tasman Dr. San Jose, CA 95134",
      "zh-CHS": "Enke Chen思科系统公司170 W.Tasman Dr.San Jose，CA 95134"
    },
    {
      "indent": 3,
      "text": "EMail: enkechen@cisco.com",
      "raw": true,
      "zh-CHS": " "
    },
    {
      "indent": 0,
      "text": "Full Copyright Statement",
      "zh-CHS": "完整版权声明"
    },
    {
      "indent": 3,
      "text": "Copyright (C) The IETF Trust (2007).",
      "zh-CHS": "版权所有（C）IETF信托基金（2007年）。"
    },
    {
      "indent": 3,
      "text": "This document is subject to the rights, licenses and restrictions contained in BCP 78, and except as set forth therein, the authors retain all their rights.",
      "zh-CHS": "本文件受BCP 78中包含的权利、许可和限制的约束，除其中规定外，作者保留其所有权利。"
    },
    {
      "indent": 3,
      "text": "This document and the information contained herein are provided on an \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.",
      "zh-CHS": "本文件及其包含的信息以“原样”为基础提供，贡献者、他/她所代表或赞助的组织（如有）、互联网协会、IETF信托基金和互联网工程任务组不承担任何明示或暗示的担保，包括但不限于任何保证，即使用本文中的信息不会侵犯任何权利，或对适销性或特定用途适用性的任何默示保证。"
    },
    {
      "indent": 0,
      "text": "Intellectual Property",
      "zh-CHS": "知识产权"
    },
    {
      "indent": 3,
      "text": "The IETF takes no position regarding the validity or scope of any Intellectual Property Rights or other rights that might be claimed to pertain to the implementation or use of the technology described in this document or the extent to which any license under such rights might or might not be available; nor does it represent that it has made any independent effort to identify any such rights. Information on the procedures with respect to rights in RFC documents can be found in BCP 78 and BCP 79.",
      "zh-CHS": "IETF对可能声称与本文件所述技术的实施或使用有关的任何知识产权或其他权利的有效性或范围，或此类权利下的任何许可可能或可能不可用的程度，不采取任何立场；它也不表示它已作出任何独立努力来确定任何此类权利。有关RFC文件中权利的程序信息，请参见BCP 78和BCP 79。"
    },
    {
      "indent": 3,
      "text": "Copies of IPR disclosures made to the IETF Secretariat and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementers or users of this specification can be obtained from the IETF on-line IPR repository at http://www.ietf.org/ipr.",
      "zh-CHS": "向IETF秘书处披露的知识产权副本和任何许可证保证，或本规范实施者或用户试图获得使用此类专有权利的一般许可证或许可的结果，可从IETF在线知识产权存储库获取，网址为http://www.ietf.org/ipr."
    },
    {
      "indent": 3,
      "text": "The IETF invites any interested party to bring to its attention any copyrights, patents or patent applications, or other proprietary rights that may cover technology that may be required to implement this standard. Please address the information to the IETF at ietf-ipr@ietf.org.",
      "zh-CHS": "IETF邀请任何相关方提请其注意任何版权、专利或专利申请，或其他可能涵盖实施本标准所需技术的专有权利。请将信息发送至IETF的IETF-ipr@ietf.org."
    },
    {
      "indent": 0,
      "text": "Acknowledgement",
      "zh-CHS": "确认"
    },
    {
      "indent": 3,
      "text": "Funding for the RFC Editor function is currently provided by the Internet Society.",
      "zh-CHS": "RFC编辑功能的资金目前由互联网协会提供。"
    }
  ]
}