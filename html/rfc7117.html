<!DOCTYPE html>

<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name='description' content="RFC 7117: Multicast in Virtual Private LAN Service (VPLS)中文翻译 中文RFC RFC文档 RFC翻译 RFC中文版">
  <title>RFC 7117: Multicast in Virtual Private LAN Service (VPLS)中文翻译</title>

  <link rel="shortcut icon" type="image/x-icon"
    href="favicon.ico" />

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="master.css">
  <script src="index.js"></script>
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?b7f7721ebaa11b23aaf77df0590e7f4a";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  <script data-ad-client="ca-pub-9129771189441092" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  
</head>
<body>
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC2CN</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="about.html">关于</a>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">7117</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc7117">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <div class="row">
      <div id="rfc_header" class="col-sm-12 col-md-12">
        <div class="alert alert-info" role="alert">
          <h1 class="alert-heading">RFC 7117: Multicast in Virtual Private LAN Service (VPLS) 中文翻译</h1>
          <span class="URL">URL :
            <a href="https://datatracker.ietf.org/doc/html/rfc7117">
              https://datatracker.ietf.org/doc/html/rfc7117
            </a>
          </span><br>
          <span class="title_ja">
            标题 : <strong>RFC 7117</strong></span><br>
          <span class="updated_by">翻译类型 : 自动生成</span><br>
        </div>
      </div>
      <div id="rfc_alert" class="col-sm-12 col-md-12 hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                  R. Aggarwal, Ed.
Request for Comments: 7117                              Juniper Networks
Category: Standards Track                                      Y. Kamite
ISSN: 2070-1721                                       NTT Communications
                                                                 L. Fang
                                                               Microsoft
                                                              Y. Rekhter
                                                        Juniper Networks
                                                           C. Kodeboniya
                                                           February 2014
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                  R. Aggarwal, Ed.
Request for Comments: 7117                              Juniper Networks
Category: Standards Track                                      Y. Kamite
ISSN: 2070-1721                                       NTT Communications
                                                                 L. Fang
                                                               Microsoft
                                                              Y. Rekhter
                                                        Juniper Networks
                                                           C. Kodeboniya
                                                           February 2014
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
Multicast in Virtual Private LAN Service (VPLS)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
虚拟专用LAN服务（VPLS）中的多播
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
摘要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFCs 4761 and 4762 describe a solution for Virtual Private LAN Service (VPLS) multicast that relies on the use of point-to-point or multipoint-to-point unicast Label Switched Paths (LSPs) for carrying multicast traffic. This solution has certain limitations for certain VPLS multicast traffic profiles. For example, it may result in highly non-optimal bandwidth utilization when a large amount of multicast traffic is to be transported.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFCs 4761和4762描述了一种虚拟专用LAN服务（VPLS）多播解决方案，该方案依赖于使用点对点或多点对点单播标签交换路径（LSP）来承载多播流量。此解决方案对某些VPLS多播流量配置文件有一定的限制。例如，当要传输大量多播流量时，它可能导致高度非最佳带宽利用率。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes solutions for overcoming a subset of the limitations of the existing VPLS multicast solution. It describes procedures for VPLS multicast that utilize multicast trees in the service provider (SP) network. The solution described in this document allows sharing of one such multicast tree among multiple VPLS instances. Furthermore, the solution described in this document allows a single multicast tree in the SP network to carry traffic belonging only to a specified set of one or more IP multicast streams from one or more VPLS instances.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档描述了克服现有VPLS多播解决方案局限性的解决方案。它描述了利用服务提供商（SP）网络中的多播树的VPLS多播过程。本文档中描述的解决方案允许在多个VPLS实例之间共享一个这样的多播树。此外，本文档中描述的解决方案允许SP网络中的单个多播树承载来自一个或多个VPLS实例的仅属于一个或多个IP多播流的指定集合的流量。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
关于下段备忘
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This is an Internet Standards Track document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
这是一份互联网标准跟踪文件。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 5741.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件是互联网工程任务组（IETF）的产品。它代表了IETF社区的共识。它已经接受了公众审查，并已被互联网工程指导小组（IESG）批准出版。有关互联网标准的更多信息，请参见RFC 5741第2节。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc7117.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
有关本文件当前状态、任何勘误表以及如何提供反馈的信息，请访问http://www.rfc-editor.org/info/rfc7117.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
版权公告
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (c) 2014 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
版权所有（c）2014 IETF信托基金和确定为文件作者的人员。版权所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件受BCP 78和IETF信托有关IETF文件的法律规定的约束(http://trustee.ietf.org/license-info)自本文件出版之日起生效。请仔细阅读这些文件，因为它们描述了您对本文件的权利和限制。从本文件中提取的代码组件必须包括信托法律条款第4.e节中所述的简化BSD许可证文本，并提供简化BSD许可证中所述的无担保。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document may contain material from IETF Documents or IETF Contributions published or made publicly available before November 10, 2008. The person(s) controlling the copyright in some of this material may not have granted the IETF Trust the right to allow modifications of such material outside the IETF Standards Process. Without obtaining an adequate license from the person(s) controlling the copyright in such materials, this document may not be modified outside the IETF Standards Process, and derivative works of it may not be created outside the IETF Standards Process, except to format it for publication as an RFC or to translate it into languages other than English.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件可能包含2008年11月10日之前发布或公开的IETF文件或IETF贡献中的材料。控制某些材料版权的人员可能未授予IETF信托允许在IETF标准流程之外修改此类材料的权利。在未从控制此类材料版权的人员处获得充分许可的情况下，不得在IETF标准流程之外修改本文件，也不得在IETF标准流程之外创建其衍生作品，除了将其格式化以RFC形式发布或将其翻译成英语以外的其他语言。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目录
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
   1. Introduction ....................................................4
   2. Terminology .....................................................5
      2.1. Specification of Requirements ..............................6
   3. Overview ........................................................6
      3.1. Inclusive and Selective Multicast Trees ....................7
      3.2. BGP-Based VPLS Membership Auto-discovery ...................8
      3.3. IP Multicast Group Membership Discovery ....................8
      3.4. Advertising P-Multicast Tree to VPLS/C-Multicast Binding ...9
      3.5. Aggregation ...............................................10
      3.6. Inter-AS VPLS Multicast ...................................11
   4. Intra-AS Inclusive P-Multicast Tree Auto-discovery/Binding .....12
      4.1. Originating Intra-AS VPLS A-D Routes ......................13
      4.2. Receiving Intra-AS VPLS A-D Routes ........................14
   5. Demultiplexing P-Multicast Tree Traffic ........................15
      5.1. One P-Multicast Tree - One VPLS Mapping ...................15
      5.2. One P-Multicast Tree - Many VPLS Mapping ..................15
   6. Establishing P-Multicast Trees .................................16
      6.1. Common Procedures .........................................16
      6.2. RSVP-TE P2MP LSPs .........................................16
           6.2.1. P2MP TE LSP - VPLS Mapping .........................17
      6.3. Receiver-Initiated P2MP LSP ...............................18
           6.3.1. P2MP LSP - VPLS Mapping ............................18
      6.4. Encapsulation of Aggregate P-Multicast Trees ..............18
   7. Inter-AS Inclusive P-Multicast Tree A-D/Binding ................18
      7.1. VSIs on the ASBRs .........................................19
           7.1.1. Option (a): VSIs on the ASBRs ......................19
           7.1.2. Option (e): VSIs on the ASBRs ......................20
      7.2. Option (b) - Segmented Inter-AS Trees .....................20
           7.2.1. Segmented Inter-AS Trees VPLS Inter-AS
                  A-D/Binding ........................................20
           7.2.2. Propagating BGP VPLS A-D Routes to Other
                  ASes: Overview .....................................21
                  7.2.2.1. Propagating Intra-AS VPLS A-D
                           Routes in EBGP ............................23
                  7.2.2.2. Inter-AS A-D Route Received via EBGP ......23
                  7.2.2.3. Leaf A-D Route Received via EBGP ..........25
                  7.2.2.4. Inter-AS A-D Route Received via IBGP ......25
      7.3. Option (c): Non-segmented Tunnels .........................26
   8. Optimizing Multicast Distribution via Selective Trees ..........27
      8.1. Protocol for Switching to Selective Trees .................29
      8.2. Advertising (C-S, C-G) Binding to a Selective Tree ........30
      8.3. Receiving S-PMSI A-D Routes by PEs ........................32
      8.4. Inter-AS Selective Tree ...................................34
           8.4.1. VSIs on the ASBRs ..................................35
                  8.4.1.1. VPLS Inter-AS Selective Tree A-D Binding ..35
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
   1. Introduction ....................................................4
   2. Terminology .....................................................5
      2.1. Specification of Requirements ..............................6
   3. Overview ........................................................6
      3.1. Inclusive and Selective Multicast Trees ....................7
      3.2. BGP-Based VPLS Membership Auto-discovery ...................8
      3.3. IP Multicast Group Membership Discovery ....................8
      3.4. Advertising P-Multicast Tree to VPLS/C-Multicast Binding ...9
      3.5. Aggregation ...............................................10
      3.6. Inter-AS VPLS Multicast ...................................11
   4. Intra-AS Inclusive P-Multicast Tree Auto-discovery/Binding .....12
      4.1. Originating Intra-AS VPLS A-D Routes ......................13
      4.2. Receiving Intra-AS VPLS A-D Routes ........................14
   5. Demultiplexing P-Multicast Tree Traffic ........................15
      5.1. One P-Multicast Tree - One VPLS Mapping ...................15
      5.2. One P-Multicast Tree - Many VPLS Mapping ..................15
   6. Establishing P-Multicast Trees .................................16
      6.1. Common Procedures .........................................16
      6.2. RSVP-TE P2MP LSPs .........................................16
           6.2.1. P2MP TE LSP - VPLS Mapping .........................17
      6.3. Receiver-Initiated P2MP LSP ...............................18
           6.3.1. P2MP LSP - VPLS Mapping ............................18
      6.4. Encapsulation of Aggregate P-Multicast Trees ..............18
   7. Inter-AS Inclusive P-Multicast Tree A-D/Binding ................18
      7.1. VSIs on the ASBRs .........................................19
           7.1.1. Option (a): VSIs on the ASBRs ......................19
           7.1.2. Option (e): VSIs on the ASBRs ......................20
      7.2. Option (b) - Segmented Inter-AS Trees .....................20
           7.2.1. Segmented Inter-AS Trees VPLS Inter-AS
                  A-D/Binding ........................................20
           7.2.2. Propagating BGP VPLS A-D Routes to Other
                  ASes: Overview .....................................21
                  7.2.2.1. Propagating Intra-AS VPLS A-D
                           Routes in EBGP ............................23
                  7.2.2.2. Inter-AS A-D Route Received via EBGP ......23
                  7.2.2.3. Leaf A-D Route Received via EBGP ..........25
                  7.2.2.4. Inter-AS A-D Route Received via IBGP ......25
      7.3. Option (c): Non-segmented Tunnels .........................26
   8. Optimizing Multicast Distribution via Selective Trees ..........27
      8.1. Protocol for Switching to Selective Trees .................29
      8.2. Advertising (C-S, C-G) Binding to a Selective Tree ........30
      8.3. Receiving S-PMSI A-D Routes by PEs ........................32
      8.4. Inter-AS Selective Tree ...................................34
           8.4.1. VSIs on the ASBRs ..................................35
                  8.4.1.1. VPLS Inter-AS Selective Tree A-D Binding ..35
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
           8.4.2. Inter-AS Segmented Selective Trees .................35
                  8.4.2.1. Handling S-PMSI A-D Routes by ASBRs .......36
                           8.4.2.1.1. Merging Selective Tree
                                      into an Inclusive Tree .........37
           8.4.3. Inter-AS Non-segmented Selective Trees .............38
   9. BGP Extensions .................................................38
      9.1. Inclusive Tree/Selective Tree Identifier ..................38
      9.2. MCAST-VPLS NLRI ...........................................39
           9.2.1. S-PMSI A-D Route ...................................40
           9.2.2. Leaf A-D Route .....................................41
   10. Aggregation Considerations ....................................41
   11. Data Forwarding ...............................................43
      11.1. MPLS Tree Encapsulation ..................................43
           11.1.1. Mapping Multiple VPLS Instances to a P2MP LSP .....43
           11.1.2. Mapping One VPLS Instance to a P2MP LSP ...........44
   12. VPLS Data Packet Treatment ....................................45
   13. Security Considerations .......................................46
   14. IANA Considerations ...........................................47
   15. References ....................................................47
      15.1. Normative References .....................................47
      15.2. Informative References ...................................48
   16. Acknowledgments ...............................................50
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
           8.4.2. Inter-AS Segmented Selective Trees .................35
                  8.4.2.1. Handling S-PMSI A-D Routes by ASBRs .......36
                           8.4.2.1.1. Merging Selective Tree
                                      into an Inclusive Tree .........37
           8.4.3. Inter-AS Non-segmented Selective Trees .............38
   9. BGP Extensions .................................................38
      9.1. Inclusive Tree/Selective Tree Identifier ..................38
      9.2. MCAST-VPLS NLRI ...........................................39
           9.2.1. S-PMSI A-D Route ...................................40
           9.2.2. Leaf A-D Route .....................................41
   10. Aggregation Considerations ....................................41
   11. Data Forwarding ...............................................43
      11.1. MPLS Tree Encapsulation ..................................43
           11.1.1. Mapping Multiple VPLS Instances to a P2MP LSP .....43
           11.1.2. Mapping One VPLS Instance to a P2MP LSP ...........44
   12. VPLS Data Packet Treatment ....................................45
   13. Security Considerations .......................................46
   14. IANA Considerations ...........................................47
   15. References ....................................................47
      15.1. Normative References .....................................47
      15.2. Informative References ...................................48
   16. Acknowledgments ...............................................50
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. 介绍
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4761] and [RFC4762] describe a solution for VPLS multicast/broadcast that relies on the use of pseudowires transported over unicast point-to-point (P2P) RSVP Traffic Engineering (RSVP-TE) or multipoint-to-point (MP2P) LDP Label Switched Paths (LSPs) ([RFC3209] [RFC5036]). In this document, we refer to this solution as &#34;ingress replication&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4761]和[RFC4762]描述了一种VPLS多播/广播解决方案，该解决方案依赖于使用通过单播点对点（P2P）RSVP流量工程（RSVP-TE）或多点对点（MP2P）LDP标签交换路径（LSP）（[RFC3209][RFC5036]）传输的伪线。在本文档中，我们将此解决方案称为“入口复制”。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
With ingress replication, when an ingress Provider Edge (PE) of a given VPLS instance receives a multicast/broadcast packet from one of the Customer Edges (CEs) that belong to that instance, the ingress PE replicates the packet for each egress PE that belong to that instance, and it sends the packet to each such egress PE using unicast tunnels.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于入口复制，当给定VPLS实例的入口提供者边缘（PE）从属于该实例的客户边缘（CE）之一接收多播/广播分组时，入口PE为属于该实例的每个出口PE复制该分组，并使用单播隧道将该分组发送给每个这样的出口PE。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The solution based on ingress replication has certain limitations for certain VPLS multicast/broadcast traffic profiles. For example, it may result in highly non-optimal bandwidth utilization in the MPLS network when a large amount of multicast/broadcast traffic is to be transported (for more see [RFC5501]).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
基于入口复制的解决方案对某些VPLS多播/广播流量配置文件有一定的限制。例如，当要传输大量多播/广播业务时，它可能导致MPLS网络中的高度非最佳带宽利用率（更多信息，请参阅[RFC5501]）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Ingress replication may be an acceptable model when the bandwidth of the multicast/broadcast traffic is low and/or there is a small number of replications performed on each outgoing interface for a particular VPLS customer multicast stream. If this is not the case, it is desirable to utilize multicast trees in the SP network to transmit VPLS multicast and/or broadcast packets [RFC5501].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当多播/广播流量的带宽较低和/或在特定VPLS客户多播流的每个传出接口上执行少量复制时，入口复制可能是可接受的模型。如果情况并非如此，则希望利用SP网络中的多播树来传输VPLS多播和/或广播分组[RFC5501]。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes procedures for overcoming the limitations of existing VPLS multicast solutions. It describes procedures for using MPLS point-to-multipoint (P2MP) LSPs in the SP network to transport VPLS multicast and/or broadcast packets, where these LSPs are signaled by either P2MP RSVP-TE [RFC4875] or Multipoint LDP (mLDP) [RFC6388].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档描述了克服现有VPLS多播解决方案局限性的过程。它描述了在SP网络中使用MPLS点对多点（P2MP）LSP传输VPLS多播和/或广播数据包的过程，其中这些LSP由P2MP RSVP-TE[RFC4875]或多点LDP（mLDP）[RFC6388]发出信号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The procedures described in this document are applicable to both [RFC4761] and [RFC4762].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件中描述的程序适用于[RFC4761]和[RFC4762]。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. Terminology
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. 术语
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document uses terminology described in [RFC4761] and [RFC4762].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件使用[RFC4761]和[RFC4762]中描述的术语。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this document, we refer to various auto-discovery routes, as &#34;A-D routes&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在本文档中，我们将各种自动发现路由称为“A-D路由”。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document uses the prefix &#39;C&#39; to refer to the customer control or data packets and &#39;P&#39; to refer to the provider control or data packets. An IP (multicast source, multicast group) tuple is abbreviated to (S, G).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档使用前缀“C”表示客户控件或数据包，“P”表示提供商控件或数据包。IP（多播源，多播组）元组缩写为（S，G）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An &#34;Inclusive tree&#34; is a single multicast distribution tree in the SP network that carries all the multicast traffic from one VPLS instance on a given PE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
“包含树”是SP网络中的单个多播分发树，它承载来自给定PE上一个VPLS实例的所有多播流量。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An &#34;Aggregate Inclusive tree&#34; is a single multicast distribution tree in the SP network that carries all the multicast traffic from more than one VPLS instance on a given PE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
“聚合包含树”是SP网络中的单个多播分发树，它承载来自给定PE上多个VPLS实例的所有多播流量。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A &#34;Selective tree&#34; is a single multicast distribution tree in the SP network that carries multicast traffic belonging only to a specified set of IP multicast streams, and all these streams belong to the same VPLS instance on a given PE. A Selective tree differs from an Inclusive tree in that it may reach a subset of the PEs reached by an Inclusive tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
“选择性树”是SP网络中的单个多播分发树，其承载的多播流量仅属于指定的一组IP多播流，并且所有这些流都属于给定PE上的同一VPLS实例。选择性树与包容性树的不同之处在于，它可以到达包容性树所到达的PE的子集。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An &#34;Aggregate Selective tree&#34; is a single multicast distribution tree in the SP network that carries multicast traffic belonging only to a specified set of IP multicast streams, and all these streams belong to more than one VPLS instance on a given PE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
“聚合选择树”是SP网络中的单个多播分发树，其承载的多播流量仅属于指定的一组IP多播流，并且所有这些流都属于给定PE上的多个VPLS实例。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.1. Specification of Requirements
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.1. 需求说明
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this document are to be interpreted as described in [RFC2119].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件中的关键词“必须”、“不得”、“必需”、“应”、“不应”、“应”、“不应”、“建议”、“可”和“可选”应按照[RFC2119]中所述进行解释。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. Overview
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. 概述
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Procedures described in this document provide mechanisms that allow a single multicast distribution tree in the SP network to carry all the multicast traffic from one or more VPLS sites connected to a given PE, irrespective of whether these sites belong to the same or different VPLS instances. We refer to such a tree as an &#34;Inclusive tree&#34; if it carries multicast traffic from one VPLS instance on a given PE. We refer to such a tree as an &#34;Aggregate Inclusive tree&#34; if it carries multicast traffic from more than one VPLS instance on a given PE. See the &#34;Inclusive and Selective Multicast Trees&#34; section for further discussion on Inclusive trees.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档中描述的过程提供了允许SP网络中的单个多播分发树承载来自连接到给定PE的一个或多个VPLS站点的所有多播流量的机制，而不管这些站点是否属于相同或不同的VPLS实例。如果这种树承载来自给定PE上一个VPLS实例的多播流量，我们将其称为“包含树”。如果这种树承载来自给定PE上多个VPLS实例的多播流量，我们将其称为“聚合包含树”。有关包容性树的进一步讨论，请参见“包容性和选择性多播树”部分。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To further improve bandwidth utilization for IP multicast streams, this document also provides procedures by which a single multicast distribution tree in the SP network can be used to carry traffic belonging only to a specified set of IP multicast streams, originated in one or more VPLS sites connected to a given PE, irrespective of whether these sites belong to the same or different VPLS instances. We refer to such a tree as a &#34;Selective tree&#34; if it carries the IP multicast stream(s) that belongs to the same VPLS instance on a given PE. We refer to such a tree as an &#34;Aggregate Selective tree&#34; if it carries the IP multicast streams that belong to different VPLS instances on a given PE. Use of Selective and/or Aggregate Selective trees allows multicast traffic, by default, to be carried on an Inclusive tree, while traffic from some specific IP multicast streams, e.g., high-bandwidth streams, could be carried on one of the Selective trees. See the &#34;Inclusive and Selective Multicast Trees&#34; section for further discussion on Selective trees.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
为了进一步提高IP多播流的带宽利用率，本文档还提供了一些程序，通过这些程序，SP网络中的单个多播分发树可用于承载来自连接到给定PE的一个或多个VPLS站点的仅属于指定IP多播流集的流量，无论这些站点是否属于相同或不同的VPLS实例。如果一棵树承载的IP多播流属于给定PE上的同一VPLS实例，我们将其称为“选择性树”。如果这种树承载属于给定PE上不同VPLS实例的IP多播流，我们将其称为“聚合选择树”。默认情况下，使用选择性和/或聚合选择性树允许在包含性树上承载多播流量，而来自某些特定IP多播流（例如，高带宽流）的流量可以在选择性树之一上承载。有关选择性多播树的进一步讨论，请参阅“包容性和选择性多播树”部分。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that this document covers the use of Selective trees only for carrying IP multicast streams. Any other use of such trees is outside the scope of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
请注意，本文档介绍了仅用于承载IP多播流的选择性树的使用。此类树木的任何其他用途不在本文件范围内。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Unicast packets destined to unknown Media Access Control (MAC) addresses (i.e., not learned yet at the ingress PE) in a given VPLS instance are flooded to remote PEs participating in the same VPLS instance. This flooding MAY still use ingress replication (as specified in [RFC4761] and [RFC4762]), or MAY use the procedures defined in this document to optimize flooding across the SP core.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在给定的VPLS实例中，发送到未知媒体访问控制（MAC）地址（即，在入口PE处尚未读入）的单播分组被淹没到参与相同VPLS实例的远程PE。此泛洪仍然可以使用入口复制（如[RFC4761]和[RFC4762]中所述），或者可以使用本文档中定义的过程来优化SP核心上的泛洪。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
While the use of multicast trees in the SP network can be beneficial when the bandwidth of the multicast traffic is high, or when it is desirable to optimize the number of copies of a multicast packet transmitted on a given link, this benefit comes at a cost of state in the SP network to build multicast trees and overhead to maintain this state.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
虽然当多播业务的带宽较高时，或者当期望优化在给定链路上传输的多播分组的副本数量时，在SP网络中使用多播树是有益的，但是该益处以SP网络中建立多播树的状态和维持该状态的开销为代价。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1. Inclusive and Selective Multicast Trees
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1. 包含和选择性多播树
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Multicast trees used for VPLS can be of two types:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
用于VPL的多播树可以有两种类型：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ Inclusive trees. This option supports the use of a single multicast distribution tree, referred to as an &#34;Inclusive P-multicast tree&#34;, in the SP network to carry all the multicast traffic from a specified set of VPLS sites connected to a given PE. There is no assumption made with respect to whether or not this traffic is IP encapsulated. A particular P-multicast tree can be set up to carry the traffic originated by sites belonging to a single VPLS instance or to carry the traffic originated by sites belonging to different VPLS instances. In the context of this document, the ability to carry the traffic of more than one VPLS instance on the same P-multicast tree is called &#34;aggregation&#34;. The tree includes every PE that is a member of any of the VPLS instances that are using the tree. This implies that a PE may receive multicast traffic for a multicast stream even if it doesn&#39;t have any receivers that are interested in receiving traffic for that stream.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 包容的树。此选项支持在SP网络中使用单个多播分发树（称为“包含性P多播树”），以承载来自连接到给定PE的指定VPLS站点集的所有多播流量。对于该通信量是否是IP封装的，不存在任何假设。可以建立一个特定的P-多播树来承载由属于单个VPLS实例的站点发起的流量，或者承载由属于不同VPLS实例的站点发起的流量。在本文档的上下文中，在同一个P多播树上承载多个VPLS实例的流量的能力称为“聚合”。该树包括作为使用该树的任何VPLS实例的成员的每个PE。这意味着PE可以接收多播流的多播流量，即使它没有任何对接收该流的流量感兴趣的接收器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
An Inclusive P-multicast tree, as defined in this document, is a P2MP tree. Thus, a P2MP tree is used to carry traffic only from VPLS sites that are connected to the PE that is the root of the tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
本文档中定义的包容性P多播树是P2MP树。因此，P2MP树仅用于承载连接到树根PE的VPLS站点的流量。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ Selective trees. A Selective P-multicast tree is used by a PE to send IP multicast traffic for one or more specific IP multicast streams, received by the PE over PE-CE interfaces that belong to the same or different VPLS instances, to a subset of the PEs that belong to those VPLS instances. Each of the PEs in the subset should be on the path to a receiver of one or more multicast streams that are mapped onto the tree. In the context of this document, the ability to use the same P-multicast tree for multicast streams that belong to different VPLS instances is called &#34;aggregation&#34;. The reason for having Selective P-multicast trees is to provide a PE the ability to create separate SP multicast trees for specific multicast streams, e.g., high-bandwidth multicast streams. This allows traffic for these
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 选择性树木。PE使用选择性P多播树将PE通过属于相同或不同VPLS实例的PE-CE接口接收的一个或多个特定IP多播流的IP多播流量发送到属于这些VPLS实例的PE子集。子集中的每个PE应位于映射到树上的一个或多个多播流的接收器的路径上。在本文档的上下文中，对属于不同VPLS实例的多播流使用相同的P多播树的能力称为“聚合”。具有选择性P多播树的原因是为PE提供为特定多播流（例如，高带宽多播流）创建单独的SP多播树的能力。这就允许了这些服务的流量
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
multicast streams to reach only those PE routers that have receivers for these streams. This avoids flooding other PE routers in the VPLS instance.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
多播流仅到达那些具有这些流接收器的PE路由器。这避免了在VPLS实例中淹没其他PE路由器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An SP can use both Inclusive P-multicast trees and Selective P-multicast trees or either of them for a given VPLS on a PE, based on local configuration. Inclusive P-multicast trees can be used for both IP and non-IP data multicast traffic, while Selective P-multicast trees, as previously stated, must be used only for IP multicast data traffic. The use of Selective P-multicast trees for non-IP multicast traffic is outside the scope of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SP可以基于本地配置，对PE上的给定VPL使用包含性P多播树和选择性P多播树，或者使用其中任何一种。包容性P多播树可用于IP和非IP数据多播流量，而选择性P多播树，如前所述，必须仅用于IP多播数据流量。对非IP多播流量使用选择性P多播树不在本文档范围内。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
P-multicast trees in the SP network can be realized via a variety of technologies. For both Inclusive and Selective P-multicast trees, these technologies include P2MP LSPs created by RSVP-TE or mLDP. This document also describes the data plane encapsulations for supporting these technologies. Other technologies for realizing P-multicast trees are outside the scope of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SP网络中的P组播树可以通过多种技术实现。对于包容性和选择性P多播树，这些技术包括由RSVP-TE或mLDP创建的P2MP LSP。本文档还描述了支持这些技术的数据平面封装。用于实现P多播树的其他技术不在本文档的范围内。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2. BGP-Based VPLS Membership Auto-discovery
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2. 基于BGP的VPLS成员身份自动发现
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Inclusive P-multicast trees may be established for one or more VPLS instances. In this case, aggregation can be performed (using either mLDP or P2MP RSVP-TE as the tunneling technology) or simple tunneling can be performed (using P2MP RSVP-TE tunneling). If either of these approaches is used, the PE acting as the root of a P2MP LSP must be able to discover the other PEs that have membership of each of the VPLS instances. Once the root PE discovers these other PEs, it includes them as leaves in the P-multicast tree (i.e., P2MP LSP). This document uses the BGP-based procedures described in [RFC4761] and [RFC6074] for discovering the VPLS membership of all PEs. For more on aggregation, see the &#34;Aggregation Considerations&#34; section. When no aggregation is performed and the tunneling technology is mLDP, then the root of the P2MP LSP need not discover the other PEs that are the leaves of that LSP tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
可以为一个或多个VPLS实例建立包含性P多播树。在这种情况下，可以执行聚合（使用mLDP或P2MP RSVP-TE作为隧道技术）或执行简单隧道（使用P2MP RSVP-TE隧道）。如果使用这两种方法中的任何一种，作为P2MP LSP根的PE必须能够发现具有每个VPLS实例成员资格的其他PE。一旦根PE发现这些其他PE，它就会将它们作为叶子包含在P多播树（即P2MP LSP）中。本文件使用[RFC4761]和[RFC6074]中描述的基于BGP的程序来发现所有PE的VPLS成员资格。有关聚合的更多信息，请参阅“聚合注意事项”部分。当未执行聚合且隧道技术为mLDP时，P2MP LSP的根不需要发现作为该LSP树的叶子的其他PE。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The leaves of the Inclusive P-multicast tree must also be able to auto-discover the identifier of the tree (note that this applies when the tree is established by either mLDP or P2MP RSVP-TE). Procedures to accomplish this are described in the &#34;Advertising P-Multicast Tree to VPLS/C-Multicast Binding&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
包容性P-多播树的叶子还必须能够自动发现树的标识符（注意，这适用于由mLDP或P2MP RSVP-TE建立树的情况）。实现这一点的步骤在“将P-多播树发布到VPLS/C-多播绑定”一节中描述。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3. IP Multicast Group Membership Discovery
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3. IP组播组成员发现
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The setup of a Selective P-multicast tree for one or more IP multicast (C-S, C-G)s, requires the ingress PE to learn the PEs that have receivers in one or more of these (C-S, C-G)s, in the following cases:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在以下情况下，为一个或多个IP多播（C-S，C-G）设置选择性P多播树需要入口PE学习在其中一个或多个（C-S，C-G）中具有接收器的PE：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ When aggregation is used (with either mLDP or P2MP RSVP-TE as the tunneling technology), OR
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 使用聚合时（使用mLDP或P2MP RSVP-TE作为隧道技术），或
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ When the tunneling technology is P2MP RSVP-TE
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 当隧道技术为P2MP RSVP-TE时
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ If ingress replication is used and the ingress PE wants to send traffic for (C-S, C-G)s to only those PEs that are on the path to receivers for the (C-S, C-G)s.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 如果使用入口复制，且入口PE希望仅将（C-S，C-G）的流量发送到（C-S，C-G）接收器路径上的那些PE。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For more on aggregation, see the &#34;Aggregation Considerations&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
有关聚合的更多信息，请参阅“聚合注意事项”部分。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For discovering the IP multicast group membership, this document describes procedures that allow an ingress PE to enable explicit tracking of IP multicast membership. Thus, an ingress PE can request the IP multicast membership from egress PEs for one or more C-multicast streams. These procedures are described in the &#34;Optimizing Multicast Distribution via Selective Trees&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
为了发现IP多播组成员身份，本文档描述了允许入口PE显式跟踪IP多播成员身份的过程。因此，入口PE可以针对一个或多个C多播流从出口PE请求IP多播成员资格。这些过程在“通过选择性树优化多播分发”一节中进行了描述。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
These procedures are applicable when IGMP ([RFC2236] [RFC3376]) or MLD ([RFC2710] [RFC3810]) is used as the multicast signaling protocol between the VPLS CEs. They are also applicable when PIM ([RFC4601]) in either the Any-Source Multicast (ASM) or the Source-Specific Multicast (SSM) service model is used as the multicast routing protocol between the VPLS CEs, and PIM join suppression is disabled on all the CEs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当使用IGMP（[RFC2236][RFC3376]）或MLD（[RFC2710][RFC3810]）作为VPLS CE之间的多播信令协议时，这些程序适用。当任意源多播（ASM）或源特定多播（SSM）服务模型中的PIM（[RFC4601]）用作VPLS CE之间的多播路由协议，并且在所有CE上禁用PIM加入抑制时，它们也适用。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
However, these procedures do not apply when PIM is used as the multicast routing protocol between the VPLS CEs and PIM join suppression is not disabled on all the CEs. This is because when PIM join suppression is not disabled on all the CEs, PEs connected to these CEs can not rely on PIM to determine IP multicast membership of the receivers behind these CEs. Procedures for this case are outside the scope of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
但是，当PIM用作VPLS CE之间的多播路由协议，并且PIM加入抑制未在所有CE上禁用时，这些过程不适用。这是因为当PIM加入抑制未在所有CE上禁用时，连接到这些CE的PE不能依赖PIM来确定这些CE后面的接收器的IP多播成员资格。本案例的程序不在本文件的范围内。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The leaves of the Selective P-multicast trees must also be able to discover the identifier of these trees. Procedures to accomplish this are described in the &#34;Advertising P-Multicast Tree to VPLS/C-Multicast Binding&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
选择性P-多播树的叶子也必须能够发现这些树的标识符。实现这一点的步骤在“将P-多播树发布到VPLS/C-多播绑定”一节中描述。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.4. Advertising P-Multicast Tree to VPLS/C-Multicast Binding
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.4. 广告P-多播树到VPLS/C-多播绑定
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes procedures based on BGP VPLS Auto-Discovery (A-D) routes ([RFC4761] [RFC6074]) that are used by the root of an Aggregate P-multicast tree to advertise the Inclusive or Selective P-multicast tree binding and the demultiplexing information to the
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档描述了基于BGP VPLS自动发现（A-D）路由（[RFC4761][RFC6074]）的过程，聚合P-多播树的根使用该路由将包含或选择性P-多播树绑定和解复用信息发布到
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
leaves of the tree. This document uses the Provider Multicast Service Interface (PMSI) Tunnel attribute defined [RFC6514] for this purpose.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
树叶。本文档使用为此目的定义的[RFC6514]提供程序多播服务接口（PMSI）隧道属性。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Once an ingress PE decides to bind a set of VPLS instances or customer multicast groups to an Inclusive P-multicast tree or a Selective P-multicast tree, the PE needs to announce this binding to other PEs in the network. This procedure is referred to as &#34;Inclusive P-multicast tree binding distribution&#34; or &#34;Selective P-multicast tree binding distribution&#34; and is performed using BGP. The decision to bind a set of VPLS instances or customer multicast groups is a local matter to the ingress, and is controlled via provisioning/configuration on that PE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
一旦入口PE决定将一组VPLS实例或客户多播组绑定到包含性P多播树或选择性P多播树，则PE需要向网络中的其他PE宣布此绑定。此过程称为“包含性P多播树绑定分发”或“选择性P多播树绑定分发”，使用BGP执行。绑定一组VPLS实例或客户多播组的决定是入口的本地事务，并通过该PE上的供应/配置进行控制。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an Aggregated Inclusive P-multicast tree is used by an ingress PE, this binding distribution implies that (a) an ingress PE MUST announce the binding of all VPLS instances bound to the Inclusive P-multicast tree and (b) other PEs that have these instances receive these announcements. The inner label assigned by the ingress PE for each VPLS MUST be included if more than one VPLS is bound to the same P-multicast tree. The Inclusive P-multicast tree Identifier MUST be included.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当入口PE使用聚合的包容性P多播树时，此绑定分布意味着（a）入口PE必须宣布绑定到包容性P多播树的所有VPLS实例的绑定，以及（b）具有这些实例的其他PE接收这些通知。如果多个VPL绑定到同一个P多播树，则必须包括入口PE为每个VPL分配的内部标签。必须包含包含的P多播树标识符。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For a Selective P-multicast tree, this binding distribution implies announcing all the specific &lt;C-S, C-G&gt; entries bound to this P-multicast tree along with the Selective P-multicast tree Identifier. The inner label assigned for each &lt;C-S, C-G&gt; MUST be included if &lt;C-S, C-G&gt; from different VPLS instances are bound to the same P-multicast tree. The labels MUST be distinct on a per-VPLS basis and MAY be distinct per &lt;C-S, C-G&gt; entry. The Selective P-multicast tree Identifier MUST be included.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于选择性P多播树，此绑定分布意味着宣布绑定到此P多播树的所有特定&lt;C-S，C-G&gt;条目以及选择性P多播树标识符。如果来自不同VPLS实例的&lt;C-S，C-G&gt;绑定到同一个P-多播树，则必须包括为每个&lt;C-S，C-G&gt;分配的内部标签。每个VPLS的标签必须不同，并且每个&lt;C-S，C-G&gt;条目的标签可能不同。必须包括选择性P多播树标识符。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.5. Aggregation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.5. 聚集
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As described earlier in this document, the ability to carry the traffic of more than one VPLS on the same P-multicast tree is called aggregation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如本文档前面所述，在同一个P多播树上承载多个VPL的流量的能力称为聚合。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Aggregation enables the SP to place a bound on the amount of multicast tree forwarding and control plane state that the P-routers must have. Let us call the number of VPLS instances aggregated onto a single P-multicast tree the &#34;Aggregation Factor&#34;. When Inclusive source P-multicast trees are used, the number of trees that a PE is the root of is proportional to the number of VPLS instances on the PE divided by the Aggregation Factor.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
聚合使SP能够对多播树转发量和P路由器必须具有的控制平面状态进行绑定。让我们将聚合到单个P多播树上的VPLS实例数称为“聚合因子”。当使用包含源P多播树时，PE作为其根的树的数量与PE上VPLS实例的数量除以聚合因子成正比。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this case, the state maintained by a P-router is proportional to:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在这种情况下，由P路由器维持的状态与：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
        AveVPLS            NPE
        -------    X    --------
          Aggr          AvePTree
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
        AveVPLS            NPE
        -------    X    --------
          Aggr          AvePTree
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Where:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
哪里：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
AveVPLS is the average number of VPLS instances on a PE
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
AveVPLS是PE上VPLS实例的平均数
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Aggr is the Aggregation Factor
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Aggr是聚合因子
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
NPE is the number of PEs
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
NPE是PEs的数量
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
AvePTree is the average number of P-multicast that transit a given P-router
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
AvePTree是通过给定P路由器的P多播的平均数量
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Thus, the state does not grow linearly with the number of VPLS instances.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
因此，状态不会随着VPLS实例的数量线性增长。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Aggregation requires a mechanism for the egresses of the P-multicast tree to demultiplex the multicast traffic received over the P-multicast tree. To enable the egress nodes to perform this demultiplexing, upstream-assigned labels [RFC5331] MUST be assigned and distributed by the root of the aggregate P-multicast tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
聚合需要一种机制，用于P-多播树的出口将通过P-多播树接收的多播流量解复用。为了使出口节点能够执行此解复用，上游分配的标签[RFC5331]必须由聚合P多播树的根分配和分发。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Aggregation procedures would require two MPLS labels in the label stack. This does not introduce any new implications on MTU, as even VPLS multicast supported by ingress replication requires two MPLS labels in the label stack.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
聚合过程需要标签堆栈中有两个MPLS标签。这不会对MTU产生任何新的影响，因为即使入口复制支持的VPLS多播也需要在标签堆栈中使用两个MPLS标签。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.6. Inter-AS VPLS Multicast
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.6. 作为VPLS组播的Inter-AS
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document defines four models of inter-AS (Autonomous System) VPLS service, referred here as options (a), (b), (c), and (e). Options (a), (b), and (c) defined in this document are very similar to methods (a), (b), and (c), described in the &#34;Multi-AS VPLS&#34; section of [RFC4761], which in turn extends the concepts of [RFC4364] to inter-AS VPLS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件定义了四种AS（自治系统）VPLS服务模型，此处称为选项（a）、（b）、（c）和（e）。本文件中定义的选项（a）、（b）和（c）与[RFC4761]中“多AS VPL”一节中描述的方法（a）、（b）和（c）非常相似，这反过来又将[RFC4364]的概念扩展到了内部AS VPL。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For option (a) and option (b) support, this document specifies a model where inter-AS VPLS service can be offered without requiring a single P-multicast tree to span multiple ASes. There are two variants of this model, and they are described in the &#34;Inter-AS Inclusive P-Multicast Tree A-D/Binding&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于选项（a）和选项（b）支持，本文档指定了一种模型，在该模型中，可以提供AS间VPLS服务，而不需要单个P多播树来跨越多个ASE。该模型有两种变体，它们在“Inter-AS Inclusive P-Multicast Tree A-D/Binding”一节中进行了描述。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For option (c) support, this document specifies a model where inter-AS VPLS service is offered by requiring a single P-multicast tree to span multiple ASes. This is because in the case of option (c), the Autonomous System Border Routers (ASBRs) do not exchange BGP-VPLS Network Layer Reachability Information (NLRI) or A-D routes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于选项（c）支持，本文档指定了一个模型，其中通过要求单个P多播树跨越多个ASE来提供inter-AS VPLS服务。这是因为在选项（c）的情况下，自治系统边界路由器（ASBR）不交换BGP-VPLS网络层可达性信息（NLRI）或A-D路由。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In addition to options (a), (b), and (c), this document also specifies option (e), which one may think of as a variant of option (a).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
除了选项（a）、（b）和（c），本文件还规定了选项（e），人们可以将其视为选项（a）的变体。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For more on these inter-AS options, see the &#34;Inter-AS Inclusive P-Multicast Tree A-D/Binding&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
有关这些AS间选项的更多信息，请参阅“包含AS间的P多播树A-D/Binding”部分。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. Intra-AS Inclusive P-Multicast Tree Auto-discovery/Binding
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. 包含内部AS的P多播树自动发现/绑定
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section specifies procedures for the intra-AS auto-discovery of VPLS membership and the distribution of information used to instantiate P-multicast Tunnels.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节规定了内部AS自动发现VPLS成员资格的过程，以及用于实例化P多播隧道的信息分发。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
VPLS auto-discovery/binding consists of two components: intra-AS and inter-AS. The former provides VPLS auto-discovery/binding within a single AS. The latter provides VPLS auto-discovery/binding across multiple ASes. Inter-AS auto-discovery/binding is described in the &#34;Inter-AS Inclusive P-Multicast Tree A-D/Binding&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
VPLS自动发现/绑定由两个组件组成：内部AS和内部AS。前者在单个AS中提供VPLS自动发现/绑定。后者提供跨多个ASE的VPLS自动发现/绑定。Inter-AS自动发现/绑定在“Inter-AS Inclusive P-Multicast Tree A-D/binding”一节中介绍。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   VPLS auto-discovery using BGP, as described in [RFC4761] and
   [RFC6074], enables a PE to learn the VPLS instance membership of
   other PEs.  A PE that belongs to a particular VPLS instance announces
   a BGP NLRI that identifies the Virtual Switch Instance (VSI).  This
   NLRI is constructed from the &lt;Route Distinguisher (RD), VPLS Edge
   Device Identifier (VE-ID)&gt; tuple.  The NLRI defined in [RFC4761]
   comprises the &lt;RD, VE-ID&gt; tuple and label blocks for pseudowire (PW)
   signaling.  The VE-ID in this case is a two-octet number encoded in
   the VE-ID of NLRI defined in [RFC4761].  The NLRI defined in
   [RFC6074] comprises only the &lt;RD, PE_addr&gt;.  The VE-ID in this case
   is a four-octet number encoded in the PE_addr of the NLRI defined in
   [RFC6074].
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   VPLS auto-discovery using BGP, as described in [RFC4761] and
   [RFC6074], enables a PE to learn the VPLS instance membership of
   other PEs.  A PE that belongs to a particular VPLS instance announces
   a BGP NLRI that identifies the Virtual Switch Instance (VSI).  This
   NLRI is constructed from the &lt;Route Distinguisher (RD), VPLS Edge
   Device Identifier (VE-ID)&gt; tuple.  The NLRI defined in [RFC4761]
   comprises the &lt;RD, VE-ID&gt; tuple and label blocks for pseudowire (PW)
   signaling.  The VE-ID in this case is a two-octet number encoded in
   the VE-ID of NLRI defined in [RFC4761].  The NLRI defined in
   [RFC6074] comprises only the &lt;RD, PE_addr&gt;.  The VE-ID in this case
   is a four-octet number encoded in the PE_addr of the NLRI defined in
   [RFC6074].
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The procedures for constructing Inclusive Intra-AS and Inter-AS trees, as specified in this document, require the BGP A-D NLRI to carry only the &lt;RD, VE-ID&gt;. Hence, these procedures can be used for both BGP-VPLS and LDP-VPLS with BGP A-D.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如本文件所述，构建包容性内部AS和内部AS树的过程要求BGP A-D NLRI仅携带&lt;RD，VE-ID&gt;。因此，这些程序可用于BGP-VPLS和带有BGP A-D的LDP-VPLS。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is to be noted that BGP A-D is an inherent feature of BGP-VPLS. However, it is not an inherent feature of LDP-VPLS. In fact, there are deployments and/or implementations of LDP-VPLS that require configuration to enable a PE in a particular VPLS to determine other PEs in the VPLS and exchange PW labels using Forwarding Equivalence
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
需要注意的是，BGP A-D是BGP-VPLS的固有特性。然而，这不是LDP-VPLS的固有特征。事实上，LDP-VPL的部署和/或实现需要配置，以使特定VPL中的PE能够确定VPL中的其他PE，并使用转发等价性交换PW标签
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Class (FEC) 128 (PWid FEC) [RFC4447]. The use of BGP A-D for LDP-VPLS [RFC6074], to enable automatic setup of PWs, requires FEC 129 (Generalized PWid FEC) [RFC4447]. However, FEC 129 is not required in order to use procedures in this document for LDP-VPLS. An LDP-VPLS implementation that supports this document MUST support the BGP A-D procedures to set up P-multicast trees, as described here, and it MAY support FEC 129 to automate the signaling of PWs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
类别（FEC）128（PWid FEC）[RFC4447]。LDP-VPLS[RFC6074]使用BGP A-D实现PWs的自动设置需要FEC 129（通用PWid FEC）[RFC4447]。然而，本文件中的程序用于LDP-VPLS不需要FEC 129。支持本文档的LDP-VPLS实现必须支持BGP A-D过程以建立P-多播树，如本文所述，并且它可以支持FEC 129以自动化PWs的信令。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1. Originating Intra-AS VPLS A-D Routes
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1. 作为VPLS A-D路由发起的内部路由
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To participate in the VPLS auto-discovery/binding, a PE router that has a given VSI of a given VPLS instance originates a BGP VPLS Intra-AS A-D route and advertises this route in Multiprotocol (MP) IBGP. The route is constructed as described in [RFC4761] and [RFC6074].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
为了参与VPLS自动发现/绑定，具有给定VPLS实例的给定VSI的PE路由器发起BGP VPLS Intra AS a-D路由，并在多协议（MP）IBGP中公布该路由。路线按照[RFC4761]和[RFC6074]中所述进行建造。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The route carries a single Layer 2 Virtual Private Network (L2VPN) NLRI with the RD set to the RD of the VSI and the VE-ID set to the VE-ID of the VSI. The route also carries one or more Route Targets (RTs), as specified in [RFC4761] and [RFC6074].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
该路由承载一个单层2虚拟专用网络（L2VPN）NLRI，RD设置为VSI的RD，VE-ID设置为VSI的VE-ID。按照[RFC4761]和[RFC6074]的规定，该路线还承载一个或多个路线目标（RTs）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If an Inclusive P-multicast tree is used to instantiate the provider tunnel for VPLS multicast on the PE, the advertising PE MUST advertise the type and the identity of the P-multicast tree in the PMSI Tunnel attribute. This attribute is described in the &#34;Inclusive Tree/Selective Tree Identifier&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果使用包含性P多播树为PE上的VPLS多播实例化提供者隧道，则播发PE必须在PMSI隧道属性中播发P多播树的类型和标识。该属性在“包含树/选择性树标识符”部分中进行了描述。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A PE that uses an Inclusive P-multicast tree to instantiate the provider tunnel MAY aggregate two or more VPLS instances present on the PE onto the same tree. If the PE decides to perform aggregation after it has already advertised the intra-AS VPLS A-D routes for these VPLS instances, then aggregation requires the PE to re-advertise these routes. The re-advertised routes MUST be the same as the original ones, except for the PMSI Tunnel attribute (the re-advertised route will replace the previously advertised route). If the PE has not previously advertised Intra-AS A-D routes for these VPLS instances, then the aggregation requires the PE to advertise (new) Intra-AS A-D routes for these VPLS instances. The PMSI Tunnel attribute in the newly advertised/re-advertised routes MUST carry the identity of the P-multicast tree that aggregates the VPLS instances as well as an MPLS upstream-assigned label [RFC5331]. Each re-advertised or newly advertised route MUST have a label that is distinct within the scope of the PE that advertises the route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
使用包含性P多播树来实例化提供者隧道的PE可以将PE上存在的两个或多个VPLS实例聚合到同一棵树上。如果PE在已经为这些VPLS实例通告内部AS VPLS A-D路由之后决定执行聚合，则聚合要求PE重新通告这些路由。重新公布的路由必须与原始路由相同，但PMSI隧道属性除外（重新公布的路由将替换以前公布的路由）。如果PE之前没有为这些VPLS实例播发内部A-D路由，则聚合要求PE为这些VPLS实例播发（新的）内部A-D路由。新公布/重新公布的路由中的PMSI隧道属性必须携带聚合VPLS实例的P多播树的标识以及MPLS上游分配的标签[RFC5331]。每个重新公布或新公布的路由必须有一个在公布路由的PE范围内不同的标签。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Discovery of PE capabilities in terms of what tunnel types they support is outside the scope of this document. Within a given AS, PEs participating in a VPLS are expected to advertise tunnel bindings whose tunnel types are supported by all other PEs that are participating in this VPLS and are part of the same AS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
根据PE支持的隧道类型发现PE功能超出了本文档的范围。在给定的AS中，参与VPLS的PE预计会公布隧道绑定，其隧道类型受参与此VPLS的所有其他PE支持，并且是与相同的AS的一部分。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2. Receiving Intra-AS VPLS A-D Routes
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2. 接收内部AS VPLS A-D路由
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a PE receives a BGP Update message that carries an Intra-AS A-D route such that (a) the route was originated by some other PE within the same AS as the local PE, (b) at least one of the RTs of the route matches one of the import RTs configured for a particular VSI on the local PE, (c) the BGP route selection determines that this is the best route with respect to the NLRI carried by the route, and (d) the route carries the PMSI Tunnel attribute, the PE performs the following:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当PE接收到携带内部AS a-D路由的BGP更新消息时，使得（a）该路由是由与本地PE相同的内部的某个其他PE发起的，（b）该路由的至少一个RTs与为本地PE上的特定VSI配置的一个导入RTs相匹配，（c）BGP路由选择确定这是相对于路由携带的NLRI的最佳路由，并且（d）路由携带PMSI隧道属性，PE执行以下操作：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ If the Tunnel Type in the PMSI Tunnel attribute is set to LDP P2MP LSP, the PE SHOULD join the P-multicast tree whose identity is carried in the PMSI Tunnel attribute.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 如果PMSI隧道属性中的隧道类型设置为LDP P2MP LSP，则PE应加入P多播树，其标识在PMSI隧道属性中携带。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ If the Tunnel Type in the PMSI Tunnel attribute is set to RSVP-TE P2MP LSP, the receiving PE has to establish the appropriate state to properly handle the traffic received over that LSP. The PE that originated the route MUST establish an RSVP-TE P2MP LSP with the local PE as a leaf. This LSP MAY have been established before the local PE receives the route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 如果PMSI隧道属性中的隧道类型设置为RSVP-TE P2MP LSP，则接收PE必须建立适当的状态，以正确处理通过该LSP接收的流量。发起路由的PE必须以本地PE作为叶建立RSVP-TE P2MP LSP。该LSP可能在本地PE接收路由之前建立。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ If the PMSI Tunnel attribute does not carry a label, then all packets that are received on the P-multicast tree, as identified by the PMSI Tunnel attribute, are forwarded using the VSIs that have at least one of their import RTs that matches one of the RTs of the received A-D route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 如果PMSI隧道属性未携带标签，则使用VSI转发在P-多播树上接收的所有数据包（由PMSI隧道属性标识），VSI至少具有一个与接收到的a-D路由的一个RTs匹配的导入RTs。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ If the PMSI Tunnel attribute has the Tunnel Type set to LDP P2MP LSP or RSVP-TE P2MP LSP, and the attribute also carries an MPLS label, then the egress PE MUST treat this as an upstream-assigned label, and all packets that are received on the P-multicast tree, as identified by the PMSI Tunnel attribute, with that upstream label are forwarded using the VSIs that have at least one of their import RTs that matches one of the RTs of the received Intra-AS A-D route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 如果PMSI隧道属性将隧道类型设置为LDP P2MP LSP或RSVP-TE P2MP LSP，并且该属性还携带MPLS标签，则出口PE必须将其视为上游分配的标签，以及在P-多播树上接收的所有数据包，如PMSI隧道属性所标识，使用具有至少一个其导入RTs的VSI转发该上游标签，该导入RTs与接收的帧内AS A-D路由的一个RTs匹配。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Furthermore, if the local PE uses RSVP-TE P2MP LSP for sending (multicast) traffic, originated by VPLS sites connected to the PE, to the sites attached to other PEs, then the local PE MUST use the Originating Router&#39;s IP Address information carried in the Intra-AS A-D route to add the PE, that originated the route, as a leaf node to the LSP. This MUST be done irrespective of whether or not the received Intra-AS A-D route carries the PMSI Tunnel attribute.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此外，如果本地PE使用RSVP-TE P2MP LSP将由连接到PE的VPLS站点发起的（多播）流量发送到连接到其他PE的站点，则本地PE必须使用内部AS A-D路由中携带的发起路由器的IP地址信息将发起路由的PE添加为LSP的叶节点。无论接收到的帧内AS A-D路由是否携带PMSI隧道属性，都必须执行此操作。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. Demultiplexing P-Multicast Tree Traffic
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. 解复用P-多播树流量
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Demultiplexing received VPLS traffic requires the receiving PE to determine the VPLS instance to which the packet belongs. The egress PE can then perform a VPLS lookup to further forward the packet. It also requires the egress PE to determine the identity of the ingress PE for MAC learning, as described in the &#34;VPLS Data Packet Treatment&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对接收到的VPLS流量进行解复用需要接收PE确定数据包所属的VPLS实例。出口PE然后可以执行VPLS查找以进一步转发分组。它还要求出口PE确定用于MAC学习的入口PE的身份，如“VPLS数据分组处理”部分中所述。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. One P-Multicast Tree - One VPLS Mapping
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. 一个P多播树-一个VPLS映射
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a P-multicast tree is mapped to only one VPLS, determining the tree on which the packet is received is sufficient to determine the VPLS instance on which the packet is received. The tree is determined based on the tree encapsulation. If MPLS encapsulation is used, e.g., RSVP-TE P2MP LSPs, the outer MPLS label is used to determine the tree. Penultimate Hop Popping (PHP) MUST be disabled on the MPLS LSP (RSVP-TE P2MP LSP or mLDP P2MP LSP).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当P-多播树仅映射到一个VPLS时，确定在其上接收数据包的树足以确定在其上接收数据包的VPLS实例。树是根据树封装确定的。如果使用MPLS封装，例如RSVP-TE P2MP LSP，则外部MPLS标签用于确定树。必须在MPLS LSP（RSVP-TE P2MP LSP或mLDP P2MP LSP）上禁用倒数第二跳弹出（PHP）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2. One P-Multicast Tree - Many VPLS Mapping
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2. 一个P多播树-多个VPL映射
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As traffic belonging to multiple VPLS instances can be carried over the same tree, there is a need to identify the VPLS to which the packet belongs. This is done by using an inner label that determines the VPLS for which the packet is intended. The ingress PE uses this label as the inner label while encapsulating a customer multicast data packet. Each of the egress PEs must be able to associate this inner label with the same VPLS and use it to demultiplex the traffic received over the Aggregate Inclusive tree or the Aggregate Selective tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
由于属于多个VPLS实例的流量可以在同一棵树上传输，因此需要识别数据包所属的VPLS。这是通过使用一个内部标签来完成的，该标签确定数据包要用于的VPL。入口PE在封装客户多播数据包时使用该标签作为内部标签。每个出口PE必须能够将该内部标签与相同的VPL相关联，并使用它来解复用通过聚合包含树或聚合选择树接收的流量。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If traffic from multiple VPLS instances is carried on a single tree, upstream-assigned labels [RFC5331] MUST be used. Hence, the inner label is assigned by the ingress PE. When the egress PE receives a packet over an Aggregate tree, the outer encapsulation (in the case of MPLS P2MP LSPs, the outer MPLS label) specifies the label space to perform the inner-label lookup. The same label space MUST be used by the egress PE for all P-multicast trees that have the same root [RFC5331].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果来自多个VPLS实例的流量在一棵树上传输，则必须使用上游分配的标签[RFC5331]。因此，内部标签由入口PE分配。当出口PE通过聚合树接收数据包时，外部封装（在MPLS P2MP LSP的情况下，外部MPLS标签）指定标签空间以执行内部标签查找。对于具有相同根的所有P多播树，出口PE必须使用相同的标签空间[RFC5331]。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the tree uses MPLS encapsulation, as in RSVP-TE P2MP LSPs, the outer MPLS label and, optionally, the incoming interface provide the label space of the label beneath it. This assumes that PHP is disabled. The egress PE MUST NOT advertise IMPLICIT NULL or EXPLICIT NULL for that tree once it is known to the egress PE that the tree is bound to one or more VPLS instances. Once the label representing the
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果树使用MPLS封装，如在RSVP-TE P2MP LSP中，则外部MPLS标签和（可选）传入接口提供其下标签的标签空间。这假设PHP已禁用。一旦出口PE知道该树绑定到一个或多个VPLS实例，则出口PE不得为该树播发隐式NULL或显式NULL。一旦标签代表
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
tree is popped off the MPLS label stack, the next label is the demultiplexing information that allows the proper VPLS instance to be determined.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
树从MPLS标签堆栈弹出，下一个标签是允许确定正确VPLS实例的解复用信息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The ingress PE informs the egress PEs about the inner label as part of the tree binding procedures described in the &#34;BGP Extensions&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
作为“BGP扩展”一节中描述的树绑定过程的一部分，入口PE向出口PE通知内部标签。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. Establishing P-Multicast Trees
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. 建立P-Multicast树
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document supports only P2MP P-multicast trees wherein it is possible for egress PEs to identify the ingress PE to perform MAC learning. Specific procedures are identified only for RSVP-TE P2MP LSPs and mLDP P2MP LSPs. An implementation that supports this document MUST support RSVP-TE P2MP LSPs and mLDP P2MP LSPs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档仅支持P2MP P多播树，其中出口PE可以识别入口PE以执行MAC学习。仅针对RSVP-TE P2MP LSP和mLDP P2MP LSP确定了具体程序。支持本文档的实现必须支持RSVP-TE P2MP LSP和mLDP P2MP LSP。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.1. Common Procedures
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.1. 共同程序
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following procedures apply to both RSVP-TE P2MP and mLDP P2MP LSPs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
以下程序适用于RSVP-TE P2MP和mLDP P2MP LSP。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Demultiplexing the C-multicast data packets at the egress PE requires that the PE must be able to determine the P2MP LSP on which the packets are received. This enables the egress PE to determine the VPLS instances to which the packet belongs. To achieve this, the LSP MUST be signaled with PHP off and a non-special purpose MPLS label off as described in the &#34;Demultiplexing P-Multicast Tree Traffic&#34; section. In other words, an egress PE MUST NOT advertise IMPLICIT NULL or EXPLICIT NULL for a P2MP LSP that is carrying traffic for one or more VPLS instances. This is because the egress PE needs to rely on the MPLS label, that it advertises to its upstream neighbor, to determine the P2MP LSP on which a C-multicast data packet is received.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在出口PE处解复用C多播数据分组要求PE必须能够确定接收分组的P2MP LSP。这使得出口PE能够确定数据包所属的VPLS实例。为了实现这一点，必须使用PHP off和非特殊用途MPLS标签off向LSP发送信号，如“解复用P多播树流量”部分所述。换句话说，出口PE不得为承载一个或多个VPLS实例流量的P2MP LSP播发隐式NULL或显式NULL。这是因为出口PE需要依赖其向其上游邻居播发的MPLS标签来确定接收C多播数据分组的P2MP LSP。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The egress PE also needs to identify the ingress PE to perform MAC learning. When P2MP LSPs are used as P2MP trees, determining the P2MP LSP on which the packets are received is sufficient to determine the ingress PE. This is because the ingress PE is the root of the P2MP LSP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
出口PE还需要识别入口PE以执行MAC学习。当P2MP LSP用作P2MP树时，确定在其上接收分组的P2MP LSP足以确定入口PE。这是因为入口PE是P2MP LSP的根。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The egress PE relies on receiving the PMSI Tunnel attribute in BGP to determine the VPLS instance to P2MP LSP mapping.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
出口PE依赖于接收BGP中的PMSI隧道属性来确定VPLS实例到P2MP LSP的映射。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2. RSVP-TE P2MP LSPs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2. RSVP-TE P2MP LSP
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section describes procedures that are specific to the usage of RSVP-TE P2MP LSPs for instantiating a P-multicast tree. Procedures in [RFC4875] are used to signal the P2MP LSP. The LSP is signaled as
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节描述特定于使用RSVP-TE P2MP LSP实例化P多播树的过程。[RFC4875]中的程序用于向P2MP LSP发送信号。LSP的信号为：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
the root of the P2MP LSP discovers the leaves. The egress PEs are discovered using the procedures described in the &#34;Intra-AS Inclusive P-Multicast Tree Auto-discovery/Binding&#34; section. Aggregation, as described in this document, is supported.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
P2MP LSP的根发现了叶子。使用“包含内部AS的P-多播树自动发现/绑定”部分中描述的过程发现出口PE。支持本文档中描述的聚合。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2.1. P2MP TE LSP - VPLS Mapping
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2.1. P2MP TE LSP-VPLS映射
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
P2MP TE LSP to VPLS mapping is learned at the egress PEs using BGP-based advertisements of the P2MP TE LSP - VPLS mapping. They require that the root of the tree include in the BGP advertisements the P2MP TE LSP identifier as the P-multicast tree identifier. This P-multicast tree identifier contains the following information elements:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
P2MP TE LSP到VPLS映射在出口PEs处使用P2MP TE LSP-VPLS映射的基于BGP的广告来学习。它们要求树的根在BGP播发中包含P2MP TE LSP标识符作为P多播树标识符。此P-多播树标识符包含以下信息元素：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
- The type of the tunnel is set to RSVP-TE P2MP LSP - RSVP-TE P2MP LSP&#39;s SESSION Object
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
- 隧道的类型设置为RSVP-TE P2MP LSP-RSVP-TE P2MP LSP的会话对象
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
See the &#34;Inclusive Tree/Selective Tree Identifier&#34; section for more details on how this tree identifier is carried in BGP advertisements.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
有关如何在BGP广告中携带此树标识符的更多详细信息，请参阅“包含树/选择性树标识符”部分。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Once the egress PE receives the P2MP TE LSP to VPLS mapping:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
一旦出口PE接收到P2MP TE LSP到VPLS映射：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ If the egress PE already has RSVP-TE state for the P2MP TE LSP, it MUST begin to assign an MPLS label from the non-special purpose label range, for the P2MP TE LSP and signal this to the previous hop of the P2MP TE LSP. Further, it MUST create forwarding state to forward packets received on the P2MP LSP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 如果出口PE已经具有P2MP TE LSP的RSVP-TE状态，则必须开始为P2MP TE LSP从非特殊用途标签范围分配MPLS标签，并将其发送到P2MP TE LSP的前一跳。此外，它必须创建转发状态以转发在P2MP LSP上接收的数据包。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ If the egress PE does not have RSVP-TE state for the P2MP TE LSP, it MUST retain this mapping. Subsequently, when the egress PE receives the RSVP-TE P2MP signaling message, it creates the RSVP-TE P2MP LSP state. It MUST then assign an MPLS label from the non-reserved label range, for the P2MP TE LSP, and signal this to the previous hop of the P2MP TE LSP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 如果出口PE没有P2MP TE LSP的RSVP-TE状态，则必须保留此映射。随后，当出口PE接收到RSVP-TE P2MP信令消息时，它创建RSVP-TE P2MP LSP状态。然后，它必须从非保留标签范围为P2MP TE LSP分配一个MPLS标签，并向P2MP TE LSP的上一跳发送信号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
Note that if the signaling to set up an RSVP-TE P2MP LSP is completed before a given egress PE learns, via a PMSI Tunnel attribute, of the VPLS or set of VPLS instances to which the LSP is bound, the PE MUST discard any traffic received on that LSP until the binding is received. In order for the egress PE to be able to discard such traffic, it needs to know that the LSP is associated with one or more VPLS instances and that the VPLS A-D route that binds the LSP to a VPLS has not yet been received. This is provided by extending [RFC4875] with [RFC6511].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
注意，如果设置RSVP-TE P2MP LSP的信令在给定出口PE通过PMSI隧道属性学习LSP绑定到的VPL或VPL实例集之前完成，则PE必须丢弃在该LSP上接收到的任何通信量，直到接收到绑定为止。为了使出口PE能够丢弃这样的通信量，它需要知道LSP与一个或多个VPLS实例相关联，并且将LSP绑定到VPLS的VPLS A-D路由尚未被接收。这是通过使用[RFC6511]扩展[RFC4875]来实现的。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.3. Receiver-Initiated P2MP LSP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.3. 接收机启动的P2MP LSP
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Receiver-initiated P2MP LSPs can also be used. The mLDP procedures ([RFC6388]) MUST be used to signal such LSPs. The LSP is signaled once the leaves receive the LDP FEC for the tree from the root, as described in the &#34;Intra-AS Inclusive P-Multicast Tree Auto-discovery/Binding&#34; section. When aggregation is used, an ingress PE is required to discover the egress PEs (see the &#34;Aggregation Considerations&#34; section for the rationale), and this is achieved using the procedures in the &#34;Intra-AS Inclusive P-Multicast Tree Auto-discovery/Binding&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
也可以使用接收器启动的P2MP LSP。mLDP程序（[RFC6388]）必须用于向此类LSP发送信号。一旦叶从根接收到树的LDP FEC，LSP即被发信号通知，如“内部as包容性P-多播树自动发现/绑定”部分中所述。当使用聚合时，需要入口PE来发现出口PE（有关基本原理，请参阅“聚合注意事项”部分），这是通过使用“内部AS包容性P-多播树自动发现/绑定”部分中的过程实现的。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.3.1. P2MP LSP - VPLS Mapping
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.3.1. P2MP LSP-VPLS映射
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
P2MP LSP to VPLS mapping is learned at the egress PEs using BGP-based advertisements of the P2MP LSP - VPLS mapping. They require that the root of the tree include in the BGP advertisements the P2MP LSP identifier as the P-multicast tree identifier. This P-multicast tree identifier contains the following information elements:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
P2MP LSP到VPLS映射在出口PEs处使用P2MP LSP-VPLS映射的基于BGP的广告来学习。它们要求树的根在BGP播发中包含P2MP LSP标识符作为P多播树标识符。此P-多播树标识符包含以下信息元素：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
- The type of the tunnel is set to LDP P2MP LSP - LDP P2MP FEC that includes an identifier generated by the root.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
- 隧道的类型被设置为LDP P2MP LSP-LDP P2MP FEC，其中包括根生成的标识符。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
See the &#34;Inclusive Tree/Selective Tree Identifier&#34; section for more details on how this tree identifier is carried in BGP advertisements.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
有关如何在BGP广告中携带此树标识符的更多详细信息，请参阅“包含树/选择性树标识符”部分。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Each egress PE SHOULD &#34;join&#34; the P2MP MPLS tree by sending LDP label mapping messages for the LDP P2MP FEC, that was learned in the BGP advertisement, using procedures described in [RFC6388].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
每个出口PE应通过发送LDP P2MP FEC的LDP标签映射消息“加入”P2MP MPLS树，该消息在BGP公告中学习，使用[RFC6388]中描述的过程。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.4. Encapsulation of Aggregate P-multicast Trees
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.4. 聚合P组播树的封装
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An Aggregate Inclusive P-multicast tree or an Aggregate Selective P-multicast tree MUST use MPLS encapsulation, as described in [RFC5332].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
聚合包含性P多播树或聚合选择性P多播树必须使用MPLS封装，如[RFC5332]中所述。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. Inter-AS Inclusive P-Multicast Tree A-D/Binding
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. 内部AS包含P多播树A-D/Binding
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As stated earlier, this document defines four models of inter-AS VPLS service, referred here as option (a), (b), (c), and (e). This section contains procedures to support these models.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如前所述，本文件定义了四种inter-As-VPLS服务模型，此处称为选项（a）、（b）、（c）和（e）。本节包含支持这些模型的过程。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For supporting option (a), (b), and (e), this section specifies a model where inter-AS VPLS service can be offered without requiring a single P-multicast tree to span multiple ASes. This allows individual ASes to potentially use different P-tunneling technologies. There are two variants of this model. One that
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
为了支持选项（a）、（b）和（e），本节指定了一种模型，其中可以提供AS间VPLS服务，而不需要单个P多播树来跨越多个ASE。这允许单个ASE可能使用不同的P隧道技术。该模型有两种变体。一个
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
requires MAC lookup on the ASBRs and applies to option (a) and (e). The other is one that does not require MAC lookup on the ASBRs, and instead it builds segmented Inter-AS Inclusive or Selective trees. This applies only to option (b).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
需要在ASBR上进行MAC查找，并适用于选项（a）和（e）。另一种不需要在ASBR上进行MAC查找，而是将分段的Inter构建为包含树或选择性树。这仅适用于选项（b）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For supporting option (c), this section specifies a model where Inter-AS VPLS service is offered by requiring a single Inclusive P-multicast tree to span multiple ASes. This is referred to as a &#34;non-segmented P-multicast tree&#34;. This is because in the case of option (c), the ASBRs do not exchange BGP-VPLS NLRIs or VPLS A-D routes. Support for Inter-AS Selective trees for option (c) may be segmented or non-segmented.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
为了支持选项（c），本节指定了一个模型，其中通过要求单个包含性P多播树跨越多个ASE来提供Inter-AS VPLS服务。这被称为“非分段P多播树”。这是因为在选项（c）的情况下，ASBR不交换BGP-VPLS NLRIs或VPLS A-D路由。对选项（c）的内部AS选择性树的支持可以是分段的或非分段的。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An implementation MUST support options (a), (b), and (c), and MAY support option (e). When there are multiple ways for implementing one of these options, this section specifies which one is mandatory.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
实现必须支持选项（a）、（b）和（c），并且可以支持选项（e）。当有多种方法实现其中一个选项时，本节将指定哪种方法是必需的。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1. VSIs on the ASBRs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1. ASBRs上的VSIs
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When VSIs are configured on ASBRs, the ASBRs MUST perform a MAC lookup, in addition to any MPLS lookups, to determine the forwarding decision on a VPLS packet. The P-multicast trees are confined to an AS. An ASBR on receiving a VPLS packet from another ASBR is required to perform a MAC lookup to determine how to forward the packet. Thus, an ASBR is required to keep a VSI for the VPLS instance and MUST be configured with its own VE-ID for the VPLS instance. The BGP VPLS A-D routes generated by PEs in an AS MUST NOT be propagated outside the AS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当在ASBR上配置VSI时，ASBR除了执行任何MPLS查找外，还必须执行MAC查找，以确定VPLS数据包的转发决策。P-多播树仅限于AS。ASBR从另一ASBR接收VPLS数据包时，需要执行MAC查找以确定如何转发数据包。因此，ASBR需要为VPLS实例保留VSI，并且必须为VPLS实例配置自己的VE-ID。AS中PEs生成的BGP VPLS A-D路由不得在AS之外传播。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1.1. Option (a): VSIs on the ASBRs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1.1. 选项（a）：ASBR上的VSIs
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In option (a), an ASBR acts as a PE for the VPLSs that span the AS of the ASBR and an AS to which the ASBR is connected. The local ASBR views the ASBR in the neighboring AS as a CE connected to it by a link with separate VLAN sub-interfaces for each such VPLS. Similarly, the ASBR in the neighboring AS acts as a PE for such VPLS from the neighboring AS&#39;s point of view, and views the local ASBR as a CE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在选项（a）中，ASBR充当跨越ASBR的as和ASBR所连接的as的VPLS的PE。本地ASBR将相邻的ASBR视为通过链路连接到它的CE，每个VPL都有单独的VLAN子接口。类似地，从相邻AS的角度来看，相邻AS中的ASBR充当此类VPL的PE，并将本地ASBR视为CE。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The local ASBR uses a combination of the incoming link and a particular VLAN sub-interface on that link to determine the VSI for the packets it receives from the ASBR in the neighboring AS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本地ASBR使用传入链路和该链路上的特定VLAN子接口的组合来确定其从相邻AS中的ASBR接收的数据包的VSI。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In option (a), the ASBRs do not exchange VPLS A-D routes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在选项（a）中，ASBR不交换VPLS a-D路由。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An implementation MUST support option (a).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
实现必须支持选项（a）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1.2. Option (e): VSIs on the ASBRs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1.2. 选项（e）：ASBR上的VSIs
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The VSIs on the ASBRs scheme can be used such that the interconnect between the ASBRs is a PW and MPLS encapsulation is used between the ASBRs. An ASBR in one AS determines the VSI for packets received from an adjoining ASBR in another AS based on the incoming MPLS PW label. This is referred to as &#34;option (e)&#34;. The only VPLS A-D routes that are propagated outside the AS are the ones originated by ASBRs. This MPLS PW connects the VSIs on the ASBRs and MUST be signaled using the procedures defined in [RFC4761] or [RFC4762].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
可以使用ASBR方案上的VSI，以便ASBR之间的互连是PW，并且在ASBR之间使用MPLS封装。一个AS中的ASBR根据传入的MPLS PW标签确定从另一个AS中相邻ASBR接收的数据包的VSI。这被称为“选项（e）”。在AS之外传播的唯一VPLS A-D路由是由ASBR发起的路由。此MPLS PW连接ASBR上的VSI，必须使用[RFC4761]或[RFC4762]中定义的程序发出信号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The P-multicast trees for a VPLS are confined to each AS and the VPLS auto-discovery/binding MUST follow the intra-AS procedures described in the &#34;Demultiplexing P-Multicast Tree Traffic&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
VPLS的P-多播树仅限于每个AS，并且VPLS自动发现/绑定必须遵循“解复用P-多播树流量”一节中描述的AS内过程。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An implementation MAY support option (e).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
一个实现可能支持选项（e）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2. Option (b) - Segmented Inter-AS Trees
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2. 选项（b）-分段内部AS树
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this model, an inter-AS P-multicast tree, rooted at a particular PE for a particular VPLS instance, consists of a number of &#34;segments&#34;, one per AS, which are stitched together at ASBRs. These are known as &#34;segmented inter-AS trees&#34;. Each segment of a segmented inter-AS tree may use a different multicast transport technology. In this model, an ASBR is not required to keep a VSI for the VPLS instance, and is not required to perform a MAC lookup in order to forward the VPLS packet. This implies that an ASBR is not required to be configured with a VE-ID for the VPLS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在这个模型中，一个基于特定VPLS实例的特定PE的inter-AS P-multicast树由多个“段”组成，每个“段”在asbr处缝合在一起。这些被称为“分段的中间树”。分段的内部AS树的每个段可以使用不同的多播传输技术。在此模型中，ASBR不需要为VPLS实例保留VSI，也不需要执行MAC查找以转发VPLS数据包。这意味着ASBR不需要为VPL配置VE-ID。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An implementation MUST support option (b) using this model.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
实现必须支持使用此模型的选项（b）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The construction of segmented inter-AS trees requires the BGP-VPLS A-D NLRI described in [RFC4761] and [RFC6074]. A BGP VPLS A-D route for an &lt;RD, VE-ID&gt; tuple advertised outside the AS, to which the originating PE belongs, will be referred to as an &#34;Inter-AS VPLS A-D route&#34; (though this route is originated by a PE as an intra-AS route, and is referred to as an &#34;inter-AS route outside the AS&#34;).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
分段AS树的构建需要[RFC4761]和[RFC6074]中所述的BGP-VPLS A-D NLRI。发起PE所属的AS外部播发的&lt;RD，VE-ID&gt;元组的BGP VPLS A-D路由将被称为“AS内部VPLS A-D路由”（尽管该路由由PE作为AS内部路由发起，并且被称为AS外部的“AS内部路由”）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In addition to this, segmented inter-AS trees require support for the PMSI Tunnel attribute described in the &#34;Inclusive Tree/Selective Tree Identifier&#34; section. They also require additional procedures in BGP to signal leaf A-D routes between ASBRs as explained in subsequent sections.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
除此之外，分段的内部AS树需要支持“包含树/选择性树标识符”部分中描述的PMSI隧道属性。如后续章节所述，它们还需要BGP中的附加程序来为ASBR之间的叶A-D路由发送信号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2.1. Segmented Inter-AS Trees VPLS Inter-AS A-D/Binding
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2.1. 分段内部AS树VPLS内部AS A-D/绑定
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section specifies the procedures for inter-AS VPLS A-D/binding for segmented Inter-AS trees.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节规定了分段内部AS树的内部AS VPLS A-D/绑定程序。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An ASBR must be configured to support a particular VPLS as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ASBR必须配置为支持特定VPL，如下所示：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ An ASBR MUST be configured with a set of (import) RTs that specify the set of VPLS instances supported by the ASBR. These RTs control acceptance of BGP VPLS auto-discovery routes by the ASBR. Note that instead of being configured, the ASBR MAY obtain this set of (import) RTs by using Route Target Constrain [RFC4684].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ ASBR必须配置一组（导入）RTs，用于指定ASBR支持的VPLS实例集。这些RTs控制ASBR接受BGP VPLS自动发现路由。注意，ASBR可以通过使用路由目标约束[RFC4684]来获得这组（导入）RTs，而不是进行配置。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The ASBR MUST be configured with the tunnel types for the intra-AS segments of the VPLS instances supported by the ASBR, as well as (depending on the tunnel type) the information needed to create the PMSI Tunnel attribute for these tunnel types. Note that instead of being configured, the ASBR MAY derive the tunnel types from the Intra-AS A-D routes received by the ASBR from the PEs in its own AS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ ASBR必须配置ASBR支持的VPLS实例的内部AS段的隧道类型，以及（取决于隧道类型）为这些隧道类型创建PMSI隧道属性所需的信息。注意，ASBR可以从ASBR从其自身AS中的PEs接收到的AS-D内部路由派生隧道类型，而不是进行配置。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If an ASBR is configured to support a particular VPLS instance, the ASBR MUST participate in the intra-AS VPLS auto-discovery/binding procedures for that VPLS instance within the ASBR&#39;s own AS, as defined in this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果ASBR配置为支持特定的VPLS实例，则ASBR必须参与ASBR自身AS中该VPLS实例的内部AS VPLS自动发现/绑定过程，如本文档中所定义。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Moreover, in addition to the above, the ASBR performs procedures specified in the &#34;Propagating BGP VPLS A-D Routes to Other ASes: Overview&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此外，除上述内容外，ASBR还执行“将BGP VPLS A-D路由传播到其他ASE：概述”一节中规定的程序。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2.2. Propagating BGP VPLS A-D Routes to Other ASes: Overview
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2.2. 将BGP VPLS A-D路由传播到其他ASE：概述
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A BGP VPLS A-D route for a given VPLS, originated by a PE within a given AS, is propagated via BGP to other ASes. The precise rules for distributing and processing the Inter-AS A-D routes are given in subsequent sections.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
由给定AS内的PE发起的给定VPL的BGP VPLS A-D路由通过BGP传播到其他ASE。后续章节给出了将Inter AS A-D路由分配和处理的精确规则。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Suppose that an ASBR &#34;A&#34; receives and installs a BGP VPLS A-D route for VPLS &#34;X&#34; and VE-ID &#34;V&#34; that originated at a particular PE &#34;PE1&#34; that is in the same AS as A. The BGP next hop of that received route becomes A&#39;s &#34;upstream neighbor&#34; on a multicast distribution tree for (X, V) that is rooted at PE1. Likewise, when A re-advertises this route to ASBRs in A&#39;s neighboring ASes, from the perspective of these ASBRs A becomes their &#34;upstream neighbor&#34; on the multicast distribution tree for (X, V) that is rooted at PE1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
假设ASBR“A”接收并安装源自与A相同的特定PE“PE1”的VPLS“X”和VE-ID“V”的BGP VPLS A-D路由。该接收路由的BGP下一跳成为A在根于PE1的（X，V）的多播分发树上的“上游邻居”。同样，当A向A的相邻ase中的asbr重新播发该路由时，从这些asbr的角度来看，A成为其在根于PE1的（X，V）的多播分发树上的“上游邻居”。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the BGP VPLS A-D routes have been distributed to all the necessary ASes, they define a &#34;reverse path&#34; from any AS that supports VPLS X and VE-ID V back to PE1. For instance, if AS2 supports VPLS X, then there will be a reverse path for VPLS X and VE
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当BGP VPLS A-D路由已分配给所有必要的ASE时，它们定义了从支持VPLS X和VE-ID V的任何AS到PE1的“反向路径”。例如，如果AS2支持VPLS X，那么VPLS X和VE将有一个反向路径
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ID V from AS2 to AS1. This path is a sequence of ASBRs, the first of which is in AS2 and the last of which is in AS1. Each ASBR in the sequence is the BGP next hop of the previous ASBR in the sequence.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ID V从AS2到AS1。此路径是一个ASBR序列，第一个在AS2中，最后一个在AS1中。序列中的每个ASBR都是序列中上一个ASBR的BGP下一跳。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This reverse path information can be used to construct a unidirectional multicast distribution tree for VPLS X and VE-ID V, containing all the ASes that support X, and having PE1 at the root. We call such a tree an &#34;inter-AS tree&#34;. Multicast data originating in VPLS sites for VPLS X connected to PE1 will travel downstream along the tree which is rooted at PE1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此反向路径信息可用于为VPLS X和VE-ID V构建单向多播分发树，其中包含支持X的所有ASE，根目录中有PE1。我们称这种树为“树”。源自连接到PE1的VPLS X的VPLS站点的多播数据将沿着植根于PE1的树向下游传输。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The path along an inter-AS tree is a sequence of ASBRs. It is still necessary to specify how the multicast data gets from a given ASBR to the set of ASBRs that are immediately downstream of the given ASBR along the tree. This is done by creating &#34;segments&#34;. ASBRs in adjacent ASes will be connected by inter-AS segments; ASBRs in the same AS will be connected by &#34;intra-AS segments&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
沿内部AS树的路径是一系列ASBR。仍然有必要指定多播数据如何从给定ASBR获取到树上给定ASBR下游的ASBR集。这是通过创建“段”来完成的。相邻ASE中的ASBR将通过内部AS段连接；AS中的ASBR将通过“内部AS段”连接。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For a given inter-AS tree and a given AS, there MUST be only one ASBR within that AS that accepts traffic flowing on that tree. Further, for a given inter-AS tree and a given AS, there MUST be only one ASBR in that AS that sends the traffic flowing on that tree to a particular adjacent AS. The precise rules for accomplishing this are given in subsequent sections.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于给定的内部AS树和给定的AS，该AS中必须只有一个ASBR接受该树上的流量。此外，对于给定的内部AS树和给定的AS，AS中必须只有一个ASBR将该树上的流量发送到特定的相邻AS。实现这一点的确切规则将在后续章节中给出。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An ASBR initiates creation of an intra-AS segment when the ASBR receives an Inter-AS A-D route from an External BGP (EBGP) neighbor. Creation of the segment is completed as a result of distributing, via IBGP, this route within the ASBR&#39;s own AS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当ASBR从外部BGP（EBGP）邻居接收到内部AS A-D路由时，ASBR启动内部AS段的创建。通过IBGP在ASBR自己的as内分发该路线，完成了段的创建。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For a given inter-AS tunnel, each of its intra-AS segments could be constructed by its own independent mechanism. Moreover, by using upstream-assigned labels within a given AS, multiple intra-AS segments of different inter-AS tunnels of either the same or different VPLS instances may share the same P-multicast tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于给定的内部AS隧道，每个内部AS段都可以由其自己的独立机制构造。此外，通过在给定AS内使用上游分配的标签，相同或不同VPLS实例的不同AS间隧道的多个AS内段可以共享相同的P多播树。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the P-multicast tree instantiating a particular segment of an inter-AS tunnel is created by a multicast control protocol that uses receiver-initiated joins (e.g, mLDP), and this P-multicast tree does not aggregate multiple segments, then all the information needed to create that segment will be present in the Inter-AS A-D routes received by the ASBR from the neighboring ASBR. But if the P-multicast tree instantiating the segment is created by a protocol that does not use receiver-initiated joins (e.g., RSVP-TE, ingress unicast replication), or if this P-multicast tree aggregates multiple segments (irrespective of the multicast control protocol used to
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果实例化AS间隧道特定段的P-多播树是由使用接收器发起连接（例如mLDP）的多播控制协议创建的，并且该P-多播树不聚合多个段，然后，创建该段所需的所有信息将作为ASBR从相邻ASBR接收的A-D路由出现在Inter中。但是，如果实例化该段的P-多播树是由不使用接收器发起的联接的协议（例如，RSVP-TE、入口单播复制）创建的，或者如果该P-多播树聚合多个段（与用于连接的多播控制协议无关）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
create the tree), then the ASBR needs to learn the leaves of the segment. These leaves are learned from A-D routes received from other PEs in the AS, for the same VPLS as the one to which the segment belongs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
创建树），然后ASBR需要学习段的叶子。对于与该段所属VPL相同的VPL，这些叶从AS中其他PE接收的A-D路由中学习。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following sections specify procedures for propagation of Inter-AS A-D routes across ASes in order to construct inter-AS segmented trees.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
以下各节规定了跨ASE的AS间A-D路由传播程序，以便构建AS间分段树。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2.2.1. Propagating Intra-AS VPLS A-D Routes in EBGP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2.2.1. 在EBGP中传播内部AS-VPLS A-D路由
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For a given VPLS configured on an ASBR when the ASBR receives Intra-AS A-D routes originated by PEs in its own AS, the ASBR MUST propagate each of these route in EBGP. This procedure MUST be performed for each of the VPLS instances configured on the ASBR. Each of these routes is constructed as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于ASBR上配置的给定VPL，当ASBR接收到PEs在其自身AS中发起的AS-D内部路由时，ASBR必须在EBGP中传播这些路由中的每一个。必须对ASBR上配置的每个VPLS实例执行此过程。每条路线的构造如下所示：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The route carries a single BGP VPLS A-D NLRI with the RD and VE-ID being the same as the NLRI in the received Intra-AS A-D route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 该路由携带单个BGP VPLS a-D NLRI，RD和VE-ID与接收到的帧内a-D路由中的NLRI相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The Next Hop field of the MP_REACH_NLRI attribute is set to a routable IP address of the ASBR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ MP_REACH_NLRI属性的下一跳字段设置为ASBR的可路由IP地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The route carries the PMSI Tunnel attribute with the Tunnel Type set to Ingress Replication; the attribute carries no MPLS labels.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 路由携带PMSI隧道属性，隧道类型设置为入口复制；该属性不携带MPLS标签。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The route MUST carry the export RT used by the VPLS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 路线必须携带VPLS使用的导出RT。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2.2.2. Inter-AS A-D Route Received via EBGP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2.2.2. 通过EBGP接收的内部AS A-D路由
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an ASBR receives from one of its EBGP neighbors a BGP Update message that carries an Inter-AS A-D route, if (a) at least one of the RTs carried in the message matches one of the import RTs configured on the ASBR, and (b) the ASBR determines that the received route is the best route to the destination carried in the NLRI of the route, the ASBR re-advertises this Inter-AS A-D route to other PEs and ASBRs within its own AS. The best route selection procedures MUST ensure that for the same destination, all ASBRs in an AS pick the same route as the best route. The best route selection procedures are specified in [RFC4761] and clarified in [MULTI-HOMING]. The best route procedures ensure that if multiple ASBRs, in an AS, receive the same Inter-AS A-D route from their EBGP neighbors, only one of these ASBRs propagates this route in Internal BGP (IBGP). This ASBR becomes the root of the intra-AS segment of the inter-AS tree and ensures that this is the only ASBR that accepts traffic into this AS from the inter-AS tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当ASBR从其一个EBGP邻居接收到携带Inter AS a-D路由的BGP更新消息时，如果（a）消息中携带的至少一个RTs与ASBR上配置的一个导入RTs匹配，并且（b）ASBR确定接收到的路由是到路由NLRI中携带的目的地的最佳路由，ASBR将此Inter作为A-D路线重新宣传给其自身AS内的其他PE和ASBR。最佳路线选择程序必须确保对于同一目的地，AS中的所有ASBR选择与最佳路线相同的路线。最佳路线选择程序在[RFC4761]中规定，并在[MULTI-HOMING]中阐明。最佳路由程序确保，如果AS中的多个ASBR从其EBGP邻居接收到相同的AS-D路由，则这些ASBR中只有一个在内部BGP（IBGP）中传播此路由。此ASBR成为内部AS树的内部AS段的根，并确保这是唯一一个从内部AS树接受到此AS的流量的ASBR。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When re-advertising an Inter-AS A-D route, the ASBR MUST set the Next Hop field of the MP_REACH_NLRI attribute to a routable IP address of the ASBR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当将Inter重新播发为A-D路由时，ASBR必须将MP_REACH_NLRI属性的下一跳字段设置为ASBR的可路由IP地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Depending on the type of a P-multicast tunnel used to instantiate the intra-AS segment of the inter-AS tunnel, the PMSI Tunnel attribute of the re-advertised Inter-AS A-D route is constructed as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
根据用于实例化inter-AS隧道的intra-AS段的P-multicast隧道的类型，重新播发的inter-AS a-D路由的PMSI隧道属性构造如下：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ If the ASBR uses ingress replication to instantiate the intra-AS segment of the inter-AS tunnel, the re-advertised route MUST NOT carry the PMSI Tunnel attribute.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 如果ASBR使用入口复制来实例化内部AS隧道的内部AS段，则重新公布的路由不得带有PMSI隧道属性。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ If the ASBR uses a P-multicast tree to instantiate the intra-AS segment of the inter-AS tunnel, the PMSI Tunnel attribute MUST contain the identity of the tree that is used to instantiate the segment (note that the ASBR could create the identity of the tree prior to the actual instantiation of the segment). If, in order to instantiate the segment, the ASBR needs to know the leaves of the tree, then the ASBR obtains this information from the A-D routes received from other PEs/ASBRs in the ASBR&#39;s own AS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 如果ASBR使用P多播树来实例化内部AS隧道的内部AS段，则PMSI隧道属性必须包含用于实例化该段的树的标识（请注意，ASBR可以在实际实例化该段之前创建树的标识）。如果为了实例化段，ASBR需要知道树的叶子，则ASBR从ASBR自身AS中从其他PE/ASBR接收的A-D路由中获取该信息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ An ASBR that uses a P-multicast tree to instantiate the intra-AS segment of the inter-AS tunnel MAY aggregate two or more VPLS instances present on the ASBR onto the same tree. If the ASBR already advertises Inter-AS A-D routes for these VPLS instances, then aggregation requires the ASBR to re-advertise these routes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 使用P-多播树来实例化内部AS隧道的内部AS段的ASBR可以将ASBR上存在的两个或多个VPLS实例聚合到同一棵树上。如果ASBR已经为这些VPLS实例播发Inter AS A-D路由，则聚合要求ASBR重新播发这些路由。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
The re-advertised routes MUST be the same as the original ones, except for the PMSI Tunnel attribute. If the ASBR has not previously advertised Inter-AS A-D routes for these VPLS instances, then the aggregation requires the ASBR to advertise (new) Inter-AS A-D routes for these VPLS instances. The PMSI Tunnel attribute in the newly advertised/re-advertised routes MUST carry the identity of the P-multicast tree that aggregates the VPLS instances, as well as an MPLS upstream-assigned label [RFC5331]. Each newly advertised or re-advertised route MUST have a label that is distinct within the scope of the ASBR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
重新公布的路由必须与原始路由相同，但PMSI隧道属性除外。如果ASBR以前没有将这些VPLS实例的Inter作为A-D路由播发，则聚合要求ASBR将这些VPLS实例的（新的）Inter作为A-D路由播发。新公布/重新公布的路由中的PMSI隧道属性必须携带聚合VPLS实例的P多播树的标识，以及MPLS上游分配的标签[RFC5331]。每个新公布或重新公布的路线必须有一个在ASBR范围内不同的标签。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In addition, the ASBR MUST send to the EBGP neighbor, from whom it receives the Inter-AS A-D route, a BGP Update message that carries a leaf A-D route. The exact encoding of this route is described in the &#34;BGP Extensions&#34; section. This route contains the following information elements:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此外，ASBR必须向EBGP邻居发送一条BGP更新消息，该消息携带一条叶子A-D路由，并从该邻居处接收Inter AS A-D路由。此路由的确切编码在“BGP扩展”部分中描述。此路线包含以下信息元素：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The route carries a single NLRI with the Route Key field set to the &lt;RD, VE-ID&gt; tuple of the BGP VPLS A-D NLRI of the Inter-AS A-D route received from the EBGP neighbor. The NLRI also carries the IP address of the ASBR (this MUST be a routable IP address).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 该路由携带单个NLRI，其中路由密钥字段设置为从EBGP邻居接收的Inter AS a-D路由的BGP VPLS a-D NLRI的&lt;RD，VE-ID&gt;元组。NLRI还携带ASBR的IP地址（这必须是可路由的IP地址）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The leaf A-D route MUST include the PMSI Tunnel attribute with the Tunnel Type set to Ingress Replication, and the Tunnel Identifier set to a routable address of the advertising router. The PMSI Tunnel attribute MUST carry a downstream-assigned MPLS label that is used to demultiplex the VPLS traffic received over a unicast tunnel by the advertising router.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 叶A-D路由必须包括PMSI隧道属性，隧道类型设置为入口复制，隧道标识符设置为播发路由器的可路由地址。PMSI隧道属性必须携带下游分配的MPLS标签，该标签用于对广告路由器通过单播隧道接收的VPLS流量进行解复用。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The Next Hop field of the MP_REACH_NLRI attribute of the route SHOULD be set to the same IP address as the one carried in the Originating Router&#39;s IP Address field of the route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 路由的MP_REACH_NLRI属性的下一跳字段应设置为与路由的原始路由器IP地址字段中携带的IP地址相同的IP地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ To constrain the distribution scope of this route, the route MUST carry the NO_ADVERTISE BGP Community ([RFC1997]).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 若要限制此路由的分发范围，该路由必须承载无广告BGP社区（[RFC1997]）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The ASBR constructs an IP-address-specific RT by placing the IP address carried in the Next Hop field of the received Inter-AS VPLS A-D route in the Global Administrator field of the community, with the Local Administrator field of this community set to 0. It also sets the Extended Communities attribute of the leaf A-D route to that community. Note that this RT is the same as the ASBR Import RT of the EBGP neighbor from which the ASBR received the Inter-AS VPLS A-D route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ ASBR通过将接收到的Inter-AS VPLS A-D路由的下一跳字段中携带的IP地址放置在社区的全局管理员字段中，并将该社区的本地管理员字段设置为0，从而构造特定于IP地址的RT。它还将叶A-D路由的“扩展社区”属性设置为该社区。请注意，此RT与ASBR从中接收内部as VPLS A-D路由的EBGP邻居的ASBR导入RT相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2.2.3. Leaf A-D Route Received via EBGP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2.2.3. 通过EBGP接收的叶A-D路由
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an ASBR receives, via EBGP, a leaf A-D route, the ASBR accepts the route only if (a) at least one of the RTs carried in the message matches one of the import RTs configured on the ASBR and (b) the ASBR determines that the received route is the best route to the destination carried in the NLRI of the route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当ASBR通过EBGP接收叶a-D路由时，ASBR仅在以下情况下接受该路由：（a）消息中携带的至少一个RTs与ASBR上配置的一个导入RTs匹配，并且（b）ASBR确定接收的路由是到路由NLRI中携带的目的地的最佳路由。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the ASBR accepts the leaf A-D route, the ASBR looks for an existing A-D route whose BGP-VPLS A-D NLRI has the same value as the &lt;RD, VE-ID&gt; field of the leaf A-D route just accepted. If such an A-D route is found, then the MPLS label carried in the PMSI Tunnel attribute of the leaf A-D route is used to stitch a one hop ASBR-ASBR LSP to the tail of the intra-AS tunnel segment associated with the found A-D route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果ASBR接受叶A-D路由，ASBR将查找其BGP-VPLS A-D NLRI值与刚刚接受的叶A-D路由的&lt;RD，VE-ID&gt;字段值相同的现有A-D路由。如果找到这样的A-D路由，则叶A-D路由的PMSI隧道属性中携带的MPLS标签用于将一跳ASBR-ASBR LSP缝合到与找到的A-D路由相关联的AS隧道内段的尾部。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2.2.4. Inter-AS A-D Route Received via IBGP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2.2.4. 通过IBGP接收的内部AS A-D路由
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the context of this section, we use the term &#34;PE/ASBR router&#34; to denote either a PE or an ASBR router.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在本节的上下文中，我们使用术语“PE/ASBR路由器”来表示PE或ASBR路由器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that a given Inter-AS A-D route is advertised within a given AS by only one ASBR, as described above.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
请注意，如上所述，给定的内部AS a-D路由仅由一个ASBR在给定AS内发布。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a PE/ASBR router receives, from one of its IBGP neighbors, a BGP Update message that carries an Inter-AS A-D route, if (a) at least one of the RTs carried in the message matches one of the import RTs configured on the PE/ASBR and (b) the PE/ASBR determines that the received route is the best route to the destination carried in the NLRI of the route, the PE/ASBR performs the following operations. The best route determination is as described in [RFC4761] and clarified in [MULTI-HOMING].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当PE/ASBR路由器从其一个IBGP邻居接收到携带Inter AS a-D路由的BGP更新消息时，如果（a）消息中携带的至少一个RTs与PE/ASBR上配置的一个导入RTs匹配，以及（b）PE/ASBR确定接收到的路由是该路由的NLRI中携带的到目的地的最佳路由，PE/ASBR执行以下操作。最佳路由确定如[RFC4761]所述，并在[MULTI-HOMING]中阐明。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the router is an ASBR, then the ASBR propagates the route to its EBGP neighbors. When propagating the route to the EBGP neighbors, the ASBR MUST set the Next Hop field of the MP_REACH_NLRI attribute to a routable IP address of the ASBR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果路由器是ASBR，则ASBR将路由传播到其EBGP邻居。将路由传播到EBGP邻居时，ASBR必须将MP_REACH_NLRI属性的下一跳字段设置为ASBR的可路由IP地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the received Inter-AS A-D route carries the PMSI Tunnel attribute with the Tunnel Type set to LDP P2MP LSP, the PE/ASBR SHOULD join the P-multicast tree whose identity is carried in the PMSI Tunnel attribute.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果接收到的Inter-AS A-D路由携带隧道类型设置为LDP P2MP LSP的PMSI隧道属性，则PE/ASBR应加入其标识携带在PMSI隧道属性中的P-多播树。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the received Inter-AS A-D route carries the PMSI Tunnel attribute with the Tunnel Identifier set to RSVP-TE P2MP LSP, then the ASBR that originated the route MUST establish an RSVP-TE P2MP LSP with the local PE/ASBR as a leaf. This LSP MAY have been established before the local PE/ASBR receives the route, or it MAY be established after the local PE receives the route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果接收到的Inter AS A-D路由带有PMSI隧道属性，且隧道标识符设置为RSVP-TE P2MP LSP，则发起路由的ASBR必须建立一个RSVP-TE P2MP LSP，本地PE/ASBR作为叶。该LSP可能在本地PE/ASBR接收到路由之前建立，也可能在本地PE接收到路由之后建立。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the received Inter-AS A-D route carries the PMSI Tunnel attribute with the Tunnel Type set to LDP P2MP LSP, or RSVP-TE P2MP LSP, but the attribute does not carry a label, then the P-multicast tree, as identified by the PMSI Tunnel attribute, is an intra-AS LSP segment that is part of the inter-AS tunnel for the &lt;VPLS, VE-ID&gt; advertised by the Inter-AS A-D route and rooted at the PE that originated the A-D route. If the PMSI Tunnel attribute carries a (upstream-assigned) label, then a combination of this tree and the label identifies the intra-AS segment. If the receiving router is an ASBR, this intra-AS segment may further be stitched to ASBR-ASBR inter-AS segment of the inter-AS tunnel. If the PE/ASBR has local receivers in the VPLS, packets received over the intra-AS segment must be forwarded to the local receivers using the local VSI.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果接收到的Inter-AS A-D路由携带隧道类型设置为LDP P2MP LSP或RSVP-TE P2MP LSP的PMSI隧道属性，但该属性未携带标签，则由PMSI隧道属性标识的P-多播树是作为&lt;VPLS的Inter-AS隧道一部分的intra-AS LSP段，VE-ID&gt;由Inter作为A-D路由进行广告，并扎根于发起A-D路由的PE。如果PMSI Tunnel属性带有（上游指定的）标签，则此树和标签的组合将识别内部AS段。如果接收路由器是ASBR，则该AS内段可进一步缝合到AS间隧道的ASBR-ASBR AS间段。如果PE/ASBR在VPLS中有本地接收器，则必须使用本地VSI将通过内部AS段接收的数据包转发给本地接收器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.3. Option (c): Non-segmented Tunnels
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.3. 方案（c）：非分段隧道
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this model, there is a multi-hop EBGP peering between the PEs (or BGP Route Reflector) in one AS and the PEs (or BGP Route Reflector) in another AS. The PEs exchange BGP-VPLS NLRI or BGP-VPLS A-D NLRI, along with the PMSI Tunnel attribute, as in the intra-AS case described in the &#34;Demultiplexing P-Multicast Tree Traffic&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在该模型中，一个AS中的PEs（或BGP路由反射器）和另一个AS中的PEs（或BGP路由反射器）之间存在多跳EBGP对等。PEs交换BGP-VPLS NLRI或BGP-VPLS A-D NLRI，以及PMSI隧道属性，如“解复用P-多播树流量”一节中描述的as内情况。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The PEs in different ASes use a non-segmented inter-AS P2MP tunnel for VPLS multicast. A non-segmented inter-AS tunnel is a single tunnel that spans AS boundaries. The tunnel technology cannot change from one point in the tunnel to the next, so all ASes through which the tunnel passes must support that technology. In essence, AS boundaries are of no significance to a non-segmented inter-AS P2MP tunnel.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
不同ASE中的PE使用非分段AS间P2MP隧道进行VPLS多播。非分段AS间隧道是跨越AS边界的单个隧道。隧道技术不能从隧道中的一个点改变到下一个点，因此隧道通过的所有ASE都必须支持该技术。本质上，AS边界对于非分段AS间P2MP隧道来说没有任何意义。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This model requires no VPLS A-D routes in the control plane or VPLS MAC address learning in the data plane on the ASBRs. The ASBRs only need to participate in the non-segmented P2MP tunnel setup in the control plane and do MPLS label forwarding in the data plane.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
该模型不需要控制平面中的VPLS A-D路由，也不需要ASBR上数据平面中的VPLS MAC地址学习。ASBR只需要在控制平面中参与非分段P2MP隧道设置，并在数据平面中进行MPLS标签转发。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the tunneling technology is P2MP LSP signaled with mLDP, and one does not use [RFC6512], the setup of non-segmented inter-AS P2MP tunnels requires the P-routers in one AS to have IP reachability to the loopback addresses of the PE routers in another AS. That is, the reachability to the loopback addresses of PE routers in one AS MUST be present in the IGP in another AS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当隧道技术是用mLDP发信号的P2MP LSP，并且一个不使用[RFC6512]时，非分段AS间P2MP隧道的设置要求一个AS中的P路由器对另一个AS中PE路由器的环回地址具有IP可达性。也就是说，一个AS中PE路由器的环回地址的可达性必须存在于另一个AS中的IGP中。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data forwarding in this model is the same as in the intra-AS case described in the &#34;Demultiplexing P-Multicast Tree Traffic&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此模型中的数据转发与“解复用P-多播树流量”部分中描述的帧内as情况相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An implementation MUST support this model.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
实现必须支持此模型。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. Optimizing Multicast Distribution via Selective Trees
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. 通过选择树优化组播分发
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Whenever a particular multicast stream is being sent on an Inclusive P-multicast tree, it is likely that the data of that stream is being sent to PEs that do not require it, as the sites connected to these PEs may have no receivers for the stream. If a particular stream has a significant amount of traffic, it may be beneficial to move it to a Selective P-multicast tree that has, at its leaves, only those PEs, connected to sites that have receivers for the multicast stream (or at least includes fewer PEs that are attached to sites with no receivers compared to an Inclusive tree).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
每当在包含性P-多播树上发送特定多播流时，该流的数据很可能被发送到不需要它的PEs，因为连接到这些PEs的站点可能没有该流的接收器。如果特定流具有大量的业务量，则将其移动到选择性P-多播树可能是有益的，该树在其叶子处仅具有连接到具有多播流接收器的站点的那些PEs（或与包含树相比，至少包括较少的连接到没有接收器的站点的PEs）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A PE connected to the multicast source of a particular multicast stream may be performing explicit tracking; that is, it may know the PEs that have receivers in the multicast stream. The &#34;Receiving S-PMSI A-D Routes by PEs&#34; section describes procedures that enable explicit tracking. If this is the case, Selective P-multicast trees can also be triggered on other criteria. For instance, there could be a &#34;pseudo-wasted bandwidth&#34; criterion: switching to a Selective tree would be done if the bandwidth multiplied by the number of &#34;uninterested&#34; PEs (PEs that are receiving the stream but have no receivers) is above a specified threshold. The motivation is that (a) the total bandwidth wasted by many sparsely subscribed low-
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
连接到特定多播流的多播源的PE可以执行显式跟踪；也就是说，它可能知道在多播流中具有接收器的PEs。“PEs接收S-PMSI A-D路由”部分描述了实现显式跟踪的程序。如果是这种情况，也可以根据其他条件触发选择性P多播树。例如，可能存在一个“伪浪费带宽”标准：如果带宽乘以“不感兴趣”PE（接收流但没有接收器的PE）的数量超过指定阈值，则切换到选择性树。其动机是：（a）许多稀疏订阅的用户所浪费的总带宽很低-
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
bandwidth groups may be large and (b) there&#39;s no point to moving a high-bandwidth group to a Selective tree if all the PEs have receivers for it.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
带宽组可能很大，并且（b）如果所有PE都有接收器，那么将高带宽组移动到选择性树是没有意义的。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Switching a (C-S, C-G) stream to a Selective P-multicast tree may require the root of the tree to determine the egress PEs that need to receive the (C-S, C-G) traffic. This is true in the following cases:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
将（C-S，C-G）流切换到选择性P多播树可能需要树的根来确定需要接收（C-S，C-G）业务的出口PEs。在以下情况下也是如此：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ If the tunnel is a P2MP tree, such as an RSVP-TE P2MP Tunnel, the PE needs to know the leaves of the tree before it can instantiate the Selective tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 如果隧道是P2MP树，例如RSVP-TE P2MP隧道，则PE需要知道树的叶子，然后才能实例化选择树。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ If a PE decides to send traffic for multicast streams, belonging to different VPLS instances, using one P-multicast Selective tree, such a tree is called an &#34;Aggregate tree with a selective mapping&#34;. The setting up of such an Aggregate tree requires the ingress PE to know all the other PEs that have receivers for multicast groups that are mapped onto the tree (see the &#34;Aggregation Considerations&#34; section for the rationale).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 如果PE决定使用一个P-多播选择树为属于不同VPLS实例的多播流发送流量，则这种树称为“具有选择映射的聚合树”。建立这种聚合树需要入口PE知道所有其他PE，这些PE具有映射到树上的多播组的接收器（有关原理，请参阅“聚合注意事项”部分）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ If ingress replication is used and the ingress PE wants to send traffic for (C-S, C-G)s to only those PEs that are on the path to receivers to the (C-S, C-G)s.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 如果使用入口复制，且入口PE希望仅将（C-S，C-G）的流量发送到（C-S，C-G）的接收器路径上的那些PE。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For discovering the IP multicast group membership, for the above cases, this document describes procedures that allow an ingress PE to enable explicit tracking. Thus, an ingress PE can request the IP multicast membership from egress PEs for one or more C-multicast streams. These procedures are described in the &#34;Receiving S-PMSI A-D Routes by PEs&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
为了发现IP多播组成员身份，对于上述情况，本文档描述了允许入口PE启用显式跟踪的过程。因此，入口PE可以针对一个或多个C多播流从出口PE请求IP多播成员资格。这些程序在“PEs接收S-PMSI A-D路由”一节中进行了说明。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The root of the Selective P-multicast tree MAY decide to do explicit tracking of the IP multicast stream only after it has decided to move the stream to a Selective tree, or it MAY have been doing explicit tracking all along. This document also describes explicit tracking for a wildcard source and/or group in the &#34;Receiving S-PMSI A-D Routes by PEs&#34; section, which facilitates a Selective P-multicast tree only mode in which IP multicast streams are always carried on a Selective P-multicast tree. In the description on Selective P-multicast trees, the notation C-S is intended to represent either a specific source address or a wildcard. Similarly, C-G is intended to represent either a specific group address or a wildcard.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
选择性P-多播树的根可能仅在其决定将流移动到选择性树之后才决定对IP多播流进行显式跟踪，或者它可能一直在进行显式跟踪。本文档还描述了“通过PEs接收S-PMSI a-D路由”部分中通配符源和/或组的显式跟踪，这有助于实现选择性P多播树纯模式，其中IP多播流始终在选择性P多播树上进行。在选择性P-多播树的描述中，符号C-S旨在表示特定的源地址或通配符。类似地，C-G用于表示特定的组地址或通配符。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The PE at the root of the tree MUST signal the leaves of the tree that the (C-S, C-G) stream is now bound to the Selective tree. Note that the PE could create the identity of the P-multicast tree prior to the actual instantiation of the tunnel.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
树根上的PE必须向树的叶子发出信号，表示（C-S，C-G）流现在绑定到选择树。请注意，PE可以在隧道的实际实例化之前创建P多播树的标识。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the Selective tree is instantiated by an RSVP-TE P2MP LSP, the PE at the root of the tree MUST establish the P2MP RSVP-TE LSP to the leaves. This LSP MAY have been established before the leaves receive the Selective tree binding, or it MAY be established after the leaves receive the binding. A leaf MUST NOT switch to the Selective tree until it receives the binding and the RSVP-TE P2MP LSP is set up to the leaf.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果选择树由RSVP-TE P2MP LSP实例化，则树根的PE必须为叶子建立P2MP RSVP-TE LSP。此LSP可能在叶接收选择性树绑定之前建立，也可能在叶接收绑定之后建立。在接收到绑定并将RSVP-TE P2MP LSP设置到叶之前，叶不得切换到选择树。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.1. Protocol for Switching to Selective Trees
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.1. 切换到选择性树的协议
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Selective trees provide a PE the ability to create separate P-multicast trees for certain (C-S, C-G) streams. The source PE, which originates the Selective tree, and the egress PEs MUST use the Selective tree for the (C-S, C-G) streams that are mapped to it. This may require the source and egress PEs to switch to the Selective tree from an Inclusive tree if they were already using an Inclusive tree for the (C-S, C-G) streams mapped to the Selective tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
选择性树为PE提供了为某些（C-S、C-G）流创建单独的P多播树的能力。发起选择树的源PE和出口PE必须为映射到它的（C-S、C-G）流使用选择树。这可能需要源和出口PE从包含树切换到选择树，如果它们已经对映射到选择树的（C-S，C-G）流使用包含树。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Once a source PE decides to set up a Selective tree, it MUST announce the mapping of the (C-S, C-G) streams (which may be in different VPLS instances) that are mapped to the tree to the other PEs using BGP. After the egress PEs receive the announcement, they set up their forwarding path to receive traffic on the Selective tree if they have one or more receivers interested in the (C-S, C-G) streams mapped to the tree. Setting up the forwarding path requires setting up the demultiplexing forwarding entries based on the top MPLS label (if there is no inner label) or the inner label (if present) as described in the &#34;Establishing P-Multicast Trees&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
一旦源PE决定建立选择性树，它必须宣布（C-S、C-G）流（可能在不同的VPLS实例中）的映射，这些流使用BGP映射到树到其他PE。出口PEs接收到通知后，如果它们有一个或多个对映射到树的（C-S，C-G）流感兴趣的接收器，则它们设置其转发路径以在选择树上接收流量。设置转发路径需要根据顶部MPLS标签（如果没有内部标签）或内部标签（如果存在）设置解复用转发条目，如“建立P-多播树”部分所述。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the P2MP LSP is established using mLDP, the egress PEs MAY perform this switch to the Selective tree once the announcement from the ingress PE is received, or they MAY wait for a preconfigured timer to do so after receiving the announcement.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当使用mLDP建立P2MP LSP时，一旦接收到来自入口PE的通知，出口PE就可以执行到选择树的该切换，或者在接收到该通知之后，出口PE可以等待预配置的定时器执行该切换。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the P2MP LSP protocol is P2MP RSVP-TE, an egress PE MUST perform this switch to the Selective tree only after the announcement from the ingress PE is received and the RSVP-TE P2MP LSP has been set up to the egress PE. This switch MAY be done after waiting for a preconfigured timer after these two steps have been accomplished.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当P2MP LSP协议为P2MP RSVP-TE时，出口PE必须仅在接收到来自入口PE的通知并且已将RSVP-TE P2MP LSP设置为出口PE之后，才执行到选择树的切换。完成这两个步骤后，可在等待预配置计时器后进行此切换。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A source PE MUST use the following approach to decide when to start transmitting data on the Selective tree, if it is currently using an Inclusive tree. After announcing the (C-S, C-G) stream mapping to a Selective tree, the source PE MUST wait for a &#34;switchover&#34; delay before sending (C-S, C-G) stream on the Selective tree. It is RECOMMENDED to allow this delay to be configurable. Once the
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果源PE当前使用包含树，则它必须使用以下方法来决定何时开始在选择树上传输数据。宣布（C-S，C-G）流映射到选择树后，源PE必须等待“切换”延迟，然后才能在选择树上发送（C-S，C-G）流。建议允许对该延迟进行配置。一旦
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
&#34;switchover&#34; delay has elapsed, the source PE MUST send (C-S, C-G) stream on the Selective tree. In no case is any (C-S, C-G) packet sent on both Selective and Inclusive trees.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
“切换”延迟已过，源PE必须在选择树上发送（C-S，C-G）流。在任何情况下，都不会在选择性树和包容性树上发送任何（C-S，C-G）数据包。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a (C-S, C-G) stream is switched from an Inclusive to a Selective tree, the purpose of running a switchover timer is to minimize packet loss without introducing packet duplication. However, jitter may be introduced due to the difference in transit delays between the Inclusive and Selective trees.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当（C-S，C-G）流从包含树切换到选择树时，运行切换定时器的目的是在不引入分组复制的情况下最小化分组丢失。然而，由于包含树和选择性树之间的传输延迟的差异，可能引入抖动。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For best effect, the switchover timer should be configured to a value that is &#34;just long enough&#34; (a) to allow all the PEs to learn about the new binding of (C-S, C-G) to a Selective tree and (b) to allow the PEs to construct the P-tunnel associated with the Selective tree, if it doesn&#39;t already exist.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
为了获得最佳效果，应将切换计时器配置为“刚好足够长”的值（a）以允许所有PE了解（C-S，C-G）到选择树的新绑定，以及（b）允许PE构建与选择树关联的P隧道（如果它不存在）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2. Advertising (C-S, C-G) Binding to a Selective Tree
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2. 广告（C-S，C-G）绑定到选择性树
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The ingress PE informs all the PEs that are on the path to receivers of the (C-S, C-G) of the binding of the Selective tree to the (C-S, C-G), using BGP. The BGP announcement is done by sending update for the MCAST-VPLS address family using what we referred to as an &#34;S-PMSI A-D route&#34;. The format of the NLRI of this route is described in the &#34;Inclusive Tree/Selective Tree Identifier&#34; section. The NLRI MUST be constructed as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
入口PE使用BGP通知（C-S，C-G）接收器路径上的所有PE选择树与（C-S，C-G）的绑定。BGP公告通过使用我们称之为“S-PMSI A-D路由”发送MCAST-VPLS地址系列的更新来完成。此路由的NLRI格式在“包含树/选择性树标识符”部分中描述。NLRI必须按照以下方式构建：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The Route Distinguisher (RD) MUST be set to the RD configured locally for the VPLS. This is required to uniquely identify the &lt;C-S, C-G&gt; as the addresses could overlap between different VPLS instances. This MUST be the same RD value used in the VPLS auto-discovery process.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 必须将路由识别器（RD）设置为本地为VPL配置的RD。这是唯一标识&lt;C-S，C-G&gt;所必需的，因为不同VPLS实例之间的地址可能重叠。这必须与VPLS自动发现过程中使用的RD值相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The Multicast Source field MUST contain the source address associated with the C-multicast stream, and the Multicast Source Length field is set appropriately to reflect this. If the source address is a wildcard, the source address is set to 0.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 多播源字段必须包含与C多播流关联的源地址，并且多播源长度字段的设置适当地反映了这一点。如果源地址是通配符，则源地址设置为0。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The Multicast Group field MUST contain the group address associated with the C-multicast stream, and the Multicast Group Length field is set appropriately to reflect this. If the group address is a wildcard, the group address is set to 0.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 多播组字段必须包含与C多播流关联的组地址，并且多播组长度字段的设置适当地反映了这一点。如果组地址是通配符，则组地址设置为0。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The Originating Router&#39;s IP Address field MUST be set to the IP address that the (local) PE places in the BGP Next Hop of the BGP-VPLS A-D routes. Note that the &lt;RD, Originating Router&#39;s IP Address&gt; tuple uniquely identifies a given VPLS instance on a PE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 发起路由器的IP地址字段必须设置为（本地）PE在BGP-VPLS A-D路由的BGP下一跳中放置的IP地址。请注意，&lt;RD，原始路由器的IP地址&gt;元组唯一地标识PE上的给定VPLS实例。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The PE constructs the rest of the Selective A-D route as follows.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PE构建选择性A-D路由的其余部分，如下所示。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Depending on the type of a P-multicast tree used for the P-tunnel, the PMSI Tunnel attribute of the S-PMSI A-D route is constructed as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
根据用于P隧道的P多播树的类型，S-PMSI a-D路由的PMSI隧道属性构造如下：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The PMSI Tunnel attribute MUST contain the identity of the P-multicast tree (note that the PE could create the identity of the tree prior to the actual instantiation of the tree).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ PMSI Tunnel属性必须包含P-multicast树的标识（注意，PE可以在树的实际实例化之前创建树的标识）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ If, in order to establish the P-multicast tree, the PE needs to know the leaves of the tree within its own AS, then the PE obtains this information from the leaf A-D routes received from other PEs/ASBRs within its own AS (as other PEs/ASBRs originate leaf A-D routes in response to receiving the S-PMSI A-D route) by setting the Leaf Information Required flag in the PMSI Tunnel attribute to 1. This enables explicit tracking for the multicast stream(s) advertised by the S-PMSI A-D route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 如果为了建立P-多播树，PE需要知道其自身AS内的树的叶子，则PE从其自身AS内的其他PE/ASBR接收的叶子A-D路由中获取该信息（因为其他PE/ASBR响应于接收S-PMSI A-D路由而发起叶子A-D路由）通过将PMSI隧道属性中的Leaf Information Required标志设置为1。这使得能够显式跟踪由s-PMSI A-D路由播发的多播流。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ If a PE originates S-PMSI A-D routes with the Leaf Information Required flag in the PMSI Tunnel attribute set to 1, then the PE MUST be (auto-)configured with an import RT, which controls acceptance of leaf A-D routes by the PE. (Procedures for originating leaf A-D routes by the PEs that receive the S-PMSI A-D route are described in the &#34;Receiving S-PMSI A-D Routes by PEs&#34; section.)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 如果PE发起S-PMSI a-D路由时，PMSI隧道属性中的“需要叶信息”标志设置为1，则PE必须（自动）配置导入RT，该RT控制PE接受叶a-D路由。（由接收S-PMSI A-D路由的PEs发起叶A-D路由的程序在“由PEs接收S-PMSI A-D路由”一节中描述。）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
This RT is IP address specific. The Global Administrator field of this RT MUST be set to the IP address carried in the Next Hop field of all the S-PMSI A-D routes advertised by this PE (if the PE uses different Next Hop fields, then the PE MUST be (auto-)configured with multiple import RTs, one per each such Next Hop field). The Local Administrator field of this Route Target MUST be set to 0.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
此RT是特定于IP地址的。此RT的全局管理员字段必须设置为此PE播发的所有S-PMSI A-D路由的下一跳字段中携带的IP地址（如果PE使用不同的下一跳字段，则PE必须（自动）配置多个导入RT，每个下一跳字段一个）。此路由目标的本地管理员字段必须设置为0。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
If the PE supports Route Target Constrain [RFC4684], the PE SHOULD advertise this import RT within its own AS using Route Target Constrain. To constrain distribution of the Route Target Constrain routes to the AS of the advertising PE these routes SHOULD carry the NO_EXPORT Community ([RFC1997]).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
如果PE支持路由目标约束[RFC4684]，则PE应使用路由目标约束在其自身内公布此导入RT。为了约束路由目标的分布，将路由约束到广告PE的截止日期，这些路由应包含NO_导出社区（[RFC1997]）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ A PE MAY aggregate two or more S-PMSIs originated by the PE onto the same P-multicast tree. If the PE already advertises S-PMSI A-D routes for these S-PMSIs, then aggregation requires the PE to re-advertise these routes. The re-advertised routes MUST be the same as the original ones, except for the PMSI Tunnel attribute. If the PE has not previously advertised S-PMSI A-D routes for these S-PMSIs, then the aggregation requires the PE to advertise
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ PE可以将PE发起的两个或多个S-PMSI聚合到同一个P多播树上。如果PE已经为这些S-PMSI播发S-PMSI A-D路由，则聚合要求PE重新播发这些路由。重新公布的路由必须与原始路由相同，但PMSI隧道属性除外。如果PE之前没有为这些S-PMSI播发S-PMSI A-D路由，则聚合要求PE播发
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
(new) S-PMSI A-D routes for these S-PMSIs. The PMSI Tunnel attribute in the newly advertised/re-advertised routes MUST carry the identity of the P-multicast tree that aggregates the S-PMSIs. If at least some of the S-PMSIs aggregated onto the same P-multicast tree belong to different VPLS instances, then all these routes MUST carry an MPLS upstream-assigned label [RFC5331]. If all these aggregated S-PMSIs belong to the same VPLS, then the routes MAY carry an MPLS upstream-assigned label [RFC5331]. The labels MUST be distinct on a per-VPLS-instance basis, and they MAY be distinct on a per-route basis.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
（新）这些S-PMSI的S-PMSI A-D路线。新公布/重新公布的路由中的PMSI隧道属性必须具有聚合S-PMSI的P-多播树的标识。如果聚合到同一个P-多播树上的至少一些S-PMSI属于不同的VPLS实例，则所有这些路由必须携带MPLS上游分配的标签[RFC5331]。如果所有这些聚合的S-PMSI属于相同的VPL，则路由可携带MPLS上游分配的标签[RFC5331]。标签必须在每个VPLS实例的基础上是不同的，并且它们可能在每个路由的基础上是不同的。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Next Hop field of the MP_REACH_NLRI attribute of the route SHOULD be set to the same IP address as the one carried in the Originating Router&#39;s IP Address field.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
路由的MP_REACH_NLRI属性的下一跳字段应设置为与原始路由器的IP地址字段中携带的IP地址相同的IP地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
By default, the set of RTs carried by the route MUST be the same as the RTs carried in the BGP-VPLS A-D route originated from the VSI. The default could be modified via configuration.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
默认情况下，路由携带的RTs集必须与源自VSI的BGP-VPLS A-D路由中携带的RTs相同。默认值可以通过配置进行修改。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.3. Receiving S-PMSI A-D Routes by PEs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.3. PEs接收S-PMSI A-D路由
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Consider a PE that receives an S-PMSI A-D route. If one or more of the VSIs on the PE have their import RTs that contain one or more of the RTs carried by the received S-PMSI A-D route, then for each such VSI, the PE performs the following.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
考虑一个PE接收一个PS-PMSI A- D路由。如果PE上的一个或多个VSI的导入RTs包含接收到的S-PMSI A-D路由携带的一个或多个RTs，则对于每个此类VSI，PE执行以下操作。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Procedures for receiving an S-PMSI A-D route by a PE (both within and outside of the AS of the PE that originates the route) are the same as specified in the &#34;Inter-AS A-D Route Received via IBGP&#34; section, except that (a) instead of Inter-AS A-D routes the procedures apply to S-PMSI A-D routes, (b) the rules for determining whether the received S-PMSI A-D route is the best route to the destination carried in the NLRI of the route are the same as BGP path selection rules and may be modified by policy, and (c) a PE performs procedures specified in that section only if in addition to the criteria specified in that section the following is true:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PE接收S-PMSI A-D路由的程序（发起路由的PE的AS内部和外部）与“通过IBGP接收的AS-D路由间”一节中的规定相同，除了（A）程序适用于S-PMSI A-D路由而不是AS-D路由间，（b）程序适用于S-PMSI A-D路由间用于确定接收到的S-PMSI A-D路由是否是到路由的NLRI中携带的目的地的最佳路由的规则与BGP路径选择规则相同，并且可以由策略修改，和（c）PE仅当除该节中规定的标准外，符合以下条件时，才执行该节中规定的程序：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ If, as a result of multicast state snooping on the PE-CE interfaces, the PE has snooped state for at least one multicast join that matches the multicast source and group advertised in the S-PMSI A-D route. Further, the oifs (outgoing interfaces) for this state contain one or more interfaces to the locally attached CEs. When the multicast signaling protocol among the CEs is IGMP, then snooping and associated procedures are defined in [RFC4541]. The snooped state is determined using these procedures. When the multicast signaling protocol among the CEs is PIM, the procedures in [RFC4541] are not sufficient to determine the snooped state. The additional details required to
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 如果由于PE-CE接口上的多播状态窥探，PE具有与S-PMSI a-D路由中播发的多播源和组匹配的至少一个多播加入的窥探状态。此外，该状态的oifs（传出接口）包含到本地连接的ce的一个或多个接口。当CEs之间的多播信令协议为IGMP时，侦听和相关程序在[RFC4541]中定义。窥探状态通过以下步骤确定。当CEs之间的多播信令协议为PIM时，[RFC4541]中的过程不足以确定监听状态。所需的其他详细信息
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
determine the snooped state when CE-CE protocol is PIM are for further study. When such procedures are defined, it is expected that the procedures in this section will apply to the snooped state created as a result of PIM as PE-CE protocol.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
确定CE-CE协议为PIM时的窥探状态，以供进一步研究。当定义此类程序时，预计本节中的程序将适用于因PIM as PE-CE协议而创建的窥探状态。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The snooped state is said to &#34;match&#34; the S-PMSI A-D route if any of the following is true:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果满足以下任一条件，则称窥探状态“匹配”S-PMSI A-D路由：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The S-PMSI A-D route carries (C-S, C-G) and the snooped state is for (C-S, C-G) or for (C-*, C-G), OR
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ S-PMSI A-D路由承载（C-S，C-G），监听状态为（C-S，C-G）或（C-*，C-G），或
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The S-PMSI A-D route carries (C-*, C-G) and (a) the snooped state is for (C-*, C-G) OR (b) the snooped state is for at least one multicast join with the multicast group address equal to C-G and there doesn&#39;t exist another S-PMSI A-D route that carries (C-S, C-G) where C-S is the source address of the snooped state.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ S-PMSI A-D路由承载（C-*，C-G）和（A）嗅探状态用于（C-*，C-G）或（b）嗅探状态用于至少一个多播连接，多播组地址等于C-G，并且不存在承载（C-S，C-G）的另一个S-PMSI A-D路由，其中C-S是嗅探状态的源地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The S-PMSI A-D route carries (C-S, C-*) and (a) the snooped state is for at least one multicast join with the multicast source address equal to C-S, and (b) there doesn&#39;t exist another S-PMSI A-D route that carries (C-S, C-G) where C-G is the group address of the snooped state.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ S-PMSI A-D路由承载（C-S，C-*），并且（A）侦听状态用于至少一个组播连接，组播源地址等于C-S，并且（b）不存在承载（C-S，C-G）的另一个S-PMSI A-D路由，其中C-G是侦听状态的组地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The S-PMSI A-D route carries (C-*, C-*) and there is no other S-PMSI A-D route that matches the snooped state as per the above conditions.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 根据上述条件，S-PMSI A-D路由承载（C-*，C-*），并且没有其他S-PMSI A-D路由匹配窥探状态。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note if the above conditions are true, and if the received S-PMSI A-D route has a PMSI Tunnel attribute with the Leaf Information Required flag set to 1, then the PE originates a leaf A-D route, constructed as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注意：如果上述条件为真，并且如果接收到的S-PMSI A-D路由具有PMSI隧道属性且叶信息要求标志设置为1，则PE发起叶A-D路由，构造如下：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The route carries a single MCAST-VPLS NLRI with the Route Key field set to the MCAST-VPLS NLRI of the received S-PMSI A-D route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 该路由携带一个MCAST-VPLS NLRI，路由密钥字段设置为接收到的S-PMSI a-D路由的MCAST-VPLS NLRI。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The Originating Router&#39;s IP Address set to the IP address of the PE (this MUST be a routable IP address).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 原始路由器的IP地址设置为PE的IP地址（这必须是可路由的IP地址）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The PE constructs an IP-address-specific RT by placing the IP address carried in the Next Hop field of the received S-PMSI A-D route in the Global Administrator field of the Community, with the Local Administrator field of this Community set to 0 and setting the Extended Communities attribute of the leaf A-D route to that Community.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ PE通过将接收到的S-PMSI A-D路由的下一个跃点字段中携带的IP地址放置在社区的全局管理员字段中，并将该社区的本地管理员字段设置为0，然后将叶A-D路由的扩展社区属性设置为该社区，从而构建一个特定于IP地址的RT。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The Next Hop field of the MP_REACH_NLRI attribute of the route MUST be set to the same IP address as the one carried in the Originating Router&#39;s IP Address field of the route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 路由的MP_REACH_NLRI属性的下一跳字段必须设置为与路由的原始路由器IP地址字段中携带的IP地址相同的IP地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ To constrain the distribution scope of this route, the route MUST carry the NO_EXPORT Community [RFC1997], except for the inter-AS scenario with option (c).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 要限制此路由的分发范围，该路由必须包含NO_导出社区[RFC1997]，带有选项（c）的内部AS场景除外。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Once the leaf A-D route is constructed, the PE advertises this route into IBGP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
一旦构建了叶A-D路由，PE将该路由播发到IBGP中。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In addition to the procedures specified in the &#34;Inter-AS A-D Route Received via IBGP&#34; section, the PE MUST set up its forwarding path to receive traffic, for each multicast stream in the matching snooped state, from the tunnel advertised by the S-PMSI A-D route (the PE MUST switch to the Selective tree).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
除了“Inter AS A-D Route Received via IBGP”部分中规定的程序外，PE必须设置其转发路径，以便从S-PMSI A-D路由播发的隧道接收处于匹配监听状态的每个多播流的流量（PE必须切换到选择树）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a new snooped state is created by a PE, then the PE MUST first determine if there is an S-PMSI A-D route that matches the snooped state as per the conditions described above. If such an S-PMSI A-D route is found, then the PE MUST follow the procedures described in this section, for that particular S-PMSI A-D route. If later on the snooped state ages out and is deleted from the PE, the PE SHOULD withdraw the leaf A-D route that it had originated in response to the S-PMSI A-D route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当PE创建新的窥探状态时，PE必须首先根据上述条件确定是否存在与窥探状态匹配的S-PMSI a-D路由。如果发现此类S-PMSI A-D路线，则PE必须遵循本节中所述的特定S-PMSI A-D路线程序。如果窥探状态稍后过期并从PE中删除，则PE应撤回其为响应S-PMSI A-D路由而发起的叶A-D路由。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4. Inter-AS Selective Tree
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4. 间作选择树
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Inter-AS Selective trees support all three options of inter-AS VPLS service, option (a), (b), and (c), that are supported by Inter-AS Inclusive trees. They are constructed in a manner that is very similar to Inter-AS Inclusive trees.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Inter-AS选择性树支持Inter-AS VPLS服务的所有三个选项，即选项（a）、（b）和（c），这三个选项由Inter-AS包容性树支持。它们的构造方式非常类似于互斥树。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For option (a) and option (b), support Inter-AS Selective trees are constructed without requiring a single P-multicast tree to span multiple ASes. This allows individual ASes to potentially use different P-tunneling technologies. There are two variants of this. One that requires MAC and IP multicast lookup on the ASBRs and another that does not require MAC/IP multicast lookup on the ASBRs and instead builds segmented Inter-AS Selective trees.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于选项（a）和选项（b），支持Inter-AS选择性树的构建不需要单个P-多播树来跨越多个ASE。这允许单个ASE可能使用不同的P隧道技术。这有两种变体。一个需要在ASBR上进行MAC和IP多播查找，另一个不需要在ASBR上进行MAC/IP多播查找，而是将分段的Inter构建为选择性树。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Segmented Inter-AS Selective trees can also be used with option (c), unlike Segmented Inter-AS Inclusive trees. This is because the S-PMSI A-D routes can be exchanged via ASBRs (even though BGP VPLS A-D routes are not exchanged via ASBRs).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
与分段内部AS包含树不同，分段内部AS选择树也可与选项（c）一起使用。这是因为S-PMSI A-D路由可以通过ASBR交换（即使BGP VPLS A-D路由不通过ASBR交换）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the case of Option (c), an Inter-AS Selective tree may also be a non-segmented P-multicast tree that spans multiple ASes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在选项（c）的情况下，AS间选择树也可以是跨越多个AS的非分段P多播树。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4.1. VSIs on the ASBRs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4.1. ASBRs上的VSIs
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The requirements on ASBRs, when VSIs are present on the ABSRs, include the requirements presented in the &#34;Inter-AS Inclusive P-Multicast Tree A-D/Binding&#34; section. The source ASBR (that receives traffic from another AS) may independently decide whether or not it wishes to use Selective trees. If it uses Selective trees, the source ASBR MUST perform a MAC lookup to determine the Selective tree to forward the VPLS packet on.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当VSI出现在ABSR上时，ASBR的要求包括“AS间包含P-多播树A-D/绑定”部分中提出的要求。源ASBR（从另一个AS接收流量）可以独立决定是否希望使用选择性树。如果使用选择性树，则源ASBR必须执行MAC查找以确定转发VPLS数据包的选择性树。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4.1.1. VPLS Inter-AS Selective Tree A-D Binding
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4.1.1. VPLS AS间选择性树A-D绑定
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The mechanisms for propagating S-PMSI A-D routes are the same as the intra-AS case described in the &#34;MCAST-VPLS NLRI&#34; section. The BGP Selective tree A-D routes generated by PEs in an AS MUST NOT be propagated outside the AS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
传播S-PMSI A-D路由的机制与“MCAST-VPLS NLRI”部分中描述的帧内as情况相同。AS中PEs生成的BGP选择性树A-D路由不得在AS之外传播。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4.2. Inter-AS Segmented Selective Trees
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4.2. 间AS分段选择树
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Inter-AS Segmented Selective trees MUST be implemented when option (b) is used to provide the inter-AS VPLS service. They MAY be used when option (c) is implemented to provide the inter-AS VPLS service.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当选项（b）用于提供AS间VPLS服务时，必须实现AS间分段选择性树。当实施选项（c）以提供内部AS VPLS服务时，可以使用它们。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A Segmented inter-AS Selective Tunnel is constructed similar to an inter-AS Segmented Inclusive Tunnel. Namely, such a tunnel is constructed as a concatenation of tunnel segments. There are two types of tunnel segments: an intra-AS tunnel segment (a segment that spans ASBRs within the same AS) and inter-AS tunnel segment (a segment that spans adjacent ASBRs in adjacent ASes). ASes that are spanned by a tunnel are not required to use the same tunneling mechanism to construct the tunnel -- each AS may pick up a tunneling mechanism to construct the intra-AS tunnel segment of the tunnel, in its AS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
分段式AS间选择性隧道的构造类似于AS间分段式包容性隧道。也就是说，这种隧道是作为隧道段的串联而建造的。有两种类型的隧道段：内部AS隧道段（跨越与相同区域内的ASBR的段）和内部AS隧道段（跨越相邻ASes中相邻ASBR的段）。隧道跨越的ASE不需要使用相同的隧道机制来构建隧道——每个AS都可以选择隧道机制来构建其AS中的隧道内段。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The PE that decides to set up a Selective tree advertises the Selective tree to multicast stream binding using an S-PMSI A-D route, as per procedures in the &#34;Advertising (C-S, C-G) Binding to a Selective Tree&#34; section, to the routers in its own AS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
决定建立选择树的PE根据“广告（C-S，C-G）绑定到选择树”部分中的程序，使用S-PMSI a-D路由向其自身as中的路由器广告选择树到多播流绑定。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An S-PMSI A-D route advertised outside the AS, to which the originating PE belongs, will be referred to as an Inter-AS S-PMSI tree A-D route (although this route is originated by a PE as an intra-AS S-PMSI A-D route, it is referred to as an Inter-AS route outside the AS).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
发起PE所属的在AS外部播发的S-PMSI A-D路由将被称为AS间S-PMSI树A-D路由（尽管该路由由PE作为AS内S-PMSI A-D路由发起，但在AS外部被称为AS间路由）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4.2.1. Handling S-PMSI A-D Routes by ASBRs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4.2.1. ASBR处理S-PMSI A-D路由
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Procedures for handling an S-PMSI A-D route by ASBRs (both within and outside of the AS of the PE that originates the route) are the same as specified in the &#34;Propagating BGP VPLS A-D Routes to Other ASes&#34; section, except that instead of Inter-AS A-D routes and their NLRI, these procedures apply to S-PMSI A-D routes and their NLRI.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ASBR处理S-PMSI A-D路由的程序（在发起路由的PE的AS内部和外部）与“将BGP VPLS A-D路由传播到其他ASE”部分中的规定相同，只是这些程序不适用于AS间A-D路由及其NLRI，而适用于S-PMSI A-D路由及其NLRI。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In addition to these procedures, an ASBR advertises a leaf A-D route in response to an S-PMSI A-D route only if:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
除这些程序外，ASBR仅在以下情况下，才针对S-PMSI a-D路由播发叶a-D路由：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The S-PMSI A-D route was received via EBGP from another ASBR and the ASBR merges the S-PMSI A-D route into an Inter-AS BGP VPLS A-D route as described in the next section. OR
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ S-PMSI A-D路由通过EBGP从另一个ASBR接收，ASBR将S-PMSI A-D路由合并到AS BGP VPLS A-D路由中，如下一节所述。或
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The ASBR receives a leaf A-D route from a downstream PE or ASBR in response to the S-PMSI A-D route, received from an upstream PE or ASBR, that the ASBR propagated inter-AS to downstream ASBRs and PEs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ ASBR从下游PE或ASBR接收叶a-D路由，以响应ASBR在AS间向下游ASBR和PE传播的从上游PE或ASBR接收的S-PMSI a-D路由。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The ASBR has snooped state from local CEs that matches the NLRI carried in the S-PMSI A-D route as per the following rules:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ ASBR已根据以下规则从与S-PMSI A-D路由中携带的NLRI匹配的本地CE窥探状态：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
i) The NLRI encodes (C-S, C-G), which is the same as the snooped (C-S, C-G)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
i) NLRI编码（C-S，C-G），与窥探（C-S，C-G）相同
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
ii) The NLRI encodes (*, C-G), there is snooped state for at least one (C-S, C-G), and there is no other matching S-PMSI A-D route for (C-S, C-G) OR there is snooped state for (*, C-G)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
ii）NLRI编码（*，C-G），至少有一个（C-S，C-G）存在窥探状态，并且（C-S，C-G）没有其他匹配的S-PMSI A-D路由，或者（*，C-G）存在窥探状态
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-4">
iii) The NLRI encodes (*, *), there is snooped state for at least one (C-S, C-G) or (*, C-G), and there is no other matching S-PMSI A-D route for that (C-S, C-G) or (*, C-G), respectively.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-4">
iii）NLRI编码（*，*），至少有一个（C-S，C-G）或（*，C-G）存在窥探状态，并且该（C-S，C-G）或（*，C-G）没有其他匹配的S-PMSI A-D路由。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The C-multicast data traffic is sent on the Selective tree by the originating PE. When it reaches an ASBR that is on the inter-AS segmented tree, it is delivered to local receivers, if any. It is then forwarded on any inter-AS or intra-AS segments that exist on the Inter-AS Selective segmented tree. If the Inter-AS Selective segmented tree is merged onto an Inclusive tree, as described in the next section, the data traffic is forwarded onto the Inclusive tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
C多播数据流量由发起PE在选择树上发送。当它到达位于inter AS分段树上的ASBR时，它将被传送到本地接收器（如果有）。然后，它被转发到存在于内部AS选择性分段树上的任何内部AS或内部AS段上。如下一节所述，如果将AS间选择性分段树合并到包含树上，则数据流量将转发到包含树上。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4.2.1.1. Merging Selective Tree into an Inclusive Tree
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4.2.1.1. 将选择树合并为包含树
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Consider the situation where:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
考虑以下情况：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ An ASBR is receiving (or expecting to receive) inter-AS (C-S, C-G) data from upstream via a Selective tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ ASBR通过选择树从上游接收（或期望接收）AS间（C-S，C-G）数据。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The ASBR is sending (or expecting to send) the inter-AS (C-S, C-G) data downstream via an Inclusive tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ ASBR正在通过包含树向下游发送（或期望发送）内部AS（C-S、C-G）数据。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This situation may arise if the upstream providers have a policy of using Selective trees but the downstream providers have a policy of using Inclusive trees. To support this situation, an ASBR MAY, under certain conditions, merge one or more upstream Selective trees into a downstream Inclusive tree. Note that this can be the case only for option (b) and not for option (c) as, for option (c), the ASBRs do not have Inclusive tree state.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果上游提供者有使用选择性树的策略，但下游提供者有使用包容性树的策略，则可能出现这种情况。为了支持这种情况，ASBR可以在特定条件下将一个或多个上游选择性树合并为下游包容性树。请注意，这可能仅适用于选项（b），而不适用于选项（c），因为对于选项（c），ASBR没有包含树状态。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A Selective tree (corresponding to a particular S-PMSI A-D route) MAY be merged by a particular ASBR into an Inclusive tree (corresponding to a particular Inter-AS BGP VPLS A-D route) if and only if the following conditions all hold:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当且仅当以下条件均成立时，特定ASBR可将选择树（对应于特定S-PMSI A-D路由）合并到包含树（对应于特定AS间BGP VPLS A-D路由）中：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The S-PMSI A-D route and the Inter-AS BGP VPLS A-D route originate in the same AS. The Inter-AS BGP VPLS A-D route carries the originating AS in the AS_PATH attribute of the route. The S-PMSI A-D route carries the originating AS in the AS_PATH attribute of the route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ S-PMSI A-D路由和AS间BGP VPLS A-D路由起源于相同的AS。内部AS BGP VPLS A-D路由在路由的AS_路径属性中携带始发AS。S-PMSI A-D路由在路由的AS_路径属性中携带始发AS。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ The S-PMSI A-D route and the Inter-AS BGP VPLS A-D route have exactly the same set of RTs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ S-PMSI A-D路由和Inter-AS BGP VPLS A-D路由具有完全相同的RTs集。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An ASBR performs merging by stitching the tail end of the P-tunnel, as specified in the PMSI Tunnel attribute of the S-PMSI A-D route received by the ASBR, to the head of the P-tunnel, as specified in the PMSI Tunnel attribute of the Inter-AS BGP VPLS A-D route re-advertised by the ASBR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ASBR通过将ASBR接收的S-PMSI A-D路由的PMSI tunnel属性中指定的P隧道尾端缝合到ASBR重新公布的as BGP VPLS A-D路由的PMSI tunnel属性中指定的P隧道头部来执行合并。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An ASBR that merges an S-PMSI A-D route into an Inter-AS BGP VPLS A-D route MUST NOT re-advertise the S-PMSI A-D route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
将S-PMSI A-D路由合并到AS BGP VPLS A-D路由的ASBR不得重新公布S-PMSI A-D路由。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4.3. Inter-AS Non-segmented Selective Trees
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4.3. Inter-AS非分段选择性树
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Inter-AS Non-segmented Selective trees MAY be used in the case of option (c).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在选项（c）的情况下，可以使用中间AS非分段选择性树。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this method, there is a multi-hop EBGP peering between the PEs (or a Route Reflector) in one AS and the PEs (or Route Reflector) in another AS. The PEs exchange BGP Selective tree A-D routes, along with PMSI Tunnel attribute, as in the intra-AS case described in the &#34;Option (c): Non-segmented Tunnels&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在该方法中，在一个AS中的PEs（或路由反射器）和另一个AS中的PEs（或路由反射器）之间存在多跳EBGP对等。PEs交换BGP选择性树A-D路由以及PMSI隧道属性，如“选项（c）：非分段隧道”部分中所述的as内情况。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The PEs in different ASes use a non-segmented Selective inter-AS P2MP tunnel for VPLS multicast.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
不同ASE中的PE使用非分段选择性AS间P2MP隧道进行VPLS多播。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This method requires no VPLS information (in either the control or the data plane) on the ASBRs. The ASBRs only need to participate in the non-segmented P2MP tunnel setup in the control plane and do MPLS label forwarding in the data plane.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此方法不需要ASBR上的VPLS信息（在控件或数据平面中）。ASBR只需要在控制平面中参与非分段P2MP隧道设置，并在数据平面中进行MPLS标签转发。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The data forwarding in this model is the same as in the intra-AS case described in the &#34;Establishing P-Multicast Trees&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此模型中的数据转发与“建立P-多播树”部分中描述的帧内as情况相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. BGP Extensions
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. BGP扩展
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section describes the encoding of the BGP extensions required by this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节介绍本文档所需的BGP扩展的编码。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.1. Inclusive Tree/Selective Tree Identifier
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.1. 包含树/选择性树标识符
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Inclusive P-multicast tree and Selective P-multicast tree advertisements carry the P-multicast tree identifier. For the purpose of carrying this identifier, this document reuses the BGP attribute, called &#34;PMSI_TUNNEL&#34; that is defined in [RFC6514].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
包含P-多播树和选择性P-多播树广告携带P-多播树标识符。为了携带该标识符，本文档重用了BGP属性，即[RFC6514]中定义的“PMSI_TUNNEL”。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document supports only the following Tunnel Types when the PMSI Tunnel attribute is carried in VPLS A-D or VPLS S-PMSI A-D routes:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当在VPLS A-D或VPLS S-PMSI A-D路由中携带PMSI隧道属性时，本文档仅支持以下隧道类型：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     + 0 - No tunnel information present
     + 1 - RSVP-TE P2MP LSP
     + 2 - LDP P2MP LSP
     + 6 - Ingress Replication
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     + 0 - No tunnel information present
     + 1 - RSVP-TE P2MP LSP
     + 2 - LDP P2MP LSP
     + 6 - Ingress Replication
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.2. MCAST-VPLS NLRI
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.2. MCAST-VPLS NLRI
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document defines a new BGP NLRI, called the &#34;MCAST-VPLS NLRI&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档定义了一个新的BGP NLRI，称为“MCAST-VPLS NLRI”。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Following is the format of the MCAST-VPLS NLRI:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
以下是MCAST-VPLS NLRI的格式：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                +-----------------------------------+
                |    Route Type (1 octet)           |
                +-----------------------------------+
                |     Length (1 octet)              |
                +-----------------------------------+
                |    Route Type specific (variable) |
                +-----------------------------------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                +-----------------------------------+
                |    Route Type (1 octet)           |
                +-----------------------------------+
                |     Length (1 octet)              |
                +-----------------------------------+
                |    Route Type specific (variable) |
                +-----------------------------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Route Type field defines encoding of the Route Type specific field of MCAST-VPLS NLRI.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
路由类型字段定义MCAST-VPLS NLRI路由类型特定字段的编码。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Length field indicates the length in octets of the Route Type specific field of MCAST-VPLS NLRI.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
长度字段表示MCAST-VPLS NLRI路由类型特定字段的长度（以八位字节为单位）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document defines the following route types for A-D routes:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件定义了A-D路线的以下路线类型：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 3 - Selective Tree A-D route; + 4 - Leaf A-D route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
+ 3-选择性树A-D路由；+4叶A-D路线。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The MCAST-VPLS NLRI is carried in BGP using BGP Multiprotocol Extensions [RFC4760] with an Address Family Identifier (AFI) of 25 (L2VPN AFI), and a Subsequent Address Family Identifier (SAFI) of MCAST-VPLS. The NLRI field in the MP_REACH_NLRI/MP_UNREACH_NLRI attribute contains the MCAST-VPLS NLRI (encoded as specified above).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MCAST-VPLS NLRI在BGP中使用BGP多协议扩展[RFC4760]，地址族标识符（AFI）为25（L2VPN AFI），以及MCAST-VPLS的后续地址族标识符（SAFI）。MP_REACH_NLRI/MP_UNREACH_NLRI属性中的NLRI字段包含MCAST-VPLS NLRI（编码如上所述）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In order for two BGP speakers to exchange labeled MCAST-VPLS NLRI, they must use BGP Capabilities Advertisement to ensure that they both are capable of properly processing such NLRI. This is done as specified in [RFC4760], by using capability code 1 (multiprotocol BGP) with an AFI of 25 and a SAFI of MCAST-VPLS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
为了让两个BGP扬声器交换标记为MCAST-VPLS NLRI的语音，他们必须使用BGP播发功能，以确保他们都能够正确处理此类NLRI。这是按照[RFC4760]中的规定，通过使用AFI为25且SAFI为MCAST-VPLS的能力代码1（多协议BGP）实现的。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following describes the format of the Route Type specific field of MCAST-VPLS NLRI for various route types defined in this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
以下描述了本文档中定义的各种路由类型的MCAST-VPLS NLRI路由类型特定字段的格式。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.2.1. S-PMSI A-D Route
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.2.1. S-PMSI A-D路由
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Route Type specific field of MCAST-VPLS NLRI of an S-PMSI A-D route consists of the following:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
S-PMSI A-D路由的MCAST-VPLS NLRI的路由类型特定字段包括以下内容：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                +-----------------------------------+
                |      RD   (8 octets)              |
                +-----------------------------------+
                | Multicast Source Length (1 octet) |
                +-----------------------------------+
                |  Multicast Source (Variable)      |
                +-----------------------------------+
                |  Multicast Group Length (1 octet) |
                +-----------------------------------+
                |  Multicast Group   (Variable)     |
                +-----------------------------------+
                |   Originating Router&#39;s IP Addr    |
                +-----------------------------------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                +-----------------------------------+
                |      RD   (8 octets)              |
                +-----------------------------------+
                | Multicast Source Length (1 octet) |
                +-----------------------------------+
                |  Multicast Source (Variable)      |
                +-----------------------------------+
                |  Multicast Group Length (1 octet) |
                +-----------------------------------+
                |  Multicast Group   (Variable)     |
                +-----------------------------------+
                |   Originating Router&#39;s IP Addr    |
                +-----------------------------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The RD is encoded as described in [RFC4364].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RD按照[RFC4364]中所述进行编码。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Multicast Source field contains the C-S address, i.e., the address of the multicast source. If the Multicast Source field contains an IPv4 address, then the value of the Multicast Source Length field is 32. If the Multicast Source field contains an IPv6 address, then the value of the Multicast Source Length field is 128. The value of the Multicast Source Length field may be set to 0 to indicate a wildcard.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
多播源字段包含C-S地址，即多播源的地址。如果多播源字段包含IPv4地址，则多播源长度字段的值为32。如果多播源字段包含IPv6地址，则多播源长度字段的值为128。多播源长度字段的值可以设置为0以指示通配符。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Multicast Group field contains the C-G address, i.e., the address of the multicast group. If the Multicast Group field contains an IPv4 address, then the value of the Multicast Group Length field is 32. If the Multicast Group field contains an IPv6 address, then the value of the Multicast Group Length field is 128. The Multicast Group Length field may be set to 0 to indicate a wildcard.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
多播组字段包含C-G地址，即多播组的地址。如果多播组字段包含IPv4地址，则多播组长度字段的值为32。如果多播组字段包含IPv6地址，则多播组长度字段的值为128。多播组长度字段可以设置为0以指示通配符。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Whether the Originating Router&#39;s IP Address field carries an IPv4 or IPv6 address is determined by the value of the Length field of the MCAST-VPLS NLRI. If the Multicast Source field contains an IPv4 address and the Multicast Group field contains an IPv4 address, then the value of the Length field is 22 bytes if the Originating Router&#39;s IP Address carries an IPv4 address and 34 bytes if it is an IPv6 address. If the Multicast Source and Multicast Group fields contain IPv6 addresses, then the value of the Length field is 46 bytes if the Originating Router&#39;s IP Address carries an IPv4 address and 58 bytes if it is an IPv6 address. The following table summarizes the above.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
发起路由器的IP地址字段是否携带IPv4或IPv6地址由MCAST-VPLS NLRI的长度字段的值确定。如果多播源字段包含IPv4地址，多播组字段包含IPv4地址，则如果发起路由器的IP地址包含IPv4地址，则长度字段的值为22字节，如果是IPv6地址，则长度字段的值为34字节。如果多播源和多播组字段包含IPv6地址，则如果发起路由器的IP地址包含IPv4地址，则长度字段的值为46字节，如果是IPv6地址，则长度字段的值为58字节。下表总结了上述内容。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Multicast Multicast Originating Router&#39;s Length Source Group IP Address
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
多播源路由器的长度源组IP地址
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
IPv4 IPv4 IPv4 22 IPv4 IPv4 IPv6 34 IPv6 IPv6 IPv4 46 IPv6 IPv6 IPv6 58
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
IPv4 IPv4 22 IPv4 IPv6 34 IPv6 IPv4 46 IPv6 58
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Usage of Selective Tree A-D routes is described in the &#34;Optimizing Multicast Distribution via Selective Trees&#34; section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
选择性树A-D路由的使用在“通过选择性树优化多播分布”一节中描述。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.2.2. Leaf A-D Route
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.2.2. 叶A-D路线
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Route Type specific field of MCAST-VPLS NLRI of a leaf A-D route consists of the following:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
叶a-D路由的MCAST-VPLS NLRI的路由类型特定字段包括以下内容：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                +-----------------------------------+
                |      Route Key (variable)         |
                +-----------------------------------+
                |   Originating Router&#39;s IP Addr    |
                +-----------------------------------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                +-----------------------------------+
                |      Route Key (variable)         |
                +-----------------------------------+
                |   Originating Router&#39;s IP Addr    |
                +-----------------------------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Whether the Originating Router&#39;s IP Address field carries an IPv4 or IPv6 address is determined by the Length field of the MCAST-VPLS NLRI and the length of the Route Key field. From these two length fields, one can compute the length of the Originating Router&#39;s IP Address. If this computed length is 4, then the address is an IPv4 address; if its 16, then the address is an IPv6 address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
发起路由器的IP地址字段是否携带IPv4或IPv6地址取决于MCAST-VPLS NLRI的长度字段和路由密钥字段的长度。从这两个长度字段中，可以计算原始路由器IP地址的长度。如果此计算长度为4，则该地址为IPv4地址；如果是16，则该地址是IPv6地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Usage of leaf A-D routes is described in the &#34;Inter-AS Inclusive P-Multicast Tree A-D/Binding&#34; and &#34;Optimizing Multicast Distribution via Selective Trees&#34; sections.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
叶A-D路由的使用在“AS间包含P-多播树A-D/绑定”和“通过选择性树优化多播分布”部分中进行了描述。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10. Aggregation Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10. 聚合注意事项
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document does not specify the mandatory implementation of any particular set of rules for determining whether or not the Inclusive or Selective trees of two particular VPLS instances are to be instantiated by the same Aggregate Inclusive/Selective tree. This determination can be made by implementation-specific heuristics, by configuration, or even perhaps by the use of offline tools.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件未规定任何特定规则集的强制实施，以确定两个特定VPLS实例的包含树或选择性树是否由同一聚合包含树/选择性树实例化。可以通过特定于实现的启发式、配置，甚至可能通过使用脱机工具来确定。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section discusses potential methodologies with respect to aggregation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节讨论与聚合相关的潜在方法。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In general, the heuristic used to decide which VPLS instances or &lt;C-S, C-G&gt; entries to aggregate is implementation dependent. It is also conceivable that offline tools can be used for this purpose. This section discusses some trade-offs with respect to aggregation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
通常，用于决定聚合哪些VPLS实例或&lt;C-S，C-G&gt;条目的启发式方法取决于实现。也可以设想，脱机工具可用于此目的。本节讨论了有关聚合的一些权衡。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The &#34;congruency&#34; of aggregation is defined by the amount of overlap in the leaves of the client trees that are aggregated on an SP tree. For Aggregate Inclusive trees, the congruency depends on the overlap in the membership of the VPLS instances that are aggregated on the Aggregate Inclusive tree. If there is complete overlap, aggregation is perfectly congruent. As the overlap between the VPLS instances that are aggregated reduces, the congruency reduces.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
聚合的“一致性”由在SP树上聚合的客户机树的叶子中的重叠量定义。对于聚合包含树，一致性取决于聚合包含树上聚合的VPLS实例成员资格的重叠。如果存在完全重叠，则聚合是完全一致的。随着聚合的VPLS实例之间的重叠减少，一致性降低。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
From the above definition of &#34;congruency&#34;, it follows that in order for a given PE to determine the congruency of the client trees that this PE could aggregate, the PE has to know the leaves of these client trees. This is irrespective of whether the aggregated SP tree is established using mLDP or RSVP-TE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
根据上述“一致性”的定义，为了让给定PE确定该PE可以聚合的客户树的一致性，PE必须知道这些客户树的叶子。这与聚合SP树是使用mLDP还是RSVP-TE建立无关。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If aggregation is done such that it is not perfectly congruent, a PE may receive traffic for VPLS instances to which it doesn&#39;t belong. As the amount of multicast traffic in these unwanted VPLS instances increases, aggregation becomes less optimal with respect to delivered traffic. Hence, there is a trade-off between reducing multicast state in the core and delivering unwanted traffic.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果聚合的完成使得它不是完全一致的，则PE可能会接收它不属于的VPLS实例的流量。随着这些不需要的VPLS实例中的多播通信量的增加，聚合相对于交付的通信量变得不那么优化。因此，在减少核心中的多播状态和提供不需要的通信量之间存在权衡。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An implementation should provide knobs to control aggregation based on the congruency of the tree to be aggregated. This will allow an SP to deploy aggregation depending on the VPLS membership and traffic profiles in its network. If different PEs are setting up Aggregate Inclusive trees, this will also allow an SP to engineer the maximum amount of unwanted VPLS instances for which a particular PE may receive traffic.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
实现应该提供旋钮，以根据要聚合的树的一致性来控制聚合。这将允许SP根据其网络中的VPLS成员资格和流量配置文件部署聚合。如果不同的PE正在设置聚合包含树，这也将允许SP设计特定PE可能接收流量的最大数量的不需要的VPLS实例。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The state/bandwidth optimality trade-off can be further improved by having a versatile many-to-many association between client trees and provider trees. Thus, a VPLS instance can be mapped to multiple Aggregate trees. The mechanisms for achieving this are for further study. Also, it may be possible to use both ingress replication and an Aggregate tree for a particular VPLS. Mechanisms for achieving this are also for further study.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
通过在客户端树和提供者树之间建立多功能的多对多关联，可以进一步改进状态/带宽优化权衡。因此，一个VPLS实例可以映射到多个聚合树。实现这一点的机制有待进一步研究。此外，对于特定VPL，还可以使用入口复制和聚合树。实现这一点的机制也有待进一步研究。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11. Data Forwarding
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11. 数据前送
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11.1. MPLS Tree Encapsulation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11.1. MPLS树封装
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11.1.1. Mapping Multiple VPLS Instances to a P2MP LSP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11.1.1. 将多个VPLS实例映射到P2MP LSP
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following diagram shows the progression of the VPLS multicast packet as it enters and leaves the SP network when MPLS trees are being used for multiple VPLS instances. RSVP-TE P2MP LSPs are examples of such trees.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
下图显示了当MPLS树用于多个VPLS实例时，VPLS多播数据包进入和离开SP网络的过程。RSVP-TE P2MP LSP就是此类树的示例。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Packets received Packets in transit Packets forwarded at ingress PE in the service by egress PEs provider network
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
数据包在传输过程中接收的数据包由出口PEs提供商网络在服务中的入口PE转发的数据包
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                              +---------------+
                              |MPLS Tree Label|
                              +---------------+
                              | VPLS Label    |
      ++=============++       ++=============++       ++=============++
      ||C-Ether Hdr  ||       || C-Ether Hdr ||       || C-Ether Hdr ||
      ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++
      || C-IP Header ||       || C-IP Header ||       || C-IP Header ||
      ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++
      || C-Payload   ||       || C-Payload   ||       || C-Payload   ||
      ++=============++       ++=============++       ++=============++
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                              +---------------+
                              |MPLS Tree Label|
                              +---------------+
                              | VPLS Label    |
      ++=============++       ++=============++       ++=============++
      ||C-Ether Hdr  ||       || C-Ether Hdr ||       || C-Ether Hdr ||
      ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++
      || C-IP Header ||       || C-IP Header ||       || C-IP Header ||
      ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++
      || C-Payload   ||       || C-Payload   ||       || C-Payload   ||
      ++=============++       ++=============++       ++=============++
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an ingress PE receives a packet, the ingress PE using the procedures defined in [RFC4761] and [RFC4762] determines the VPLS instance associated with the packet. If the packet is an IP multicast packet, and the ingress PE uses an Aggregate Selective tree for the (C-S, C-G) carried in the packet, then the ingress PE pushes the VPLS Label associated with the VPLS instance on the ingress PE and the MPLS Tree Label associated with the Aggregate Selective tree, and it sends the packet over the P2MP LSP associated with the Aggregate Selective tree. Otherwise, if the ingress PE does not use an Aggregate Selective tree for the (C-S, C-G), or the packet is either non-IP multicast or broadcast, the ingress PE pushes the VPLS label associated with the VPLS instance on the ingress PE and the MPLS Tree Label associated with the Aggregate Inclusive tree, and it sends the packet over the P2MP LSP associated with the Aggregate Inclusive tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当入口PE接收到数据包时，入口PE使用[RFC4761]和[RFC4762]中定义的过程确定与该数据包关联的VPLS实例。如果该分组是IP多播分组，并且入口PE对该分组中携带的（C-S，C-G）使用聚合选择树，则入口PE将与入口PE上的VPLS实例相关联的VPLS标签和与聚合选择树相关联的MPLS树标签推送，并且它通过与聚合选择树相关联的P2MP LSP发送分组。否则，如果入口PE没有为（C-S，C-G）使用聚合选择树，或者包是非IP多播或广播的，则入口PE推送入口PE上与VPLS实例关联的VPLS标签和与聚合包含树关联的MPLS树标签，并且它通过与聚合包含树相关联的P2MP LSP发送数据包。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The egress PE does a lookup on the outer MPLS tree label, and determines the MPLS forwarding table in which to look up the inner MPLS label (VPLS label). This table is specific to the tree label space (as identified by the MPLS Tree Label). The inner label (VPLS label) is unique within the context of the root of the tree (as it is
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
出口PE查找外部MPLS树标签，并确定要在其中查找内部MPLS标签（VPLS标签）的MPLS转发表。此表特定于树标签空间（由MPLS树标签标识）。内部标签（VPLS标签）在树的根上下文中是唯一的（按原样）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
assigned by the root of the tree, without any coordination with any other nodes). Thus, it is not unique across multiple roots. So, to unambiguously identify a particular VPLS, one has to know the VPLS label, and the context within which that label is unique. The context is provided by the outer MPLS label (MPLS Tree Label) [RFC5331].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
由树的根指定，不与任何其他节点进行任何协调）。因此，它在多个根中不是唯一的。因此，要明确标识特定的VPLS，必须知道VPLS标签，以及该标签唯一的上下文。上下文由外部MPLS标签（MPLS树标签）[RFC5331]提供。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The outer MPLS label is popped. The lookup of the resulting MPLS label determines the VSI in which the egress PE needs to do the C-multicast data packet lookup. It then pops the inner MPLS label and sends the packet to the VSI for multicast data forwarding.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
弹出外部MPLS标签。结果MPLS标签的查找确定出口PE需要在其中执行C-多播数据分组查找的VSI。然后，它弹出内部MPLS标签，并将数据包发送到VSI进行多播数据转发。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11.1.2. Mapping One VPLS Instance to a P2MP LSP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11.1.2. 将一个VPLS实例映射到P2MP LSP
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following diagram shows the progression of the VPLS multicast packet as it enters and leaves the SP network when a given MPLS tree is being used for a single VPLS instance. RSVP-TE P2MP LSPs are examples of such trees.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
下图显示了当给定MPLS树用于单个VPLS实例时，VPLS多播数据包进入和离开SP网络的过程。RSVP-TE P2MP LSP就是此类树的示例。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Packets received Packets in transit Packets forwarded at ingress PE in the service by egress PEs provider network
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
数据包在传输过程中接收的数据包由出口PEs提供商网络在服务中的入口PE转发的数据包
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                              +---------------+
                              |MPLS Tree Label|
      ++=============++       ++=============++       ++=============++
      ||C-Ether Hdr  ||       || C-Ether Hdr ||       || C-Ether Hdr ||
      ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++
      || C-IP Header ||       || C-IP Header ||       || C-IP Header ||
      ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++
      || C-Payload   ||       || C-Payload   ||       || C-Payload   ||
      ++=============++       ++=============++       ++=============++
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                              +---------------+
                              |MPLS Tree Label|
      ++=============++       ++=============++       ++=============++
      ||C-Ether Hdr  ||       || C-Ether Hdr ||       || C-Ether Hdr ||
      ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++
      || C-IP Header ||       || C-IP Header ||       || C-IP Header ||
      ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++ &gt;&gt;&gt;&gt;&gt; ++=============++
      || C-Payload   ||       || C-Payload   ||       || C-Payload   ||
      ++=============++       ++=============++       ++=============++
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an ingress PE receives a packet, the ingress PE using the procedures defined in [RFC4761] and [RFC4762] determines the VPLS instance associated with the packet. If the packet is an IP multicast packet, and the ingress PE uses a Selective tree for the (C-S, C-G) carried in the packet, then the ingress PE pushes the MPLS Tree Label associated with the Selective tree, and it sends the packet over the P2MP LSP associated with the Selective tree. Otherwise, if the ingress PE does not use a Selective tree for the (C-S, C-G), or the packet is either non-IP multicast or broadcast, the ingress PE pushes the MPLS Tree Label associated with the Inclusive tree, and it sends the packet over the P2MP LSP associated with the Inclusive tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当入口PE接收到数据包时，入口PE使用[RFC4761]和[RFC4762]中定义的过程确定与该数据包关联的VPLS实例。如果该分组是IP多播分组，并且入口PE对该分组中携带的（C-S，C-G）使用选择树，则入口PE推送与该选择树相关联的MPLS树标签，并且它通过与该选择树相关联的P2MP LSP发送该分组。否则，如果入口PE不为（C-S，C-G）使用选择树，或者分组是非IP多播或广播的，则入口PE推送与包含树相关联的MPLS树标签，并通过与包含树相关联的P2MP LSP发送分组。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The egress PE does a lookup on the MPLS tree label and determines the VSI in which the receiver PE needs to do the C-multicast data packet lookup. It then pops the MPLS label and sends the packet to the VSI for multicast data forwarding.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
出口PE在MPLS树标签上执行查找，并确定接收器PE需要在其中执行C多播数据分组查找的VSI。然后，它弹出MPLS标签并将数据包发送到VSI进行多播数据转发。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
12. VPLS Data Packet Treatment
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
12. 数据包处理
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the destination MAC address of a VPLS packet received by an ingress PE from a VPLS site is a multicast address, a P-multicast tree SHOULD be used to transport the packet, if possible. If the packet is an IP multicast packet and a Selective tree exists for that multicast stream, the Selective tree MUST be used. Else, if a (C-*, C-*) Selective tree exists for the VPLS it SHOULD be used. Else, if an Inclusive tree exists for the VPLS, it SHOULD be used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果入口PE从VPLS站点接收到的VPLS数据包的目标MAC地址是多播地址，则应尽可能使用P多播树来传输该数据包。如果数据包是IP多播数据包，并且该多播流存在选择树，则必须使用选择树。否则，如果VPL存在（C-*，C-*）选择树，则应使用它。否则，如果VPL存在包含树，则应使用它。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the destination MAC address of a VPLS packet is a broadcast address, it is flooded. If a (C-*, C-*) Selective tree exists for the VPLS, the PE SHOULD flood over it. Else, if an Inclusive tree exists for the VPLS, the PE SHOULD flood over it. Else, the PE MUST flood the packet using the procedures in [RFC4761] or [RFC4762].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果VPLS数据包的目标MAC地址是广播地址，则它将被淹没。如果VPL存在（C-*，C-*）选择树，则PE应淹没该树。否则，如果VPL存在一个包含树，PE应该淹没它。否则，PE必须使用[RFC4761]或[RFC4762]中的过程来洪泛数据包。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the destination MAC address of a packet is a unicast address and it has not been learned, the packet MUST be sent to all PEs in the VPLS. Inclusive P-multicast trees or a Selective P-multicast tree bound to (C-*, C-*) SHOULD be used for sending unknown unicast MAC packets to all PEs. When this is the case, the receiving PEs MUST support the ability to perform MAC address learning for packets received on a multicast tree. In order to perform such learning, the receiver PE MUST be able to determine the sender PE when a VPLS packet is received on a P-multicast tree. This further implies that the MPLS P-multicast tree technology MUST allow the egress PE to determine the sender PE from the received MPLS packet.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果数据包的目标MAC地址是单播地址，并且尚未读入，则必须将数据包发送到VPLS中的所有PE。应使用包含性P多播树或绑定到（C-*，C-*）的选择性P多播树向所有PE发送未知单播MAC数据包。在这种情况下，接收PE必须支持对多播树上接收的数据包执行MAC地址学习的能力。为了执行这种学习，当在P-多播树上接收到VPLS分组时，接收机PE必须能够确定发送方PE。这进一步意味着MPLS P多播树技术必须允许出口PE根据接收到的MPLS分组确定发送方PE。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a receiver PE receives a VPLS packet with a source MAC address, which has not yet been learned, on a P-multicast tree, the receiver PE determines the PW to the sender PE. The receiver PE then creates forwarding state in the VPLS instance with a destination MAC address being the same as the source MAC address being learned, and the PW being the PW to the sender PE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当接收器PE在P-多播树上接收到具有源MAC地址（尚未读入）的VPLS分组时，接收器PE确定发送给发送者PE的PW。然后，接收方PE在VPLS实例中创建转发状态，目标MAC地址与正在学习的源MAC地址相同，PW是发送方PE的PW。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It should be noted that when a sender PE that is sending packets destined to an unknown unicast MAC address over a P-multicast tree learns the PW to use for forwarding packets destined to this unicast MAC address, it might immediately switch to transport such packets over this particular PW. Since the packets were initially being forwarded using a P-multicast tree, this could lead to packet
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
应当注意，当通过P-多播树发送目的地为未知单播MAC地址的分组的发送方PE学习到PW用于转发目的地为该单播MAC地址的分组时，它可以立即切换到通过该特定PW传输此类分组。由于数据包最初是使用P-多播树转发的，这可能导致数据包丢失
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
reordering. This constraint should be taken into consideration if unknown unicast frames are forwarded using a P-multicast tree, instead of multiple PWs based on [RFC4761] or [RFC4762].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
重新排序。如果使用P-多播树转发未知单播帧，而不是基于[RFC4761]或[RFC4762]的多个PW，则应考虑此约束。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An implementation SHOULD support the ability to transport unknown unicast traffic over Inclusive P-multicast trees. Furthermore, an implementation MUST support the ability to perform MAC address learning for packets received on a P-multicast tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
一个实现应该支持通过包含的P-多播树传输未知的单播流量。此外，实现必须支持对P-多播树上接收的数据包执行MAC地址学习的能力。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
13. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
13. 安全考虑
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Security considerations discussed in [RFC4761] and [RFC4762] apply to this document. This section describes additional considerations.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4761]和[RFC4762]中讨论的安全注意事项适用于本文档。本节介绍其他注意事项。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As mentioned in [RFC4761], there are two aspects to achieving data privacy and protecting against denial-of-service attacks in a VPLS: securing the control plane and protecting the forwarding path. Compromise of the control plane could result in a PE sending multicast data belonging to some VPLS to another VPLS, or black-holing VPLS multicast data, or even sending it to an eavesdropper; none of which are acceptable from a data privacy point of view. In addition, compromise of the control plane could result in black-holing VPLS multicast data and could provide opportunities for unauthorized VPLS multicast usage (e.g., exploiting traffic replication within a multicast tree to amplify a denial-of-service attack based on sending large amounts of traffic).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如[RFC4761]所述，在VPLS中实现数据隐私和防止拒绝服务攻击有两个方面：保护控制平面和保护转发路径。控制平面的泄露可能导致PE将属于某些VPL的多播数据发送给另一个VPL，或对VPLS多播数据进行黑洞处理，甚至将其发送给窃听者；从数据隐私的角度来看，这些都是不可接受的。此外，控制平面的泄露可能导致VPLS多播数据的黑洞，并可能为未经授权的VPLS多播使用提供机会（例如，利用多播树中的流量复制来放大基于发送大量流量的拒绝服务攻击）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The mechanisms in this document use BGP for the control plane. Hence, techniques such as in [RFC5925] help authenticate BGP messages, making it harder to spoof updates (which can be used to divert VPLS traffic to the wrong VPLS) or withdrawals (denial-of-service attacks). In the multi-AS methods (b) and (c) described in the &#34;Inter-AS Inclusive P-Multicast Tree A-D/Binding&#34; section, this also means protecting the inter-AS BGP sessions, between the ASBRs, the PEs, or the Route Reflectors.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档中的机制使用BGP作为控制平面。因此，[RFC5925]中的技术有助于验证BGP消息，使欺骗更新（可用于将VPLS流量转移到错误的VPL）或撤回（拒绝服务攻击）变得更加困难。在“包含AS间的P-多播树A-D/绑定”一节中描述的多AS方法（b）和（c）中，这也意味着保护ASBR、PEs或路由反射器之间的AS间BGP会话。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that [RFC5925] will not help in keeping MPLS labels, associated with P2MP LSPs or the upstream MPLS labels used for aggregation, private -- knowing the labels, one can eavesdrop on VPLS traffic. However, this requires access to the data path within an SP network, which is assumed to be composed of trusted nodes/links.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
请注意，[RFC5925]将无助于保持MPLS标签（与P2MP LSP或用于聚合的上游MPLS标签关联）的私有性——知道这些标签，就可以窃听VPLS流量。但是，这需要访问SP网络内的数据路径，假定SP网络由受信任的节点/链路组成。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
One of the requirements for protecting the data plane is that the MPLS labels be accepted only from valid interfaces. This applies both to MPLS labels associated with P2MP LSPs and to the upstream-assigned MPLS labels. For a PE, valid interfaces comprise links from other routers in the PE&#39;s own AS. For an ASBR, valid interfaces comprise links from other routers in the ASBR&#39;s own AS, and links
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
保护数据平面的要求之一是只能从有效接口接受MPLS标签。这既适用于与P2MP LSP关联的MPLS标签，也适用于上游分配的MPLS标签。对于PE，有效接口包括来自PE自身AS中其他路由器的链路。对于ASBR，有效接口包括来自ASBR自身AS中其他路由器的链路和链路
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
from other ASBRs in ASes that have instances of a given VPLS. It is especially important in the case of multi-AS VPLS instances that one accept VPLS packets only from valid interfaces.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
来自ASE中具有给定VPL实例的其他ASBR。在多AS VPLS实例的情况下，仅接受来自有效接口的VPLS数据包尤为重要。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
14. IANA Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
14. IANA考虑
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document defines a new NLRI, called &#34;MCAST-VPLS&#34;, to be carried in BGP using multiprotocol extensions. IANA has assigned it a SAFI value of 8.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档定义了一个新的NLRI，称为“MCAST-VPLS”，将使用多协议扩展在BGP中进行。IANA将SAFI值指定为8。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document defines a BGP-optional transitive attribute called &#34;PMSI_TUNNEL&#34;. This is the same attribute as the one defined in [RFC6514] and the code point for this attribute has already been assigned by IANA as 22 [BGP-IANA]. Hence, no further action is required from IANA regarding this attribute.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档定义了一个名为“PMSI_TUNNEL”的BGP可选传递属性。该属性与[RFC6514]中定义的属性相同，且IANA已将该属性的代码点指定为22[BGP-IANA]。因此，IANA无需对此属性采取进一步行动。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
15. References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
15. 工具书类
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
15.1. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
15.1. 规范性引用文件
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, March 1997.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119]Bradner，S.，“RFC中用于表示需求水平的关键词”，BCP 14，RFC 2119，1997年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3209] Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V., and G. Swallow, &#34;RSVP-TE: Extensions to RSVP for LSP Tunnels&#34;, RFC 3209, December 2001.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3209]Awduche，D.，Berger，L.，Gan，D.，Li，T.，Srinivasan，V.，和G.Swallow，“RSVP-TE：LSP隧道RSVP的扩展”，RFC 3209，2001年12月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4760] Bates, T., Chandra, R., Katz, D., and Y. Rekhter, &#34;Multiprotocol Extensions for BGP-4&#34;, RFC 4760, January 2007.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4760]Bates，T.，Chandra，R.，Katz，D.，和Y.Rekhter，“BGP-4的多协议扩展”，RFC 4760，2007年1月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4761] Kompella, K., Ed., and Y. Rekhter, Ed., &#34;Virtual Private LAN Service (VPLS) Using BGP for Auto-Discovery and Signaling&#34;, RFC 4761, January 2007.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4761]Kompella，K.，Ed.，和Y.Rekhter，Ed.，“使用BGP进行自动发现和信令的虚拟专用LAN服务（VPLS）”，RFC 4761，2007年1月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4762] Lasserre, M., Ed., and V. Kompella, Ed., &#34;Virtual Private LAN Service (VPLS) Using Label Distribution Protocol (LDP) Signaling&#34;, RFC 4762, January 2007.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4762]Lasserre，M.，Ed.，和V.Kompella，Ed.，“使用标签分发协议（LDP）信令的虚拟专用LAN服务（VPLS）”，RFC 4762，2007年1月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5036] Andersson, L., Ed., Minei, I., Ed., and B. Thomas, Ed., &#34;LDP Specification&#34;, RFC 5036, October 2007.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5036]Andersson，L.，Ed.，Minei，I.，Ed.，和B.Thomas，Ed.，“LDP规范”，RFC 5036，2007年10月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5331] Aggarwal, R., Rekhter, Y., and E. Rosen, &#34;MPLS Upstream Label Assignment and Context-Specific Label Space&#34;, RFC 5331, August 2008.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5331]Aggarwal，R.，Rekhter，Y.，和E.Rosen，“MPLS上游标签分配和上下文特定标签空间”，RFC 53312008年8月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6511] Ali, Z., Swallow, G., and R. Aggarwal, &#34;Non-Penultimate Hop Popping Behavior and Out-of-Band Mapping for RSVP-TE Label Switched Paths&#34;, RFC 6511, February 2012.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6511]Ali，Z.，Swallow，G.和R.Aggarwal，“RSVP-TE标签交换路径的非倒数第二跳弹出行为和带外映射”，RFC 65112012年2月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6512] Wijnands, IJ., Rosen, E., Napierala, M., and N. Leymann, &#34;Using Multipoint LDP When the Backbone Has No Route to the Root&#34;, RFC 6512, February 2012.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6512]Wijnands，IJ.，Rosen，E.，Napierala，M.，和N.Leymann，“当主干没有到根的路由时使用多点LDP”，RFC 6512，2012年2月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
15.2. Informative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
15.2. 资料性引用
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6514] Aggarwal, R., Rosen, E., Morin, T., and Y. Rekhter, &#34;BGP Encodings and Procedures for Multicast in MPLS/BGP IP VPNs&#34;, RFC 6514, February 2012.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6514]Aggarwal，R.，Rosen，E.，Morin，T.，和Y.Rekhter，“MPLS/BGP IP VPN中的BGP编码和多播过程”，RFC 6514，2012年2月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6513] Rosen, E., Ed., and R. Aggarwal, Ed., &#34;Multicast in MPLS/BGP IP VPNs&#34;, RFC 6513, February 2012.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6513]Rosen，E.，Ed.，和R.Aggarwal，Ed.，“MPLS/BGP IP VPN中的多播”，RFC 6513，2012年2月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6388] Wijnands, IJ., Ed., Minei, I., Ed., Kompella, K., and B. Thomas, &#34;Label Distribution Protocol Extensions for Point-to-Multipoint and Multipoint-to-Multipoint Label Switched Paths&#34;, RFC 6388, November 2011.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6388]Wijnands，IJ.，Ed.，Minei，I.，Ed.，Kompella，K.和B.Thomas，“点对多点和多点对多点标签交换路径的标签分发协议扩展”，RFC 6388，2011年11月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6074] Rosen, E., Davie, B., Radoaca, V., and W. Luo, &#34;Provisioning, Auto-Discovery, and Signaling in Layer 2 Virtual Private Networks (L2VPNs)&#34;, RFC 6074, January 2011.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6074]Rosen，E.，Davie，B.，Radoaca，V.，和W.Luo，“第二层虚拟专用网络（L2VPN）中的资源调配、自动发现和信令”，RFC 6074，2011年1月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5925] Touch, J., Mankin, A., and R. Bonica, &#34;The TCP Authentication Option&#34;, RFC 5925, June 2010.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5925]Touch，J.，Mankin，A.，和R.Bonica，“TCP认证选项”，RFC 59252010年6月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5501] Kamite, Y., Ed., Wada, Y., Serbest, Y., Morin, T., and L. Fang, &#34;Requirements for Multicast Support in Virtual Private LAN Services&#34;, RFC 5501, March 2009.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5501]Kamite，Y.，Ed.，Wada，Y.，Serbest，Y.，Morin，T.，和L.Fang，“虚拟专用LAN服务中多播支持的要求”，RFC 55012009年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5332] Eckert, T., Rosen, E., Ed., Aggarwal, R., and Y. Rekhter, &#34;MPLS Multicast Encapsulations&#34;, RFC 5332, August 2008.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5332]Eckert，T.，Rosen，E.，Ed.，Aggarwal，R.，和Y.Rekhter，“MPLS多播封装”，RFC 5332，2008年8月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4684] Marques, P., Bonica, R., Fang, L., Martini, L., Raszuk, R., Patel, K., and J. Guichard, &#34;Constrained Route Distribution for Border Gateway Protocol/MultiProtocol Label Switching (BGP/MPLS) Internet Protocol (IP) Virtual Private Networks (VPNs)&#34;, RFC 4684, November 2006.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4684]Marques，P.，Bonica，R.，Fang，L.，Martini，L.，Raszuk，R.，Patel，K.，和J.Guichard，“边界网关协议/多协议标签交换（BGP/MPLS）互联网协议（IP）虚拟专用网络（VPN）的受限路由分布”，RFC 46842006年11月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4875] Aggarwal, R., Ed., Papadimitriou, D., Ed., and S. Yasukawa, Ed., &#34;Extensions to Resource Reservation Protocol - Traffic Engineering (RSVP-TE) for Point-to-Multipoint TE Label Switched Paths (LSPs)&#34;, RFC 4875, May 2007.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4875]Aggarwal，R.，Ed.，Papadimitriou，D.，Ed.，和S.Yasukawa，Ed.，“资源预留协议的扩展-点对多点TE标签交换路径（LSP）的流量工程（RSVP-TE）”，RFC 48752007年5月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4601] Fenner, B., Handley, M., Holbrook, H., and I. Kouvelas, &#34;Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)&#34;, RFC 4601, August 2006.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4601]Fenner，B.，Handley，M.，Holbrook，H.，和I.Kouvelas，“协议独立多播-稀疏模式（PIM-SM）：协议规范（修订版）”，RFC 46012006年8月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4541] Christensen, M., Kimball, K., and F. Solensky, &#34;Considerations for Internet Group Management Protocol (IGMP) and Multicast Listener Discovery (MLD) Snooping Switches&#34;, RFC 4541, May 2006.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4541]Christensen，M.，Kimball，K.，和F.Solensky，“互联网组管理协议（IGMP）和多播侦听器发现（MLD）窥探交换机的注意事项”，RFC 4541，2006年5月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4447] Martini, L., Ed., Rosen, E., El-Aawar, N., Smith, T., and G. Heron, &#34;Pseudowire Setup and Maintenance Using the Label Distribution Protocol (LDP)&#34;, RFC 4447, April 2006.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4447]Martini，L.，Ed.，Rosen，E.，El Aawar，N.，Smith，T.，和G.Heron，“使用标签分发协议（LDP）的伪线设置和维护”，RFC 4447，2006年4月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4364] Rosen, E. and Y. Rekhter, &#34;BGP/MPLS IP Virtual Private Networks (VPNs)&#34;, RFC 4364, February 2006.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4364]Rosen，E.和Y.Rekhter，“BGP/MPLS IP虚拟专用网络（VPN）”，RFC 4364，2006年2月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3810] Vida, R., Ed., and L. Costa, Ed., &#34;Multicast Listener Discovery Version 2 (MLDv2) for IPv6&#34;, RFC 3810, June 2004.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3810]Vida，R.，Ed.，和L.Costa，Ed.，“IPv6的多播侦听器发现版本2（MLDv2）”，RFC 38102004年6月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3376] Cain, B., Deering, S., Kouvelas, I., Fenner, B., and A. Thyagarajan, &#34;Internet Group Management Protocol, Version 3&#34;, RFC 3376, October 2002.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3376]Cain，B.，Deering，S.，Kouvelas，I.，Fenner，B.，和A.Thyagarajan，“互联网组管理协议，第3版”，RFC 3376，2002年10月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2710] Deering, S., Fenner, W., and B. Haberman, &#34;Multicast Listener Discovery (MLD) for IPv6&#34;, RFC 2710, October 1999.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2710]Deering，S.，Fenner，W.，和B.Haberman，“IPv6的多播侦听器发现（MLD）”，RFC 2710，1999年10月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2236] Fenner, W., &#34;Internet Group Management Protocol, Version 2&#34;, RFC 2236, November 1997.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2236]Fenner，W.，“互联网组管理协议，第2版”，RFC 2236，1997年11月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC1997] Chandra, R., Traina, P., and T. Li, &#34;BGP Communities Attribute&#34;, RFC 1997, August 1996.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC1997]Chandra，R.，Traina，P.，和T.Li，“BGP社区属性”，RFC 1997，1996年8月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[MULTI-HOMING] Kothari, B., Kompella, K., Henderickx, W., Balus, F., Uttaro, J., Palislamovic, S., and W. Lin, &#34;BGP based Multi-homing in Virtual Private LAN Service&#34;, Work in Progress, July 2013.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[MULTI-HOMING]Kothari，B.，Kompella，K.，Henderickx，W.，Balus，F.，Uttaro，J.，Palislamovic，S.，和W.Lin，“虚拟专用局域网服务中基于BGP的多主服务”，正在进行中，2013年7月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[BGP-IANA] IANA, &#34;Border Gateway Protocol (BGP) Parameters&#34;, &lt;http://www.iana.org/assignments/bgp-parameters&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[BGP-IANA]IANA，“边界网关协议（BGP）参数”&lt;http://www.iana.org/assignments/bgp-parameters&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
16. Acknowledgments
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
16. 致谢
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Many thanks to Thomas Morin for his support of this work.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
非常感谢托马斯·莫林对这项工作的支持。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
We would also like to thank authors of [RFC6514] and [RFC6513], as the details of the inter-AS segmented tree procedures in this document, as well as some text that describes these procedures have benefited from those in [RFC6514] and [RFC6513]. The same applies to the notion of Inclusive and Selective trees, as well as the procedures for switching from Inclusive to Selective trees.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
我们还要感谢[RFC6514]和[RFC6513]的作者，因为本文件中关于as间分段树过程的详细信息，以及描述这些过程的一些文本都从[RFC6514]和[RFC6513]中受益。这同样适用于包含树和选择性树的概念，以及从包含树切换到选择性树的过程。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
We would also like to thank Nabil Bitar, Stewart Bryant, Wim Henderickx, and Eric Rosen for their review and comments.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
我们还要感谢纳比尔·比塔尔、斯图尔特·布莱恩特、维姆·亨德里克斯和埃里克·罗森的评论和评论。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Authors&#39; Addresses
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
作者地址
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Rahul Aggarwal 998 Lucky Avenue Menlo Park, CA 94025 USA Phone: +1-415-806-5527 EMail: raggarwa_1@yahoo.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Rahul Aggarwal 998 Lucky Avenue Menlo Park，CA 94025美国电话：+1-415-806-5527电子邮件：raggarwa_1@yahoo.com
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Yuji Kamite NTT Communications Corporation Granpark Tower 3-4-1 Shibaura, Minato-ku Tokyo 108-8118 Japan EMail: y.kamite@ntt.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Yuji Kamite NTT Communications Corporation Granpark Tower 3-4-1 Shibaura，Minato ku东京108-8118日本电子邮件：y。kamite@ntt.com
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Luyuan Fang Microsoft EMail: lufang@microsoft.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
方禄源微软电子邮件：lufang@microsoft.com
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Yakov Rekhter Juniper Networks 1194 North Mathilda Ave. Sunnyvale, CA 94089 USA EMail: yakov@juniper.net
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Yakov Rekhter Juniper Networks 1194 North Mathilda Ave.Sunnyvale，CA 94089美国电子邮件：yakov@juniper.net
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Chaitanya Kodeboniya EMail: chaitk@yahoo.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
柴坦尼亚柯达博尼亚电子邮件：chaitk@yahoo.com
        </p>
      </div>
    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
