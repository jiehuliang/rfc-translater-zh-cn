<!DOCTYPE html>

<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name='description' content="RFC 2583:  Guidelines for Next Hop Client (NHC) Developers 中文翻译 中文RFC RFC文档 RFC翻译 RFC中文版">
  <title>RFC2583 中文翻译 中文RFC RFC文档 RFC翻译 RFC中文版</title>

  <link rel="shortcut icon" type="image/x-icon"
    href="favicon.ico" />

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="master.css">
  <script src="index.js"></script>
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?b7f7721ebaa11b23aaf77df0590e7f4a";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  <script data-ad-client="ca-pub-9129771189441092" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  
</head>
<body>
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC2CN</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="about.html">打赏</a>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">2583</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc2583">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <div class="row">
      <div id="rfc_header" class="col-sm-12 col-md-12">
        <div class="alert alert-info" role="alert">
          <h1 class="alert-heading">RFC 2583:  Guidelines for Next Hop Client (NHC) Developers  中文翻译</h1>
          <span class="URL">URL :
            <a href="https://datatracker.ietf.org/doc/html/rfc2583">
              https://datatracker.ietf.org/doc/html/rfc2583
            </a>
          </span><br>
          <span class="title_ja">
            标题 : <strong>RFC 2583</strong></span><br>
          <span class="updated_by">翻译类型 : 自动生成</span><br>
        </div>
      </div>
      <div id="rfc_alert" class="col-sm-12 col-md-12 hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
Network Working Group                                       R. Carlson
Request for Comments: 2583                                         ANL
Category: Informational                                     L. Winkler
                                                                   ANL
                                                              May 1999
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
Network Working Group                                       R. Carlson
Request for Comments: 2583                                         ANL
Category: Informational                                     L. Winkler
                                                                   ANL
                                                              May 1999
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
Guidelines for Next Hop Client (NHC) Developers
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
下一跳客户端（NHC）开发人员指南
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of this Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
本备忘录的状况
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This memo provides information for the Internet community. It does not specify an Internet standard of any kind. Distribution of this memo is unlimited.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本备忘录为互联网社区提供信息。它没有规定任何类型的互联网标准。本备忘录的分发不受限制。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
版权公告
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (C) The Internet Society (1999). All Rights Reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
版权所有（C）互联网协会（1999年）。版权所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. Abstract
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. 摘要
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document provides guidelines for developers of the Next Hop Resolution Protocol Clients (NHC). It assumes that the clients are directly connected to an ATM based NBMA network. The same principles will apply to clients connected to other types of NBMA networks. The intent is to define the interaction between the NHC code and the TCP/IP protocol stack of the local host operating system. The NHC is capable of sending NHRP requests to a Next Hop Resolution Protocol Server (NHS) to resolve both inter and intra LIS addresses. The NHS reply may be positive (ACK) indicating a short-cut path is available or negative (NAK) indicating that a shortcut is not available and the routed path must be used. The NHC must cache (maintain state) for both the ACK and NAK replies in order to use the correct shortcut or routed path. The NAK reply must be cached to avoid making repeated requests to the NHS when the routed path is being used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档为下一跳解析协议客户端（NHC）的开发人员提供了指南。它假设客户端直接连接到基于ATM的NBMA网络。同样的原则也适用于连接到其他类型NBMA网络的客户端。目的是定义NHC代码和本地主机操作系统的TCP/IP协议栈之间的交互。NHC能够向下一跳解析协议服务器（NHS）发送NHRP请求，以解析LIS内部和内部地址。NHS回复可以是肯定的（ACK），表示有一条捷径可用，也可以是否定的（NAK），表示没有捷径可用，必须使用路由路径。NHC必须缓存（保持状态）ACK和NAK应答，以便使用正确的快捷方式或路由路径。必须缓存NAK应答，以避免在使用路由路径时重复向NHS发出请求。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. Overview
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. 概述
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the Classical IP over ATM model [1], an ATM attached host communicates with an ATMARP server to resolve IP to ATM address semantics. This model supports the concept of a Logical IP Subnet (LIS) with intra LIS communications using direct PVCs/SVCs and inter LIS communications using IP routers to forward packets. This model easily maps to the conventional LAN model of subnets and routers. The Next Hop Resolution Protocol (NHRP) [2] defines how the LIS model can be modified to allow direct ATM SVCs (shortcut paths) for inter LIS traffic. With NHRP, nodes directly attached to an ATM network can bypass the IP routers and establish a direct switched virtual
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在经典的IP over ATM模型[1]中，ATM连接的主机与ATMARP服务器通信，以解析IP到ATM地址的语义。该模型支持逻辑IP子网（LIS）的概念，LIS内通信使用直接PVCs/SVC，LIS间通信使用IP路由器转发数据包。该模型很容易映射到子网和路由器的传统LAN模型。下一跳解析协议（NHRP）[2]定义了如何修改LIS模型，以允许LIS间通信的直接ATM SVC（快捷路径）。使用NHRP，直接连接到ATM网络的节点可以绕过IP路由器，建立直接交换虚拟机
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
circuit to improve performance when needed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
电路，以在需要时提高性能。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The NHS code replaces the ATMARP code in the ATMARP server. Each NHS serves a set of destination client hosts and cooperates with other NHSs to resolve NHRP next hop requests within their own logical ATM network. The NHC to NHS and NHS to NHS protocol interactions are described in [2]. Other documents in the NHRP series define the general applicability [3] and the transition from ATMARP servers to NHSs [4].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NHS代码替换ATMARP服务器中的ATMARP代码。每个NHS为一组目的地客户机主机提供服务，并与其他NHS合作，在其自己的逻辑ATM网络内解决NHRP下一跳请求。[2]中描述了NHC与NHS以及NHS与NHS协议的相互作用。NHRP系列中的其他文件定义了一般适用性[3]，以及从ATMARP服务器到NHSs的过渡[4]。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The NHC code replaces the ATMARP code in the local workstations. This code will take the destination IP address and map it into the ATM End Station Address (AESA) for both intra and inter LIS destinations. The returned AESA will be stored in a local cache table. In addition to storing the positive replies, the NHC will need to store the negative replies to avoid making repeated NHS calls when using the routed path.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NHC代码取代本地工作站中的ATMARP代码。该代码将获取目的地IP地址，并将其映射到LIS内和LIS间目的地的ATM终端站地址（AESA）。返回的AESA将存储在本地缓存表中。除了存储肯定回复外，NHC还需要存储否定回复，以避免在使用路由路径时重复拨打NHS电话。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes a base line method for caching the returned information. Other methods may be used as long as the same functionality is provided.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档描述了缓存返回信息的基线方法。只要提供相同的功能，就可以使用其他方法。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. IP Processing
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. IP处理
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the Classical IP LIS model [1] the TCP/IP protocol stack treats the ATM network as a simple data link layer protocol. When an application sends data using the Classical IP protocol, IP performs a routing table lookup to determine if the destination is reachable via a local interface or whether an intermediate router is the next hop to the IP destination.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在经典的IP LIS模型[1]中，TCP/IP协议栈将ATM网络视为一个简单的数据链路层协议。当应用程序使用经典IP协议发送数据时，IP执行路由表查找，以确定是否可以通过本地接口到达目的地，或者中间路由器是否是IP目的地的下一个跃点。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the destination is found to be local (e.g. in the same LIS as the source) the packet will be passed to the local ATM interface with the next hop IP address set to the destination nodes IP address. At this point the ATMARP table will be searched to determine the ATM Address of the destination node. If no ATMARP table entry is found an ATMARP request will be sent to the ATMARP server. This server can reply with a positive (ACK) or negative (NAK) answer depending on the current information it has in its cache. If an ACK is received the host&#39;s local ATMARP table is filled in appropriately and the source is now able to send IP datagrams to the destination. If a NAK is returned, the calling application is notified of this error condition (e.g., ICMP destination unreachable).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果发现目的地是本地的（例如，在与源相同的LIS中），数据包将被传递到本地ATM接口，下一跳IP地址设置为目的地节点IP地址。此时将搜索ATMARP表以确定目标节点的ATM地址。如果未找到ATMARP表条目，则将向ATMARP服务器发送ATMARP请求。根据缓存中的当前信息，此服务器可以使用肯定（ACK）或否定（NAK）应答。如果接收到ACK，则适当填写主机的本地ATMARP表，并且源现在能够向目标发送IP数据报。如果返回NAK，则会将此错误情况通知调用应用程序（例如，ICMP目标不可访问）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the destination is found to be remote (e.g., in a different LIS from the source) the IP address of the next hop router is extracted from the IP routing table and the ATM Address of this router is looked up in the ATMARP table. Since the router is in the same LIS
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果发现目的地是远程的（例如，在与源不同的LIS中），则从IP路由表中提取下一跳路由器的IP地址，并在ATMARP表中查找该路由器的ATM地址。因为路由器在同一个LIS中
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
as the source node, the ATMARP procedure described above will find the correct ATM Address or the packet will be marked as undeliverable and the user application will be notified of the error.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
作为源节点，上面描述的ATMARP过程将找到正确的ATM地址，或者数据包将被标记为无法交付，并且将向用户应用程序通知错误。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The ATMARP service functions exactly as the existing ARP service provided on Ethernet broadcast networks. Since the ARP service will only try and resolve addresses for nodes that are in a single IP subnet, the ARP table only needs to keep positive answers. No state information is retained about failed mappings.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ATMARP服务的功能与以太网广播网络上提供的现有ARP服务完全相同。由于ARP服务只会尝试解析单个IP子网中节点的地址，因此ARP表只需要保留肯定的答案。没有保留有关失败映射的状态信息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. NHC Processing
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. NHC处理
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this section we briefly describe what is required in order for a host to take advantage of shortcuts through the ATM network. On the host, a NHC process initiates various NHRP requests in order to obtain access to the NHRP service. Within the ATM subnetwork, the ATMARP server is replaced with a NHS. As defined in [4] the NHS is required to respond to both ATMARP and NHRP Resolution requests. In the nodes wishing to take advantage of shortcut paths across the ATM subnetwork, the ATMARP client code must be replaced with NHC code. This allows the source node to ask for the ATM AESA of both local and remote nodes. Finally the source node must be modified to know when it should ask for the ATM AESA of a remote node and when the local LIS router should be used. These modifications are described in the remainder of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在本节中，我们将简要介绍主机利用ATM网络的快捷方式所需的功能。在主机上，NHC进程启动各种NHRP请求，以获得对NHRP服务的访问权。在ATM子网内，ATMARP服务器被NHS替换。如[4]所定义，NHS需要对ATMARP和NHRP决议请求作出响应。在希望通过ATM子网利用快捷路径的节点中，必须用NHC代码替换ATMARP客户机代码。这允许源节点请求本地和远程节点的ATM AESA。最后，必须修改源节点，以了解何时应请求远程节点的ATM AESA以及何时应使用本地LIS路由器。这些修改将在本文档的其余部分中描述。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The protocol processing described in [2] states a source may query a NHS for the ATM AESA of a destination node. However as is pointed out in [5], to achieve shortcut paths through the ATM network, it is not enough to simply replace the ATMARP client code with the NHC code. This is because the source host will never ask the NHS for the ATM AESA of a node in a remote LIS. When the source consults the IP routing table, it performs the local/remote test, before the NHC code is processed. As a result, the IP address of the next hop router will be used by the NHC instead of the IP address of the remote (inter LIS) host. The NHC code must ignore the result of the IP routing table lookup and perform its own local/remote test.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[2]中描述的协议处理表明，源可以向NHS查询目的地节点的ATM AESA。然而，正如[5]中所指出的，要通过ATM网络实现快捷路径，仅仅用NHC代码替换ATMARP客户机代码是不够的。这是因为源主机永远不会向NHS请求远程LIS中节点的ATM AESA。当源查询IP路由表时，它会在处理NHC代码之前执行本地/远程测试。因此，NHC将使用下一跳路由器的IP地址，而不是远程（LIS间）主机的IP地址。NHC代码必须忽略IP路由表查找的结果，并执行自己的本地/远程测试。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The NHC must perform the following functions:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NHC必须执行以下功能：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. Test to see if the destination node is `local&#39; to this LIS. If so use the existing ATMARP rules described in [1]. 2. If not; send an NHRP message to the local NHS and attempt to setup a `shortcut&#39; path. If successful; save the IP to ATM AESA mapping in the local NHC cache. 3. If not successful; use the routed path and save this state in the NHC cache so future requests don&#39;t test for a shortcut again.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 测试以查看目标节点对此LIS是否为“本地”。如果是，请使用[1]中描述的现有ATMARP规则。2.若否,；向本地NHS发送NHRP消息，并尝试设置“快捷方式”路径。如果成功；将IP到ATM AESA映射保存在本地NHC缓存中。3.如果不成功；使用路由路径并将此状态保存在NHC缓存中，以便将来的请求不再测试快捷方式。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. Allow user application to override system default operation and explicitly request a shortcut or routed path for a flow.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. 允许用户应用程序覆盖系统默认操作，并显式请求流的快捷方式或路由路径。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is required that this routed path state will be maintained in the same manner as the existing ATMARP service. That is a timer will be used to expire old information and some administrative function exists to manually delete data if needed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
要求以与现有ATMARP服务相同的方式维护此路由路径状态。也就是说，计时器将用于使旧信息过期，并且存在一些管理功能，可以在需要时手动删除数据。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. Need for State
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. 对国家的需要
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is obvious that the IP to ATM AESA mappings should be maintained in a local cache to improve network performance. This soft state is maintained in today&#39;s ARP and ATMARP systems using timers to purge old or unused data. The NHC will maintain both inter and intra LIS IP to ATM Address mappings in the same manner. It may be less obvious that an NHC will also need to maintain this same soft state for inter LIS mappings using the routed path. If this state is not maintained, the source node will send requests to the NHS asking if a shortcut path can be setup every time a packet is sent over the routed path.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
很明显，IP到ATM AESA映射应该在本地缓存中维护，以提高网络性能。这种软状态在今天的ARP和ATMARP系统中使用定时器来清除旧的或未使用的数据。NHC将以相同的方式维护LIS间和LIS内IP到ATM的地址映射。NHC还需要为使用路由路径的LIS间映射保持相同的软状态，这一点可能不太明显。如果未保持此状态，则源节点将向NHS发送请求，询问是否可以在每次通过路由路径发送数据包时设置快捷路径。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Some of the features of this state are:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
这种状态的一些特征是：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. Cache lookups must be fast as they are done on every packet. 2. The cache lookup must be on the destination IP address instead of the next-hop router IP address. 3. Both ACK and NAK data should be cached for the length of the holding time parameter in the NHRP response.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 缓存查找必须像在每个数据包上一样快速。2.缓存查找必须位于目标IP地址，而不是下一跳路由器IP地址。3.ACK和NAK数据都应缓存在NHRP响应中的保持时间参数长度内。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Since state must be maintained, the questions of where to maintain it, how to manually managed it, and how to selectively override it need to be addressed. No matter where this state information is kept, a method for manually examining and changing this state information must be provided. This is essential to insure that the network is operating properly.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
由于必须维护状态，因此需要解决以下问题：在何处维护状态、如何手动管理状态以及如何选择性地覆盖状态。无论该状态信息保存在何处，都必须提供手动检查和更改该状态信息的方法。这对于确保网络正常运行至关重要。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There are several possible locations for storing this state information, they are:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
有几个可能的位置可用于存储此状态信息，它们是：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. Store state in the `ARP&#39; table. This is the traditional location for this IP to ATM address mappings. This table must be extended to handle the caching of negative (routed path) information. This solution provides a system wide service that may be used by the NHC. 2. Store state in the IP routing table. This is the traditional location for the local/remote state information.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 将状态存储在“ARP”表中。这是IP到ATM地址映射的传统位置。必须扩展此表以处理负面（路由路径）信息的缓存。此解决方案提供NHC可能使用的系统范围服务。2.在IP路由表中存储状态。这是本地/远程状态信息的传统位置。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. Store state in an ATM MIB structure. This is the traditional location for storing ATM VCC data. It also provides a system wide service that is geared toward ATM services. This avoids munging the `ARP&#39; table to hold negative data. 4. Store state in the TCP Process Control Block. This allows a per process tailoring of shortcut or routed path information. This works well for TCP connections, but not UDP style services. 5. Store state in the socket structure. This also allows per process tailoring of the state information. 6. Store state in a newly defined table.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. 在ATM MIB结构中存储状态。这是存储ATM VCC数据的传统位置。它还提供面向ATM服务的全系统服务。这避免了使用“ARP”表来保存负面数据。4.将状态存储在TCP进程控制块中。这允许按进程裁剪快捷方式或路由路径信息。这适用于TCP连接，但不适用于UDP样式的服务。5.在套接字结构中存储状态。这还允许每个进程对状态信息进行裁剪。6.将状态存储在新定义的表中。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The NHC should also support both local (per-process) and global (per-system) state. This would allow a system wide default while allowing a specific application to tailor the operation for a specific task. For example assume a site runs both a DNS server and FTP server on a single host. Inter LIS communications to the DNS server should take the routed path to avoid setup overhead. While an FTP session would benefit from the shortcut path to improve performance. Supporting both operations from a single client will require both a global state (e.g. use shortcut for FTP) and a local state (e.g. use routed path for DNS).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NHC还应支持本地（每个进程）和全局（每个系统）状态。这将允许系统范围的默认设置，同时允许特定应用程序为特定任务定制操作。例如，假设站点在单个主机上同时运行DNS服务器和FTP服务器。到DNS服务器的LIS间通信应采用路由路径，以避免设置开销。而FTP会话将受益于快捷路径以提高性能。从单个客户端支持这两种操作将需要全局状态（例如，对FTP使用快捷方式）和本地状态（例如，对DNS使用路由路径）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1 Using TCP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1 使用TCP
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
TCP is a connection orientated protocol that provides per-process state information using a TCP Protocol Control Block (PCB). This PCB can be used to save the shortcut/routed path state information. Using a quad-state flag that shows the USE_SHORT_CUT, TRY_SHORT_CUT, USE_ROUTED_PATH, or TRY_ROUTED_PATH states would allow each process to use the service it chooses. The advantage of this approach is that it allows per flow control over the use of the shortcut or routed path. The disadvantage is that this PCB is only created for TCP connections. UDP connections will only use the system default action.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
TCP是一种面向连接的协议，它使用TCP协议控制块（PCB）提供每个进程的状态信息。此PCB可用于保存快捷方式/路由路径状态信息。使用显示“使用\快捷方式”、“尝试\快捷方式”、“使用\路由\路径”或“尝试\路由\路径”状态的四态标志，将允许每个进程使用其选择的服务。这种方法的优点是，它允许每个流控制快捷方式或路由路径的使用。缺点是该PCB仅为TCP连接创建。UDP连接将仅使用系统默认操作。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A second option is to store this information in the socket PCB and use the socket function (setsockopt) to save this information. This option will allow both TCP and UDP applications to set a per flow action to override the system default operation. To enable this option, the IP kernel code will need to be modified to allow this quad-state flag to be set. In addition this flag will need to be checked when each packet is sent to determine the if the shortcut or routed path is being used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
第二个选项是将此信息存储在插座PCB中，并使用插座功能（setsockopt）保存此信息。此选项将允许TCP和UDP应用程序设置每流操作以覆盖系统默认操作。要启用此选项，需要修改IP内核代码以允许设置此四态标志。此外，在发送每个数据包时，需要检查此标志，以确定是否正在使用快捷方式或路由路径。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2 Using UDP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2 使用UDP
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
UDP is a connectionless orientated protocol that doesn&#39;t provide any support for state information. It relies on the application to provide the necessary state information. In this case where should the state be stored? The user application could store this itself and pass this down to the kernel in some manner. Another option is to store this information in an ATM MIB structure. A third option is to allow a socket option (setsockopt) that the user application can set to override the default behavior.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
UDP是一种面向连接的协议，不提供任何状态信息支持。它依赖于应用程序来提供必要的状态信息。在这种情况下，状态应存储在何处？用户应用程序可以自己存储它，并以某种方式将其传递给内核。另一种选择是将此信息存储在ATM MIB结构中。第三个选项是允许用户应用程序设置套接字选项（setsockopt）以覆盖默认行为。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3 Using ICMP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3 使用ICMP
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In keeping with the tradition of using ICMP echo packets for Internet management functions (e.g. ping, traceroute) then it will be necessary to allow these applications to run over the shortcut and routed paths. The user will need to be able to specify which path to use and a default action needs to be defined too.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
为了保持将ICMP回送数据包用于互联网管理功能（如ping、traceroute）的传统，有必要允许这些应用程序在快捷路径和路由路径上运行。用户需要能够指定要使用的路径，并且还需要定义默认操作。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. Conclusions
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. 结论
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NHRP provides new services and functionality for IP nodes using ATM networks. To use these services the client must store state information that describes whether a destination node is reachable via a shortcut or a routed path.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NHRP为使用ATM网络的IP节点提供了新的服务和功能。要使用这些服务，客户端必须存储状态信息，这些信息描述目标节点是否可以通过快捷方式或路由路径访问。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The state information should be stored on a global per-application basis with per-process override functionality. This allows short lived functions (e.g. DNS requests) and long lived requests (e.g. ftp sessions) to use different paths. Storing state only based on the destination address means that all processes must use the same path and this creates unreasonable demands on the network. To accomplish this the /etc/services file should be modified to carry a new flag to indicate the per-application default (shortcut vs. routed path) behavior.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
状态信息应基于全局每个应用程序存储，并具有每个进程覆盖功能。这允许短期功能（例如DNS请求）和长期请求（例如ftp会话）使用不同的路径。仅基于目标地址存储状态意味着所有进程必须使用相同的路径，这会对网络造成不合理的需求。为此，应修改/etc/services文件，使其带有新标志，以指示每个应用程序的默认（快捷方式与路由路径）行为。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This state information is required to avoid having the client make a call to the NHS for every packet it sends along the routed path. It is recommended that the IP routing table be modified to support a new flag. This flag will indicate whether the NHS returned an ACK or NAK to the NHRP request.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
该状态信息是必需的，以避免客户端对其沿路由路径发送的每个数据包呼叫NHS。建议修改IP路由表以支持新标志。该标志将指示NHS是否向NHRP请求返回ACK或NAK。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In addition, application programmers and system administrators require the ability to explicitly request a specific service (e.g. use the routed path or shortcut path). This includes the ability to verify network operation by specifying how ICMP echo requests (e.g. ping, traceroute) are handled. The NHC must support the manual setting of this state information. A new socket option that allows
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此外，应用程序程序员和系统管理员需要能够明确请求特定服务（例如，使用路由路径或快捷路径）。这包括通过指定如何处理ICMP回显请求（例如ping、traceroute）来验证网络操作的能力。NHC必须支持手动设置该状态信息。一个新的套接字选项，允许
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
the user to specify the operation needs to be supported.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
需要支持指定操作的用户。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To support this capability a new socket option will be created to allow the user application to control the operation of a particular connection (flow). This option will allow the user to specify that a connection use one of the following:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
为了支持此功能，将创建一个新的套接字选项，以允许用户应用程序控制特定连接（流）的操作。此选项将允许用户指定连接使用以下选项之一：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
* USE_SYSTEM_DEFAULT. Use the shortcut or routed path based on the system configuration information for this application. (This is the default behavior.) * USE_SHORT_CUT. If a shortcut path exists, then use it to deliver the data. If it doesn&#39;t exist, then try and create it. If the shortcut cannot be created, fail the connection and notify the user. * TRY_SHORT_CUT. If a shortcut path exists, then use it to deliver the data. If it doesn&#39;t exist, then try and create it. If the shortcut cannot be created, try using the routed path. * USE_ROUTED_PATH. Use the routed path regardless of whether a shortcut exists or not. * TRY_ROUTED_PATH. If a shortcut doesn&#39;t exist, don&#39;t try and create it, use the routed path instead.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
* 使用系统默认值。根据此应用程序的系统配置信息使用快捷方式或路由路径。（这是默认行为。）*使用快捷方式。如果存在快捷路径，则使用它传递数据。如果它不存在，那么尝试创建它。如果无法创建快捷方式，请连接失败并通知用户。*试试捷径。如果存在快捷路径，则使用它传递数据。如果它不存在，那么尝试创建它。如果无法创建快捷方式，请尝试使用路由路径。*使用路径。使用路由路径，无论是否存在快捷方式。*请尝试路径。如果快捷方式不存在，请不要尝试创建它，而是使用路由路径。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. Security
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. 安全
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The security issues for NHRP are addressed in other NHRP documents [2,3]. Some specific security issues for the NHC developer are discussed below.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NHRP的安全问题在其他NHRP文件[2,3]中有说明。下面讨论NHC开发人员的一些特定安全问题。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
* Address spoofing at the IP or ATM layer may allow an attacker to hi-jack an IP connection or service. This threat may be reduced by limiting the scope of the ATM routing domain. In this way only trusted IP hosts will be able to reach and use the services of the NHS. * Denial of service attacks may be launched at both the IP and ATM layers of the NHS. At the ATM layer, the attacker may repeatedly generate signaling messages that consuming system resources thus preventing NHCs from using the NHS services. At the IP layer, the attacker may register false IP to ATM mappings thus preventing a NHC from registering the correct IP to ATM mapping. * When a NHC creates or accepts a short-cut path it bypasses the site border router. Therefore, any security features in the border router are also bypassed. This threat may be reduced by limiting the scope of the ATM routing domain, increasing
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
* IP或ATM层的地址欺骗可能允许攻击者hi-jack IP连接或服务。通过限制ATM路由域的范围，可以减少这种威胁。这样，只有受信任的IP主机才能访问和使用NHS的服务。*拒绝服务攻击可能在NHS的IP和ATM层发起。在ATM层，攻击者可以重复生成消耗系统资源的信令消息，从而阻止NHC使用NHS服务。在IP层，攻击者可能会注册错误的IP到ATM映射，从而阻止NHC注册正确的IP到ATM映射。*当NHC创建或接受快捷路径时，它会绕过站点边界路由器。因此，边界路由器中的任何安全功能也被绕过。通过限制ATM路由域的范围，增加
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
security features in the NHC host, allowing the NHS to evaluate security features when short-cut paths are requested or a compination of all of these methods.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
NHC主机中的安全功能，允许NHS在请求快捷路径或所有这些方法的组合时评估安全功能。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. Authors&#39; Addresses
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. 作者地址
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Richard Carlson Argonne National Laboratory
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
理查德·卡尔森·阿贡国家实验室
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail: RACarlson@anl.gov
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail: RACarlson@anl.gov
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Linda Winkler Argonne National Laboratory
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
琳达·温克勒·阿贡国家实验室
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail: lwinkler@anl.gov
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail: lwinkler@anl.gov
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
9. References:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
9. 参考资料：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[1] Laubach, M. and J. Halpern, &#34;Classical IP and ARP over ATM&#34;, RFC 2225, April 1998.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[1] Laubach，M.和J.Halpern，“ATM上的经典IP和ARP”，RFC2225，1998年4月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[2] Luciani, J., Katz, D., Piscitello, D., Cole B. and N. Doraswamy, &#34;NBMA Next Hop Resolution Protocol (NHRP)&#34;, RFC 2332, April 1998.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[2] Luciani，J.，Katz，D.，Piscitello，D.，Cole B.和N.Doraswamy，“NBMA下一跳解析协议（NHRP）”，RFC 2332，1998年4月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[3] Cansever, D., &#34;NHRP Protocol Applicability Statement&#34;, RFC 2333, April 1998.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[3] Cansever，D.，“NHRP协议适用性声明”，RFC 2333，1998年4月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[4] Luciani, J., &#34;Classical IP to NHRP Transition&#34;, RFC 2336, July 1998.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[4] 卢西亚尼，J.，“传统知识产权到NHRP的过渡”，RFC 2336，1998年7月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[5] Rekhter, Y. and D. Kandlur, &#34;Local/Remote Forwarding Decision in Switched Data link Subnetworks&#34;, RFC 1937, May 1996.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[5] Rekhter，Y.和D.Kandlur，“交换数据链路子网中的本地/远程转发决策”，RFC 1937，1996年5月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10. Full Copyright Statement
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10. 完整版权声明
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (C) The Internet Society (1999). All Rights Reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
版权所有（C）互联网协会（1999年）。版权所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this paragraph are included on all such copies and derivative works. However, this document itself may not be modified in any way, such as by removing the copyright notice or references to the Internet Society or other Internet organizations, except as needed for the purpose of developing Internet standards in which case the procedures for copyrights defined in the Internet Standards process must be followed, or as required to translate it into languages other than English.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件及其译本可复制并提供给他人，对其进行评论或解释或协助其实施的衍生作品可全部或部分编制、复制、出版和分发，不受任何限制，前提是上述版权声明和本段包含在所有此类副本和衍生作品中。但是，不得以任何方式修改本文件本身，例如删除版权通知或对互联网协会或其他互联网组织的引用，除非出于制定互联网标准的需要，在这种情况下，必须遵循互联网标准过程中定义的版权程序，或根据需要将其翻译成英语以外的其他语言。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The limited permissions granted above are perpetual and will not be revoked by the Internet Society or its successors or assigns.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上述授予的有限许可是永久性的，互联网协会或其继承人或受让人不会撤销。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document and the information contained herein is provided on an &#34;AS IS&#34; basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件和其中包含的信息是按“原样”提供的，互联网协会和互联网工程任务组否认所有明示或暗示的保证，包括但不限于任何保证，即使用本文中的信息不会侵犯任何权利，或对适销性或特定用途适用性的任何默示保证。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Acknowledgement
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
确认
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Funding for the RFC Editor function is currently provided by the Internet Society.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC编辑功能的资金目前由互联网协会提供。
        </p>
      </div>
    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
