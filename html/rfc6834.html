<!DOCTYPE html>

<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name='description' content="RFC 6834: Locator/ID Separation Protocol (LISP) Map-Versioning中文翻译 中文RFC RFC文档 RFC翻译 RFC中文版">
  <title>RFC 6834: Locator/ID Separation Protocol (LISP) Map-Versioning中文翻译</title>

  <link rel="shortcut icon" type="image/x-icon"
    href="favicon.ico" />

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="master.css">
  <script src="index.js"></script>
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?b7f7721ebaa11b23aaf77df0590e7f4a";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  <script data-ad-client="ca-pub-9129771189441092" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  
</head>
<body>
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC2CN</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="about.html">关于</a>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">6834</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc6834">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <div class="row">
      <div id="rfc_header" class="col-sm-12 col-md-12">
        <div class="alert alert-info" role="alert">
          <h1 class="alert-heading">RFC 6834: Locator/ID Separation Protocol (LISP) Map-Versioning 中文翻译</h1>
          <span class="URL">URL :
            <a href="https://datatracker.ietf.org/doc/html/rfc6834">
              https://datatracker.ietf.org/doc/html/rfc6834
            </a>
          </span><br>
          <span class="title_ja">
            标题 : <strong>RFC 6834</strong></span><br>
          <span class="updated_by">翻译类型 : 自动生成</span><br>
        </div>
      </div>
      <div id="rfc_alert" class="col-sm-12 col-md-12 hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                        L. Iannone
Request for Comments: 6834                             Telecom ParisTech
Category: Experimental                                         D. Saucez
ISSN: 2070-1721                                   INRIA Sophia Antipolis
                                                          O. Bonaventure
                                        Universite catholique de Louvain
                                                            January 2013
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                        L. Iannone
Request for Comments: 6834                             Telecom ParisTech
Category: Experimental                                         D. Saucez
ISSN: 2070-1721                                   INRIA Sophia Antipolis
                                                          O. Bonaventure
                                        Universite catholique de Louvain
                                                            January 2013
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
Locator/ID Separation Protocol (LISP) Map-Versioning
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
定位器/ID分离协议（LISP）映射版本控制
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
摘要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes the LISP (Locator/ID Separation Protocol) Map-Versioning mechanism, which provides in-packet information about Endpoint ID to Routing Locator (EID-to-RLOC) mappings used to encapsulate LISP data packets. The proposed approach is based on associating a version number to EID-to-RLOC mappings and the transport of such a version number in the LISP-specific header of LISP-encapsulated packets. LISP Map-Versioning is particularly useful to inform communicating Ingress Tunnel Routers (ITRs) and Egress Tunnel Routers (ETRs) about modifications of the mappings used to encapsulate packets. The mechanism is transparent to implementations not supporting this feature, since in the LISP-specific header and in the Map Records, bits used for Map-Versioning can be safely ignored by ITRs and ETRs that do not support the mechanism.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档描述了LISP（定位器/ID分离协议）映射版本控制机制，该机制提供了有关用于封装LISP数据包的端点ID到路由定位器（EID到RLOC）映射的数据包内信息。提出的方法基于将版本号与EID到RLOC映射相关联，以及在LISP封装数据包的LISP特定报头中传输这样的版本号。LISP映射版本控制在通知通信入口隧道路由器（ITR）和出口隧道路由器（ETR）有关用于封装数据包的映射修改方面特别有用。该机制对不支持此功能的实现是透明的，因为在LISP特定的头和映射记录中，不支持该机制的ITR和ETR可以安全地忽略用于映射版本控制的位。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
关于下段备忘
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is not an Internet Standards Track specification; it is published for examination, experimental implementation, and evaluation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件不是互联网标准跟踪规范；它是为检查、实验实施和评估而发布的。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document defines an Experimental Protocol for the Internet community. This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Not all documents approved by the IESG are a candidate for any level of Internet Standard; see Section 2 of RFC 5741.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档为互联网社区定义了一个实验协议。本文件是互联网工程任务组（IETF）的产品。它代表了IETF社区的共识。它已经接受了公众审查，并已被互联网工程指导小组（IESG）批准出版。并非IESG批准的所有文件都适用于任何级别的互联网标准；见RFC 5741第2节。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc6834.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
有关本文件当前状态、任何勘误表以及如何提供反馈的信息，请访问http://www.rfc-editor.org/info/rfc6834.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
版权公告
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (c) 2013 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
版权所有（c）2013 IETF信托基金和确定为文件作者的人员。版权所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件受BCP 78和IETF信托有关IETF文件的法律规定的约束(http://trustee.ietf.org/license-info)自本文件出版之日起生效。请仔细阅读这些文件，因为它们描述了您对本文件的权利和限制。从本文件中提取的代码组件必须包括信托法律条款第4.e节中所述的简化BSD许可证文本，并提供简化BSD许可证中所述的无担保。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目录
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
   1. Introduction ....................................................3
   2. Requirements Notation ...........................................4
   3. Definitions of Terms ............................................4
   4. EID-to-RLOC Map-Version Number ..................................4
      4.1. The Null Map-Version .......................................5
   5. Dealing with Map-Version Numbers ................................6
      5.1. Handling Destination Map-Version Number ....................7
      5.2. Handling Source Map-Version Number .........................9
   6. LISP Header and Map-Version Numbers ............................10
   7. Map Record and Map-Version .....................................11
   8. Benefits and Case Studies for Map-Versioning ...................12
      8.1. Map-Versioning and Unidirectional Traffic .................12
      8.2. Map-Versioning and Interworking ...........................12
           8.2.1. Map-Versioning and Proxy-ITRs ......................13
           8.2.2. Map-Versioning and LISP-NAT ........................13
           8.2.3. Map-Versioning and Proxy-ETRs ......................14
      8.3. RLOC Shutdown/Withdraw ....................................14
      8.4. Map-Version for Lightweight LISP Implementation ...........15
   9. Incremental Deployment and Implementation Status ...............15
   10. Security Considerations .......................................16
      10.1. Map-Versioning against Traffic Disruption ................16
      10.2. Map-Versioning against Reachability Information DoS ......17
   11. Open Issues and Considerations ................................17
      11.1. Lack of Synchronization among ETRs .......................17
   12. Acknowledgments ...............................................19
   13. References ....................................................19
      13.1. Normative References .....................................19
      13.2. Informative References ...................................19
   Appendix A. Estimation of Time before Map-Version Wrap-Around .....21
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
   1. Introduction ....................................................3
   2. Requirements Notation ...........................................4
   3. Definitions of Terms ............................................4
   4. EID-to-RLOC Map-Version Number ..................................4
      4.1. The Null Map-Version .......................................5
   5. Dealing with Map-Version Numbers ................................6
      5.1. Handling Destination Map-Version Number ....................7
      5.2. Handling Source Map-Version Number .........................9
   6. LISP Header and Map-Version Numbers ............................10
   7. Map Record and Map-Version .....................................11
   8. Benefits and Case Studies for Map-Versioning ...................12
      8.1. Map-Versioning and Unidirectional Traffic .................12
      8.2. Map-Versioning and Interworking ...........................12
           8.2.1. Map-Versioning and Proxy-ITRs ......................13
           8.2.2. Map-Versioning and LISP-NAT ........................13
           8.2.3. Map-Versioning and Proxy-ETRs ......................14
      8.3. RLOC Shutdown/Withdraw ....................................14
      8.4. Map-Version for Lightweight LISP Implementation ...........15
   9. Incremental Deployment and Implementation Status ...............15
   10. Security Considerations .......................................16
      10.1. Map-Versioning against Traffic Disruption ................16
      10.2. Map-Versioning against Reachability Information DoS ......17
   11. Open Issues and Considerations ................................17
      11.1. Lack of Synchronization among ETRs .......................17
   12. Acknowledgments ...............................................19
   13. References ....................................................19
      13.1. Normative References .....................................19
      13.2. Informative References ...................................19
   Appendix A. Estimation of Time before Map-Version Wrap-Around .....21
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. 介绍
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes the Map-Versioning mechanism used to provide information on changes in the EID-to-RLOC (Endpoint ID to Routing Locator) mappings used in the LISP (Locator/ID Separation Protocol [RFC6830]) context to perform packet encapsulation. The mechanism is totally transparent to xTRs (Ingress and Egress Tunnel Routers) not supporting such functionality. It is not meant to replace any existing LISP mechanisms but rather to extend them by providing new functionalities. If for any unforeseen reason a normative conflict between this document and the LISP main specifications is found, the latter ([RFC6830]) has precedence over this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档描述了用于提供EID到RLOC（端点ID到路由定位器）映射更改信息的映射版本控制机制，该映射在LISP（定位器/ID分离协议[RFC6830]）上下文中用于执行数据包封装。该机制对不支持此类功能的XTR（入口和出口隧道路由器）完全透明。它不是要取代任何现有的LISP机制，而是通过提供新的功能来扩展它们。如果由于任何不可预见的原因，本文件与LISP主要规范之间存在规范冲突，则后者（[RFC6830]）优先于本文件。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The basic mechanism is to associate a Map-Version number to each LISP EID-to-RLOC mapping and transport such a version number in the LISP-specific header. When a mapping changes, a new version number is assigned to the updated mapping. A change in an EID-to-RLOC mapping can be a change in the RLOCs set, by adding or removing one or more RLOCs, but it can also be a change in the priority or weight of one or more RLOCs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
基本机制是将映射版本号与每个LISP EID到RLOC映射相关联，并在LISP特定的头中传输这样的版本号。当映射发生更改时，将为更新的映射分配新的版本号。通过添加或删除一个或多个RLOC，EID到RLOC映射中的更改可以是RLOC集合中的更改，但也可以是一个或多个RLOC的优先级或权重的更改。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When Map-Versioning is used, LISP-encapsulated data packets contain the version number of the two mappings used to select the RLOCs in the outer header (i.e., both source and destination). These version numbers are encoded in the 24 low-order bits of the first longword of the LISP header and indicated by a specific bit in the flags (first 8 high-order bits of the first longword of the LISP header). Note that not all packets need to carry version numbers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
使用映射版本控制时，LISP封装的数据包包含两个映射的版本号，这两个映射用于选择外部头中的RLOC（即源和目标）。这些版本号编码在LISP头的第一个长字的24个低位中，并由标志中的特定位（LISP头的第一个长字的前8个高位）表示。请注意，并非所有数据包都需要携带版本号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an ITR (Ingress Tunnel Router) encapsulates a data packet, with a LISP header containing the Map-Version numbers, it puts in the LISP-specific header two version numbers:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当ITR（入口隧道路由器）用包含Map版本号的LISP标头封装数据包时，它会在LISP特定标头中放入两个版本号：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. The version number assigned to the mapping (contained in the EID-to-RLOC Database) used to select the source RLOC.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 分配给用于选择源RLOC的映射（包含在EID到RLOC数据库中）的版本号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. The version number assigned to the mapping (contained in the EID-to-RLOC Cache) used to select the destination RLOC.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 分配给用于选择目标RLOC的映射（包含在EID到RLOC缓存中）的版本号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This operation is two-fold. On the one hand, it enables the ETR (Egress Tunnel Router) receiving the packet to know if the ITR has the latest version number that any ETR at the destination EID site has provided to the ITR in a Map-Reply. If this is not the case, the ETR can send to the ITR a Map-Request containing the updated mapping or solicit a Map-Request from the ITR (both cases are already defined in [RFC6830]). In this way, the ITR can update its EID-to-RLOC Cache. On the other hand, it enables an ETR receiving such a packet
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
这个操作有两个方面。一方面，它使接收数据包的ETR（出口隧道路由器）能够知道ITR是否具有目的地EID站点的任何ETR在Map应答中向ITR提供的最新版本号。如果情况并非如此，ETR可以向ITR发送包含更新映射的映射请求，或向ITR请求映射请求（这两种情况已在[RFC6830]中定义）。这样，ITR可以将其EID更新为RLOC缓存。另一方面，它使ETR能够接收这样的数据包
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
to know if it has in its EID-to-RLOC Cache the latest mapping for the source EID (in the case of bidirectional traffic). If this is not the case, a Map-Request can be sent.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
了解其EID到RLOC缓存中是否有源EID的最新映射（在双向通信的情况下）。如果情况并非如此，则可以发送映射请求。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Issues and concerns about the deployment of LISP for Internet traffic are discussed in [RFC6830]. Section 11 provides additional issues and concerns raised by this document. In particular, Section 11.1 provides details about the ETRs&#39; synchronization issue in the context of Map-Versioning.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6830]中讨论了有关为Internet流量部署LISP的问题和顾虑。第11节提供了本文件提出的其他问题和关注点。特别是，第11.1节提供了有关地图版本控制上下文中ETRs同步问题的详细信息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. Requirements Notation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. 需求符号
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this document are to be interpreted as described in [RFC2119].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件中的关键词“必须”、“不得”、“必需”、“应”、“不应”、“应”、“不应”、“建议”、“可”和“可选”应按照[RFC2119]中所述进行解释。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. Definitions of Terms
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. 术语的定义
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document uses terms already defined in the main LISP specification [RFC6830]. Here, we define the terms that are specific to the Map-Versioning mechanism. Throughout the whole document, Big Endian bit ordering is used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档使用了主LISP规范[RFC6830]中已经定义的术语。这里，我们定义特定于映射版本控制机制的术语。在整个文档中，使用了大端位排序。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Map-Version number: An unsigned 12-bit integer is assigned to an EID-to-RLOC mapping, not including the value 0 (0x000).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
映射版本号：将无符号12位整数分配给EID到RLOC映射，不包括值0（0x000）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Null Map-Version: The 12-bit null value of 0 (0x000) is not used as a Map-Version number. It is used to signal that no Map-Version number is assigned to the EID-to-RLOC mapping.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
空映射版本：0（0x000）的12位空值未用作映射版本号。它用于表示未向EID到RLOC映射分配映射版本号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Source Map-Version number: This Map-Version number of the EID-to-RLOC mapping is used to select the source address (RLOC) of the outer IP header of LISP-encapsulated packets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
源映射版本号：EID到RLOC映射的映射版本号用于选择LISP封装数据包的外部IP头的源地址（RLOC）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Destination Map-Version number: This Map-Version number of the EID-to-RLOC mapping is used to select the destination address (RLOC) of the outer IP header of LISP-encapsulated packets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
目标映射版本号：EID到RLOC映射的映射版本号用于选择LISP封装数据包的外部IP头的目标地址（RLOC）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. EID-to-RLOC Map-Version Number
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. EID到RLOC映射版本号
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The EID-to-RLOC Map-Version number consists of an unsigned 12-bit integer. The version number is assigned on a per-mapping basis, meaning that different mappings have a different version number, which is also updated independently. An update in the version number (i.e., a newer version) consists of incrementing by one the older version number. Appendix A contains a rough estimation of the wrap-around time for the Map-Version number.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
EID到RLOC映射版本号由无符号12位整数组成。版本号是基于每个映射分配的，这意味着不同的映射具有不同的版本号，版本号也会独立更新。版本号（即，较新版本）的更新由较旧版本号增加一个组成。附录A包含地图版本号的环绕时间的粗略估计。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The space of version numbers has a circular order where half of the version numbers are greater (i.e., newer) than the current Map-Version number and the other half of the version numbers are smaller (i.e., older) than the current Map-Version number. In a more formal way, assuming that we have two version numbers V1 and V2 and that the numbers are expressed in N bits, the following steps MUST be performed (in the same order as shown below) to strictly define their order:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
版本号的空间具有循环顺序，其中一半版本号大于（即更新）当前地图版本号，另一半版本号小于（即旧）当前地图版本号。以更正式的方式，假设我们有两个版本号V1和V2，并且这些数字以N位表示，必须执行以下步骤（按照如下所示的相同顺序）以严格定义它们的顺序：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. V1 = V2 : The Map-Version numbers are the same.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. V1=V2：地图版本号相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. V2 &gt; V1 : if and only if
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. V2&gt;V1：当且仅当
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
          V2 &gt; V1 AND (V2 - V1) &lt;= 2**(N-1)
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
          V2 &gt; V1 AND (V2 - V1) &lt;= 2**(N-1)
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
OR
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
或
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
          V1 &gt; V2 AND (V1 - V2) &gt; 2**(N-1)
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
          V1 &gt; V2 AND (V1 - V2) &gt; 2**(N-1)
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. V1 &gt; V2 : otherwise.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. V1&gt;V2：否则。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Using 12 bits, as defined in this document, and assuming a Map-Version value of 69, Map-Version numbers in the range [70; 69 + 2048] are greater than 69, while Map-Version numbers in the range [69 + 2049; (69 + 4096) mod 4096] are smaller than 69.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
使用本文档中定义的12位，并假设地图版本值为69，范围[70；69+2048]内的地图版本号大于69，而范围[69+2049；（69+4096）mod 4096]内的地图版本号小于69。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Map-Version numbers are assigned to mappings by configuration. The initial Map-Version number of a new EID-to-RLOC mapping SHOULD be assigned randomly, but it MUST NOT be set to the Null Map-Version value (0x000), because the Null Map-Version number has a special meaning (see Section 4.1).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
映射版本号按配置分配给映射。应随机分配新EID到RLOC映射的初始映射版本号，但不得将其设置为空映射版本值（0x000），因为空映射版本号具有特殊含义（参见第4.1节）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Upon reboot, an ETR will use mappings configured in its EID-to-RLOC Database. If those mappings have a Map-Version number, it will be used according to the mechanisms described in this document. ETRs MUST NOT automatically generate and assign Map-Version numbers to mappings in the EID-to-RLOC Database.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
重新启动后，ETR将使用其EID到RLOC数据库中配置的映射。如果这些映射具有映射版本号，则将根据本文档中描述的机制使用它。ETR不得自动生成映射版本号并将其分配给EID到RLOC数据库中的映射。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1. The Null Map-Version
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1. 空映射版本
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The value 0x000 (zero) is not a valid Map-Version number indicating the version of the EID-to-RLOC mapping. Such a value is used for special purposes and is named the Null Map-Version number.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
值0x000（零）不是指示EID到RLOC映射版本的有效映射版本号。此类值用于特殊目的，并命名为空映射版本号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Null Map-Version MAY appear in the LISP-specific header as either a Source Map-Version number (cf. Section 5.2) or a Destination Map-Version number (cf. Section 5.1). When the Source Map-Version number is set to the Null Map-Version value, it means that no map
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
空映射版本可以作为源映射版本号（参见第5.2节）或目标映射版本号（参见第5.1节）出现在LISP特定的标题中。当源映射版本号设置为空映射版本值时，表示没有映射
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
version information is conveyed for the source site. This means that if a mapping exists for the source EID in the EID-to-RLOC Cache, then the ETR MUST NOT compare the received Null Map-Version with the content of the EID-to-RLOC Cache. When the Destination Map-Version number is set to the Null Map-Version value, it means that no map version information is conveyed for the destination site. This means that the ETR MUST NOT compare the value with the Map-Version number of the mapping for the destination EID present in the EID-to-RLOC Database.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
版本信息将传达给源站点。这意味着，如果EID到RLOC缓存中存在源EID的映射，则ETR不得将收到的空映射版本与EID到RLOC缓存的内容进行比较。当目标地图版本号设置为空地图版本值时，表示没有为目标站点传送地图版本信息。这意味着ETR不得将该值与EID到RLOC数据库中存在的目标EID映射的映射版本号进行比较。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The other use of the Null Map-Version number is in the Map Records, which are part of the Map-Request, Map-Reply, and Map-Register messages (defined in [RFC6830]). Map Records that have a Null Map-Version number indicate that there is no Map-Version number associated with the mapping. This means that LISP-encapsulated packets destined to the EID-Prefix referred to by the Map Record MUST either not contain any Map-Version numbers (V-bit set to 0) or, if they contain Map-Version numbers (V-bit set to 1), then the destination Map-Version number MUST be set to the Null Map-Version number. Any value different from zero means that Map-Versioning is supported and MAY be used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
空映射版本号的另一种用法是在映射记录中，这些记录是映射请求、映射应答和映射寄存器消息（在[RFC6830]中定义）的一部分。具有空映射版本号的映射记录表示没有与映射关联的映射版本号。这意味着以映射记录引用的EID前缀为目的地的LISP封装数据包不得包含任何映射版本号（V位设置为0），或者，如果它们包含映射版本号（V位设置为1），则目标映射版本号必须设置为空映射版本号。任何不同于零的值都意味着支持并可以使用映射版本控制。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The fact that the 0 value has a special meaning for the Map-Version number implies that, when updating a Map-Version number because of a change in the mapping, if the next value is 0, then the Map-Version number MUST be incremented by 2 (i.e., set to 1, which is the next valid value).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
0值对地图版本号具有特殊意义这一事实意味着，当由于地图中的更改而更新地图版本号时，如果下一个值为0，则地图版本号必须增加2（即，设置为1，这是下一个有效值）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. Dealing with Map-Version Numbers
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. 处理地图版本号
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The main idea of using Map-Version numbers is that whenever there is a change in the mapping (e.g., adding/removing RLOCs, a change in the weights due to Traffic Engineering policies, or a change in the priorities) or a LISP site realizes that one or more of its own RLOCs are not reachable anymore from a local perspective (e.g., through IGP, or policy changes) the LISP site updates the mapping, also assigning a new Map-Version number.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
使用地图版本号的主要思想是，每当地图发生变化（例如，添加/删除RLOCs，由于交通工程政策导致的权重变化，或优先级变化）或LISP站点意识到从本地角度无法再访问其自己的一个或多个RLOCs时（例如，通过IGP或策略更改）LISP站点更新映射，并分配新的映射版本号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To each mapping, a version number is associated and changes each time the mapping is changed. Note that Map-Versioning does not introduce new problems concerning the coordination of different ETRs of a domain. Indeed, ETRs belonging to the same LISP site must return for a specific EID-Prefix the same mapping, including the same Map-Version number. In principle, this is orthogonal to whether or not Map-Versioning is used. The synchronization problem and its implication on the traffic are out of the scope of this document (see Section 11).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于每个映射，将关联一个版本号，并在每次映射更改时进行更改。请注意，地图版本控制不会带来与域的不同ETR的协调有关的新问题。实际上，属于同一LISP站点的ETR必须为特定EID前缀返回相同的映射，包括相同的映射版本号。原则上，这与是否使用映射版本控制是正交的。同步问题及其对通信量的影响不在本文件范围内（见第11节）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In order to announce in a data-driven fashion that the mapping has been updated, Map-Version numbers used to create the outer IP header of the LISP-encapsulated packet are embedded in the LISP-specific header. This means that the header needs to contain two Map-Version numbers:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
为了以数据驱动的方式宣布映射已更新，用于创建LISP封装数据包的外部IP报头的映射版本号嵌入到LISP特定报头中。这意味着标头需要包含两个地图版本号：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The Source Map-Version number of the EID-to-RLOC mapping in the EID-to-RLOC Database used to select the source RLOC.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 用于选择源RLOC的EID到RLOC数据库中EID到RLOC映射的源映射版本号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The Destination Map-Version number of the EID-to-RLOC mapping in the EID-to-RLOC Cache used to select the destination RLOC.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 用于选择目标RLOC的EID到RLOC缓存中EID到RLOC映射的目标映射版本号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
By embedding both the Source Map-Version number and the Destination Map-Version number, an ETR receiving a LISP packet with Map-Version numbers can perform the following checks:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
通过同时嵌入源地图版本号和目标地图版本号，接收带有地图版本号的LISP数据包的ETR可以执行以下检查：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. The ITR that has sent the packet has an up-to-date mapping in its EID-to-RLOC Cache for the destination EID and is performing encapsulation correctly.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 发送数据包的ITR在其EID到目标EID的RLOC缓存中具有最新映射，并且正在正确执行封装。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. In the case of bidirectional traffic, the mapping in the local ETR EID-to-RLOC Cache for the source EID is up to date.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 在双向通信的情况下，源EID的本地ETR EID到RLOC缓存的映射是最新的。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If one or both of the above conditions do not hold, the ETR can send a Map-Request either to make the ITR aware that a new mapping is available (see Section 5.1) or to update the mapping in the local EID-to-RLOC Cache (see Section 5.2).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果上述一个或两个条件均不成立，ETR可以发送映射请求，使ITR知道新映射可用（参见第5.1节），或更新本地EID到RLOC缓存中的映射（参见第5.2节）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. Handling Destination Map-Version Number
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. 处理目的地地图版本号
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an ETR receives a packet, the Destination Map-Version number relates to the mapping for the destination EID for which the ETR is an RLOC. This mapping is part of the ETR EID-to-RLOC Database. Since the ETR is authoritative for the mapping, it has the correct and up-to-date Destination Map-Version number. A check on this version number can be done, where the following cases can arise:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当ETR接收到数据包时，目标映射版本号与ETR为RLOC的目标EID的映射相关。此映射是ETR EID到RLOC数据库的一部分。由于ETR对映射具有权威性，因此它具有正确且最新的目标映射版本号。如果出现以下情况，可以检查此版本号：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. The packet arrives with the same Destination Map-Version number stored in the EID-to-RLOC Database. This is the regular case. The ITR sending the packet has in its EID-to-RLOC Cache an up-to-date mapping. No further actions are needed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 数据包到达时具有存储在EID到RLOC数据库中的相同目标映射版本号。这是正常情况。发送数据包的ITR在其EID到RLOC缓存中具有最新映射。无需采取进一步行动。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. The packet arrives with a Destination Map-Version number greater (i.e., newer) than the one stored in the EID-to-RLOC Database. Since the ETR is authoritative on the mapping, meaning that the Map-Version number of its mapping is the correct one, this implies that someone is not behaving correctly with respect to
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 数据包到达时的目的地映射版本号大于（即更新的）存储在EID到RLOC数据库中的版本号。由于ETR对映射具有权威性，这意味着其映射的映射版本号是正确的，这意味着有人在映射方面的行为不正确
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
the specifications. In this case, the packet carries a version number that is not valid; otherwise, the ETR would have the same number, and the packet SHOULD be silently dropped.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
规格。在这种情况下，数据包携带的版本号无效；否则，ETR将具有相同的编号，并且数据包应被静默丢弃。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. The packets arrive with a Destination Map-Version number smaller (i.e., older) than the one stored in the EID-to-RLOC Database. This means that the ITR sending the packet has an old mapping in its EID-to-RLOC Cache containing stale information. The ETR MAY choose to normally process the encapsulated datagram according to [RFC6830]; however, the ITR sending the packet has to be informed that a newer mapping is available. This is done with a Map-Request message sent back to the ITR. The Map-Request will either trigger a Map-Request back using the Solicit-Map-Request (SMR) bit or it will piggyback the newer mapping. These are not new mechanisms; how to use the SMR bit or how to piggyback mappings in Map-Request messages is already described in [RFC6830], while their security is discussed in [LISP-THREATS]. These Map-Request messages should be rate-limited (rate-limitation policies are also described in [RFC6830]). The feature introduced by Map-Version numbers is the possibility of blocking traffic not using the latest mapping. Indeed, after a certain number of retries, if the Destination Map-Version number in the packets is not updated, the ETR MAY drop packets with a stale Map-Version number while strongly reducing the rate of Map-Request messages. This is because either the ITR is refusing to use the mapping for which the ETR is authoritative, or (worse) it might be some form of attack. Another case might be that the control plane is experiencing transient failures, so the Map-Requests cannot reach that ITR. By continually sending Map-Requests at a very low rate, it is possible to recover from this situation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. 数据包到达时的目标映射版本号小于（即旧）存储在EID到RLOC数据库中的版本号。这意味着发送数据包的ITR在其EID到RLOC缓存中有一个旧映射，其中包含过时信息。ETR可根据[RFC6830]选择正常处理封装的数据报；但是，发送数据包的ITR必须被告知有更新的映射可用。这是通过将Map请求消息发送回ITR完成的。Map请求将使用请求Map请求（SMR）位触发Map请求，或者它将搭载较新的映射。这些都不是新机制；[RFC6830]中已经描述了如何在映射请求消息中使用SMR位或如何搭载映射，而[LISP-TREATS]中讨论了它们的安全性。这些映射请求消息应该是速率限制的（速率限制策略也在[RFC6830]中描述）。地图版本号引入的功能是，不使用最新地图可能会阻塞流量。实际上，在一定次数的重试之后，如果数据包中的目标映射版本号没有更新，ETR可能会丢弃具有过时映射版本号的数据包，同时大大降低映射请求消息的速率。这是因为ITR拒绝使用ETR授权的映射，或者（更糟的是）这可能是某种形式的攻击。另一种情况可能是，控制平面正在经历瞬时故障，因此Map请求无法到达该ITR。通过以非常低的速率持续发送Map请求，可以从这种情况中恢复。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The rule in the third case MAY be more restrictive. If the mapping has been the same for a period of time as long as the Time to Live (TTL) (defined in [RFC6830]) of the previous version of the mapping, all packets arriving with an old Map-Version SHOULD be silently dropped right away without issuing any Map-Request. Such action is permitted because if the new mapping with the updated version number has been unchanged for at least the same time as the TTL of the older mapping, all the entries in the EID-to-RLOC Caches of ITRs must have expired. Hence, all ITRs sending traffic should have refreshed the mapping according to [RFC6830]. If packets with old Map-Version numbers are still received, then either someone has not respected the TTL or it is a form of spoof/attack. In both cases, this is not valid behavior with respect to the specifications and the packet SHOULD be silently dropped.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
第三种情况下的规则可能更具限制性。如果映射在一段时间内与先前版本映射的生存时间（TTL）（在[RFC6830]中定义）相同，则使用旧映射版本到达的所有数据包应立即无声地丢弃，而不发出任何映射请求。这样的操作是允许的，因为如果具有更新版本号的新映射与旧映射的TTL在至少相同的时间内保持不变，则ITR的EID到RLOC缓存中的所有条目都必须已过期。因此，所有发送流量的ITRs都应该根据[RFC6830]刷新映射。如果仍然收到带有旧映射版本号的数据包，则可能有人未遵守TTL，或者这是一种欺骗/攻击形式。在这两种情况下，这对于规范来说都是无效的行为，数据包应该被静默地丢弃。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
LISP-encapsulated packets with the V-bit set, when the original mapping in the EID-to-RLOC Database has the version number set to the Null Map-Version value, MAY be silently dropped. As explained in Section 4.1, if an EID-to-RLOC mapping has a Null Map-Version, it means that ITRs, using the mapping for encapsulation, MUST NOT use a Map-Version number in the LISP-specific header.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当EID到RLOC数据库中的原始映射的版本号设置为Null Map version值时，可以静默删除设置了V位的LISP封装数据包。如第4.1节所述，如果EID到RLOC映射的映射版本为空，则意味着使用映射进行封装的ITRs不得在特定于LISP的标头中使用映射版本号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For LISP-encapsulated packets with the V-bit set, when the original mapping in the EID-to-RLOC Database has the version number set to a value different from the Null Map-Version value, a Destination Map-Version number equal to the Null Map-Version value means that the Destination Map-Version number MUST be ignored.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于设置了V位的LISP封装数据包，当EID到RLOC数据库中的原始映射将版本号设置为与空映射版本值不同的值时，等于空映射版本值的目标映射版本号表示必须忽略目标映射版本号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2. Handling Source Map-Version Number
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2. 处理源映射版本号
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an ETR receives a packet, the Source Map-Version number relates to the mapping for the source EID for which the ITR that sent the packet is authoritative. If the ETR has an entry in its EID-to-RLOC Cache for the source EID, then a check can be performed and the following cases can arise:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当ETR接收到数据包时，源映射版本号与发送数据包的ITR授权的源EID的映射相关。如果ETR在源EID的EID到RLOC缓存中有一个条目，则可以执行检查，并可能出现以下情况：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. The packet arrives with the same Source Map-Version number as that stored in the EID-to-RLOC Cache. This is the correct regular case. The ITR has in its EID-to-RLOC Cache an up-to-date copy of the mapping. No further actions are needed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 数据包到达时的源映射版本号与存储在EID到RLOC缓存中的源映射版本号相同。这是正确的常规情况。ITR在其EID到RLOC缓存中具有映射的最新副本。无需采取进一步行动。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. The packet arrives with a Source Map-Version number greater (i.e., newer) than the one stored in the local EID-to-RLOC Cache. This means that the ETR has in its EID-to-RLOC Cache a mapping that is stale and needs to be updated. A Map-Request SHOULD be sent to get the new mapping for the source EID. This is a normal Map-Request message sent through the mapping system and MUST respect the specifications in [RFC6830], including rate-limitation policies.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 数据包到达时的源映射版本号大于（即更新）本地EID到RLOC缓存中存储的源映射版本号。这意味着ETR在其EID到RLOC缓存中有一个过时的映射，需要更新。应发送映射请求以获取源EID的新映射。这是通过映射系统发送的正常映射请求消息，必须遵守[RFC6830]中的规范，包括速率限制策略。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. The packet arrives with a Source Map-Version number smaller (i.e., older) than the one stored in the local EID-to-RLOC Cache. Such a case is not valid with respect to the specifications. Indeed, if the mapping is already present in the EID-to-RLOC Cache, this means that an explicit Map-Request has been sent and a Map-Reply has been received from an authoritative source. Assuming that the mapping system is not corrupted, the Map-Version in the EID-to-RLOC Cache is the correct one, while the one carried by the packet is stale. In this situation, the packet MAY be silently dropped.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. 数据包到达时的源映射版本号比本地EID到RLOC缓存中存储的版本号小（即旧）。就规范而言，此类情况无效。实际上，如果映射已经存在于EID到RLOC缓存中，这意味着已经发送了显式映射请求，并且已经从权威源接收到映射回复。假设映射系统没有损坏，EID到RLOC缓存中的映射版本是正确的，而数据包所携带的版本是过时的。在这种情况下，数据包可能会被无声地丢弃。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the ETR does not have an entry in the EID-to-RLOC Cache for the source EID (e.g., in the case of unidirectional traffic), then the Source Map-Version number can be safely ignored.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果ETR在源EID的EID到RLOC缓存中没有条目（例如，在单向通信的情况下），则可以安全地忽略源映射版本号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For LISP-encapsulated packets with the V-bit set, if the Source Map-Version number is the Null Map-Version value, it means that the Source Map-Version number MUST be ignored.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于设置了V位的LISP封装数据包，如果源映射版本号为空映射版本值，则表示必须忽略源映射版本号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. LISP Header and Map-Version Numbers
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. LISP标题和映射版本号
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In order for the versioning approach to work, the LISP-specific header has to carry both the Source Map-Version number and Destination Map-Version number. This is done by setting the V-bit in the LISP-specific header as defined in [RFC6830] Section 5.3. When the V-bit is set, the low-order 24 bits of the first longword are used to transport both the source and destination Map-Version numbers. In particular, the first 12 bits are used for the Source Map-Version number and the second 12 bits for the Destination Map-Version number.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
为了使版本控制方法起作用，特定于LISP的头必须同时携带源映射版本号和目标映射版本号。这是通过在[RFC6830]第5.3节中定义的LISP特定头中设置V位来实现的。设置V位时，第一个长字的低位24位用于传输源地图版本号和目标地图版本号。具体而言，前12位用于源地图版本号，第二12位用于目标地图版本号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Below is an example of a LISP header carrying version numbers in the case of IPv4-in-IPv4 encapsulation. The same setting can be used for any other case (IPv4-in-IPv6, IPv6-in-IPv4, and IPv6-in-IPv6).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
下面是一个在IPv4-in-IPv4封装的情况下携带版本号的LISP头的示例。相同的设置可用于任何其他情况（IPv4-in-IPv6、IPv6-in-IPv4和IPv6-in-IPv6）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     / |N|L|E|V|I|flags|  Source Map-Version   |Destination Map-Version|
   LISP+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     \ |                 Instance ID/Locator-Status-Bits               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     / |N|L|E|V|I|flags|  Source Map-Version   |Destination Map-Version|
   LISP+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     \ |                 Instance ID/Locator-Status-Bits               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Source Map-Version number (12 bits): Map-Version of the mapping used by the ITR to select the RLOC present in the &#39;Source Routing Locator&#39; field. Section 5.2 describes how to set this value on transmission and handle it on reception.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
源映射版本号（12位）：ITR用于选择“源路由定位器”字段中存在的RLOC的映射的映射版本。第5.2节描述了如何在传输时设置该值，并在接收时进行处理。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Destination Map-Version number (12 bits): Map-Version of the mapping used by the ITR to select the RLOC present in the &#39;Destination Routing Locator&#39; field. Section 5.1 describes how to set this value on transmission and handle it on reception.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
目的地地图版本号（12位）：ITR用于选择“目的地路由定位器”字段中存在的RLOC的地图版本。第5.1节描述了如何在传输时设置该值，并在接收时处理该值。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document only specifies how to use the low-order 24 bits of the first longword of the LISP-specific header when the V-bit is set to 1. All other cases, including the bit fields of the rest of the LISP-specific header and the whole LISP packet format, are specified in [RFC6830]. Not all of the LISP-encapsulated packets need to carry
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档仅指定当V位设置为1时，如何使用LISP特定头的第一个长字的低位24位。[RFC6830]中规定了所有其他情况，包括LISP特定报头其余部分的位字段和整个LISP数据包格式。并非所有LISP封装的数据包都需要携带
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
version numbers. When Map-Version numbers are carried in these packets, the V-bit MUST be set to 1. All permissible combinations of the flags when the V-bit is set to 1 are described in [RFC6830].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
版本号。当这些数据包中携带地图版本号时，V位必须设置为1。[RFC6830]中描述了V位设置为1时所有允许的标志组合。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. Map Record and Map-Version
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. 地图记录和地图版本
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To accommodate the proposed mechanism, the Map Records that are transported in Map-Request/Map-Reply/Map-Register messages need to carry the Map-Version number as well. For this purpose, the 12 bits before the &#39;EID-Prefix-AFI&#39; field in the Record that describes a mapping are used. This is defined in Section 6.1.4 of [RFC6830] and reported here as an example.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
为了适应建议的机制，在Map请求/Map回复/Map注册消息中传输的Map记录也需要携带Map版本号。为此，使用记录中描述映射的“EID Prefix AFI”字段前的12位。[RFC6830]第6.1.4节对此进行了定义，并在此处作为示例进行了报告。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-&gt; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   |                          Record  TTL                          |
   |   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   R   | Locator Count | EID mask-len  | ACT |A|      Reserved         |
   e   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   c   | Rsvd  |  Map-Version Number   |       EID-Prefix-AFI          |
   o   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   r   |                          EID-Prefix                           |
   d   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  /|    Priority   |    Weight     |  M Priority   |   M Weight    |
   | L +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | o |        Unused Flags     |L|p|R|           Loc-AFI             |
   | c +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  \|                             Locator                           |
   +-&gt; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-&gt; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   |                          Record  TTL                          |
   |   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   R   | Locator Count | EID mask-len  | ACT |A|      Reserved         |
   e   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   c   | Rsvd  |  Map-Version Number   |       EID-Prefix-AFI          |
   o   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   r   |                          EID-Prefix                           |
   d   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  /|    Priority   |    Weight     |  M Priority   |   M Weight    |
   | L +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | o |        Unused Flags     |L|p|R|           Loc-AFI             |
   | c +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  \|                             Locator                           |
   +-&gt; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Map-Version Number: Map-Version of the mapping contained in the Record. As explained in Section 4.1, this field can be zero (0), meaning that no Map-Version is associated to the mapping; hence, packets that are LISP encapsulated using this mapping MUST NOT contain Map-Version numbers in the LISP-specific header, and the V-bit MUST be set to 0.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
映射版本号：记录中包含的映射的映射版本。如第4.1节所述，该字段可以为零（0），这意味着没有地图版本与地图相关；因此，使用此映射封装的LISP数据包在LISP特定的头中不得包含映射版本号，并且V位必须设置为0。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This packet format works perfectly with xTRs that do not support Map-Versioning, since they can simply ignore those bits.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
这种数据包格式与不支持映射版本控制的XTR完美配合，因为它们可以忽略这些位。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. Benefits and Case Studies for Map-Versioning
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. 地图版本控制的好处和案例研究
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the following sections, we provide more discussion on various aspects and uses of Map-Versioning. Security observations are grouped in Section 10.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在下面的部分中，我们将对地图版本控制的各个方面和用途进行更多的讨论。第10节对安全观察结果进行了分组。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.1. Map-Versioning and Unidirectional Traffic
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.1. 地图版本控制和单向通信
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When using Map-Versioning, the LISP-specific header carries two Map-Version numbers, for both source and destination mappings. This can raise the question on what will happen in the case of unidirectional flows, for instance, in the case presented in Figure 1, since the LISP specification does not mandate that the ETR have a mapping for the source EID.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当使用映射版本控制时，LISP特定的头包含两个映射版本号，用于源映射和目标映射。这可能会引发一个问题，即在单向流的情况下会发生什么，例如，在图1所示的情况下，因为LISP规范并不要求ETR具有源EID的映射。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
             +-----------------+            +-----------------+
             | Domain A        |            | Domain B        |
             |       +---------+            +---------+       |
             |       | ITR A   |-----------&gt;| ETR B   |       |
             |       +---------+            +---------+       |
             |                 |            |                 |
             +-----------------+            +-----------------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
             +-----------------+            +-----------------+
             | Domain A        |            | Domain B        |
             |       +---------+            +---------+       |
             |       | ITR A   |-----------&gt;| ETR B   |       |
             |       +---------+            +---------+       |
             |                 |            |                 |
             +-----------------+            +-----------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
Figure 1: Unidirectional Traffic between LISP Domains
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
图1:LISP域之间的单向通信
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the case of the ITR, the ITR is able to put both the source and destination version number in the LISP header, since the Source Map-Version number is in the ITR&#39;s database, while the Destination Map-Version number is in the ITR&#39;s cache.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于ITR，ITR能够将源和目标版本号放在LISP头中，因为源映射版本号位于ITR的数据库中，而目标映射版本号位于ITR的缓存中。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the case of the ETR, the ETR simply checks only the Destination Map-Version number in the same way as that described in Section 5, ignoring the Source Map-Version number.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于ETR，ETR仅以与第5节所述相同的方式检查目标地图版本号，忽略源地图版本号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2. Map-Versioning and Interworking
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2. 地图版本控制和互通
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Map-Versioning is compatible with the LISP interworking between LISP and non-LISP sites as defined in [RFC6832]. LISP interworking defines three techniques to make LISP sites and non-LISP sites, namely Proxy-ITR, LISP-NAT, and Proxy-ETR. The following text describes how Map-Versioning relates to these three mechanisms.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
地图版本控制与[RFC6832]中定义的LISP和非LISP站点之间的LISP互通兼容。LISP互通定义了三种技术来创建LISP站点和非LISP站点，即代理ITR、LISP-NAT和代理ETR。下面的文本描述了映射版本控制与这三种机制的关系。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2.1. Map-Versioning and Proxy-ITRs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2.1. 地图版本控制和代理ITRs
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The purpose of the Proxy-ITR (PITR) is to encapsulate traffic originating in a non-LISP site in order to deliver the packet to one of the ETRs of the LISP site (cf. Figure 2). This case is very similar to the unidirectional traffic case described in Section 8.1; hence, similar rules apply.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
代理ITR（PITR）的目的是封装源自非LISP站点的流量，以便将数据包传送到LISP站点的一个ETR（参见图2）。这种情况与第8.1节中描述的单向交通情况非常相似；因此，类似的规则也适用。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
        +----------+                             +-------------+
        | LISP     |                             | non-LISP    |
        | Domain A |                             | Domain B    |
        |  +-------+        +-----------+        |             |
        |  | ETR A |&lt;-------| Proxy-ITR |&lt;-------|             |
        |  +-------+        +-----------+        |             |
        |          |                             |             |
        +----------+                             +-------------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
        +----------+                             +-------------+
        | LISP     |                             | non-LISP    |
        | Domain A |                             | Domain B    |
        |  +-------+        +-----------+        |             |
        |  | ETR A |&lt;-------| Proxy-ITR |&lt;-------|             |
        |  +-------+        +-----------+        |             |
        |          |                             |             |
        +----------+                             +-------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Figure 2: Unidirectional Traffic from Non-LISP Domain to LISP Domain
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
图2：从非LISP域到LISP域的单向通信
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The main difference is that a Proxy-ITR does not have any mapping, since it just encapsulates packets arriving from the non-LISP site and thus cannot provide a Source Map-Version. In this case, the Proxy-ITR will just put the Null Map-Version value as the Source Map-Version number, while the receiving ETR will ignore the field.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
主要区别在于代理ITR没有任何映射，因为它只封装来自非LISP站点的数据包，因此无法提供源映射版本。在这种情况下，代理ITR仅将空映射版本值作为源映射版本号，而接收ETR将忽略该字段。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
With this setup, LISP Domain A is able to check whether or not the PITR is using the latest mapping. If this is not the case, the mapping for LISP Domain A on the PITR can be updated using one of the mechanisms defined in [RFC6830] and [RFC6832].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
通过此设置，LISP域A能够检查PITR是否使用最新映射。如果不是这样，可以使用[RFC6830]和[RFC6832]中定义的机制之一更新PITR上LISP域A的映射。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2.2. Map-Versioning and LISP-NAT
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2.2. 地图版本控制和LISP-NAT
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The LISP-NAT mechanism is based on address translation from non-routable EIDs to routable EIDs and does not involve any form of encapsulation. As such, Map-Versioning does not apply in this case.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
LISP-NAT机制基于从不可路由EID到可路由EID的地址转换，不涉及任何形式的封装。因此，映射版本控制在这种情况下不适用。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2.3. Map-Versioning and Proxy-ETRs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2.3. 地图版本控制和代理ETRs
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The purpose of the Proxy-ETR (PETR) is to decapsulate traffic originating in a LISP site in order to deliver the packet to the non-LISP site (cf. Figure 3). One of the main reasons to deploy PETRs is to bypass uRPF (Unicast Reverse Path Forwarding) checks on the provider edge.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
代理ETR（PETR）的目的是对源自LISP站点的流量进行解封，以便将数据包传送到非LISP站点（参见图3）。部署PETR的主要原因之一是绕过提供商边缘上的uRPF（单播反向路径转发）检查。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
         +----------+                             +-------------+
         | LISP     |                             | non-LISP    |
         | Domain A |                             | Domain B    |
         |  +-------+        +-----------+        |             |
         |  | ITR A |-------&gt;| Proxy-ETR |-------&gt;|             |
         |  +-------+        +-----------+        |             |
         |          |                             |             |
         +----------+                             +-------------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
         +----------+                             +-------------+
         | LISP     |                             | non-LISP    |
         | Domain A |                             | Domain B    |
         |  +-------+        +-----------+        |             |
         |  | ITR A |-------&gt;| Proxy-ETR |-------&gt;|             |
         |  +-------+        +-----------+        |             |
         |          |                             |             |
         +----------+                             +-------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Figure 3: Unidirectional Traffic from LISP Domain to Non-LISP Domain
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
图3：从LISP域到非LISP域的单向通信
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A Proxy-ETR does not have any mapping, since it just decapsulates packets arriving from the LISP site. In this case, the ITR will just put the Null Map-Version value as the Destination Map-Version number, while the receiving Proxy-ETR will ignore the field.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
代理ETR没有任何映射，因为它只是对从LISP站点到达的数据包进行解封。在这种情况下，ITR将仅将空映射版本值作为目标映射版本号，而接收代理ETR将忽略该字段。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
With this setup, the Proxy-ETR is able to check whether or not the mapping has changed. If this is the case, the mapping for LISP Domain A on the PETR can be updated using one of the mechanisms defined in [RFC6830] and [RFC6832].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
通过此设置，代理ETR能够检查映射是否已更改。如果是这种情况，可以使用[RFC6830]和[RFC6832]中定义的机制之一更新PETR上LISP域A的映射。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.3. RLOC Shutdown/Withdraw
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.3. RLOC关闭/退出
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Map-Versioning can also be used to perform a graceful shutdown or withdraw of a specific RLOC. This is achieved by simply issuing a new mapping, with an updated Map-Version number where the specific RLOC to be shut down is withdrawn or announced as unreachable (via the R-bit in the Map Record; see [RFC6830]), but without actually turning it off.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
映射版本控制还可用于执行特定RLOC的正常关闭或撤消。这是通过简单地发布一个新映射来实现的，该映射具有更新的映射版本号，其中要关闭的特定RLOC被撤销或宣布为不可访问（通过映射记录中的R位；请参见[RFC6830]），但实际上没有关闭它。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Once no more traffic is received by the RLOC, it can be shut down gracefully, because all sites actively using the mapping have updated it.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
一旦RLOC不再收到流量，它就可以正常关闭，因为所有积极使用映射的站点都已对其进行了更新。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It should be pointed out that for frequent up/down changes such a mechanism should not be used, since this can generate excessive load on the mapping system.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
应该指出的是，对于频繁的向上/向下更改，不应使用这种机制，因为这会在映射系统上产生过大的负载。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4. Map-Version for Lightweight LISP Implementation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.4. 用于轻量级LISP实现的映射版本
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The use of Map-Versioning can help in developing a lightweight implementation of LISP. However, this comes with the price of not supporting the Locator-Status-Bit, which is useful in some contexts.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
地图版本控制的使用有助于开发LISP的轻量级实现。然而，这样做的代价是不支持定位器状态位，这在某些情况下很有用。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the current LISP specifications, the set of RLOCs must always be maintained ordered and consistent with the content of the Locator-Status-Bits (see Section 6.5 of [RFC6830]). With Map-Versioning, such types of mechanisms can be avoided. When a new RLOC is added to a mapping, it is not necessary to &#34;append&#34; new Locators to the existing ones as explained in Section 6.5 of [RFC6830]. A new mapping with a new Map-Version number will be issued, and since the old Locators are still valid, the transition will occur with no disruptions. The same applies for the case where an RLOC is withdrawn. There is no need to maintain holes in the list of Locators, as is the case when using Locator-Status-Bits, for sites that are not using the RLOC that has been withdrawn; in this case, the transition will occur with no disruptions.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在当前的LISP规范中，RLOC集必须始终保持有序，并与定位器状态位的内容保持一致（见[RFC6830]第6.5节）。使用映射版本控制，可以避免此类机制。当一个新的RLOC被添加到一个映射中时，没有必要像[RFC6830]第6.5节中所解释的那样将新的定位器“附加”到现有定位器上。将发布具有新地图版本号的新地图，并且由于旧定位器仍然有效，因此转换将不会中断。这同样适用于撤销RLOC的情况。对于未使用已撤销的RLOC的站点，无需像使用定位器状态位时一样，在定位器列表中保留孔；在这种情况下，转换将在没有中断的情况下进行。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All of these operations, as already stated, do not need to maintain any consistency among Locator-Status-Bits and in the way that the RLOCs are stored in the EID-to-RLOC Cache.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如前所述，所有这些操作不需要保持定位器状态位之间的任何一致性，也不需要以RLOC存储在EID-to-RLOC缓存中的方式保持一致性。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Further, Map-Versioning can be used as a substitute for the &#34;clock sweep&#34; operation described in Section 6.6.1 of [RFC6830]. Indeed, every LISP site communicating to a specific LISP site that has updated the mapping will be informed of the available new mapping in a data-driven manner.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此外，地图版本控制可替代[RFC6830]第6.6.1节中描述的“时钟扫描”操作。实际上，与更新映射的特定LISP站点通信的每个LISP站点都将以数据驱动的方式通知可用的新映射。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that what is proposed in this section is just an example and MUST NOT be considered as specifications for a lightweight LISP implementation. If the IETF decides to undertake such work, it will be documented elsewhere.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
请注意，本节中提出的只是一个示例，不能将其视为轻量级LISP实现的规范。如果IETF决定进行此类工作，将在其他地方记录。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. Incremental Deployment and Implementation Status
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. 增量部署和实施状态
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Map-Versioning can be incrementally deployed without any negative impact on existing LISP elements (e.g., xTRs, Map-Servers, Proxy-ITRs, etc.). Any LISP element that does not support Map-Versioning can safely ignore Map-Version numbers carried in the LISP header. Further, there is no need of any specific mechanism to discover whether or not an xTR supports Map-Versioning. This information is already included in the Map Record.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
地图版本控制可以增量部署，不会对现有LISP元素（例如，XTR、地图服务器、代理ITR等）产生任何负面影响。任何不支持映射版本控制的LISP元素都可以安全地忽略LISP标题中包含的映射版本号。此外，不需要任何特定的机制来发现xTR是否支持映射版本控制。此信息已包含在地图记录中。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Map-Versioning is currently implemented in OpenLISP [OPENLISP].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
地图版本控制目前在OpenLISP[OpenLISP]中实现。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that the reference document for LISP implementations and interoperability tests remains [RFC6830].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
请注意，LISP实现和互操作性测试的参考文档仍然是[RFC6830]。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10. 安全考虑
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Map-Versioning does not introduce any security issues concerning both the data plane and the control plane. On the contrary, as described below, if Map-Versioning may also be used to update mappings in the case of change in the reachability information (i.e., instead of the Locator-Status-Bits), it is possible to reduce the effects of some DoS or spoofing attacks that can happen in an untrusted environment.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
映射版本控制不会带来任何与数据平面和控制平面有关的安全问题。相反，如下所述，如果在可达性信息（即，代替定位器状态位）发生变化的情况下，也可以使用映射版本控制来更新映射，则可以减少在不可信环境中可能发生的一些DoS或欺骗攻击的影响。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Robustness of the Map-Versioning mechanism leverages on a trusted Mapping Distribution System. A thorough security analysis of LISP is documented in [LISP-THREATS].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
映射版本控制机制的健壮性在受信任的映射分发系统上得到了充分利用。关于LISP的全面安全性分析，请参见[LISP-TREATS]。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10.1. Map-Versioning against Traffic Disruption
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10.1. 针对交通中断的地图版本控制
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An attacker can try to disrupt ongoing communications by creating LISP-encapsulated packets with wrong Locator-Status-Bits. If the xTR blindly trusts the Locator-Status-Bits, it will change the encapsulation accordingly, which can result in traffic disruption.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
攻击者可以通过使用错误的定位器状态位创建LISP封装的数据包，试图中断正在进行的通信。如果xTR盲目信任定位器状态位，它将相应地更改封装，这可能导致通信中断。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This does not happen in the case of Map-Versioning. As described in Section 5, upon a version number change the xTR first issues a Map-Request. The assumption is that the mapping distribution system is sufficiently secure that Map-Request and Map-Reply messages and their content can be trusted. Security issues concerning specific mapping distribution systems are out of the scope of this document. In the case of Map-Versioning, the attacker should &#34;guess&#34; a valid version number that triggers a Map-Request as described in Section 5; otherwise, the packet is simply dropped. Nevertheless, guessing a version number that generates a Map-Request is easy; hence, it is important to follow the rate-limitation policies described in [RFC6830] in order to avoid DoS attacks.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
这在地图版本控制的情况下不会发生。如第5节所述，在版本号更改时，xTR首先发出映射请求。假设映射分发系统足够安全，可以信任映射请求和映射回复消息及其内容。有关特定映射分发系统的安全问题不在本文档范围内。在映射版本控制的情况下，攻击者应“猜测”触发映射请求的有效版本号，如第5节所述；否则，数据包将被简单地丢弃。然而，猜测生成映射请求的版本号很容易；因此，必须遵守[RFC6830]中描述的速率限制策略，以避免DoS攻击。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that a similar level of security can be obtained with Locator-Status-Bits by simply making it mandatory to verify any change through a Map-Request. However, in this case Locator-Status-Bits lose their meaning, because it does not matter anymore which specific bits have changed; the xTR will query the mapping system and trust the content of the received Map-Reply. Furthermore, there is no way to perform filtering as in Map-Versioning in order to drop packets that do not carry a valid Map-Version number. In the case of Locator-Status-Bits, any random change can trigger a Map-Request (unless rate limitation is enabled, which raises another type of attack as discussed in Section 10.2).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注意，通过简单地强制通过映射请求验证任何更改，定位器状态位可以获得类似级别的安全性。然而，在这种情况下，定位器状态位失去了它们的意义，因为改变了哪些特定位不再重要；xTR将查询映射系统并信任收到的映射回复的内容。此外，无法像在映射版本控制中那样执行过滤，以丢弃不携带有效映射版本号的数据包。在定位器状态位的情况下，任何随机更改都可能触发Map请求（除非启用了速率限制，这会引发第10.2节中讨论的另一种类型的攻击）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10.2. Map-Versioning against Reachability Information DoS
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10.2. 针对可达性信息的映射版本控制
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Attackers can try to trigger a large amount of Map-Requests by simply forging packets with random Map-Versions or random Locator-Status-Bits. In both cases, the Map-Requests are rate-limited as described in [RFC6830]. However, in contrast to the Locator-Status-Bit, where there is no filtering possible, in the case of Map-Versioning it is possible to filter invalid version numbers before triggering a Map-Request, thus helping to reduce the effects of DoS attacks. In other words, the use of Map-Versioning enables a fine control on when to update a mapping or when to notify someone that a mapping has been updated.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
攻击者可以通过简单地伪造带有随机地图版本或随机定位器状态位的数据包来尝试触发大量地图请求。在这两种情况下，Map请求都是速率受限的，如[RFC6830]所述。但是，与定位器状态位不同，定位器状态位不可能进行过滤，在映射版本控制的情况下，可以在触发映射请求之前过滤无效的版本号，从而帮助减少DoS攻击的影响。换句话说，使用映射版本控制可以很好地控制何时更新映射或何时通知某人映射已更新。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is clear that Map-Versioning does not protect against DoS and DDoS attacks, where an xTR loses processing power when doing checks on the LISP header of packets sent by attackers. This is independent of Map-Versioning and is the same for Locator-Status-Bits.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
很明显，映射版本控制无法抵御DoS和DDoS攻击，即xTR在检查攻击者发送的数据包的LISP报头时会失去处理能力。这与地图版本控制无关，对于定位器状态位也是如此。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11. Open Issues and Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11. 未决问题和考虑
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There are a number of implications of the use of Map-Versioning that are not yet completely explored. Among these are:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
地图版本控制的使用有许多含义尚未完全探讨。其中包括：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Performance of the convergence time when an EID-to-RLOC mapping changes, i.e., how much time is needed to update mappings in the EID-to-RLOC Cache of the ITRs currently sending traffic to ETRs for the EID whose mapping has been changed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o EID到RLOC映射更改时的收敛时间性能，即更新当前向ETR发送映射已更改的EID流量的ITRs的EID到RLOC缓存中的映射所需的时间。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Support for ETR synchronization. The implications that a temporary lack of synchronization may have on the traffic are yet to be fully explored. Details on how to maintain synchronization are presented in Section 6.6 of [RFC6830]. Section 11.1 discusses the issue in further detail with respect to the Map-Versioning mechanism.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 支持ETR同步。暂时缺乏同步可能对流量产生的影响尚待充分探讨。[RFC6830]第6.6节介绍了如何保持同步的详细信息。第11.1节进一步详细讨论了与映射版本控制机制有关的问题。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The authors expect that experimentation will help assess the performance and limitations of the Map-Versioning mechanism. Issues and concerns about the deployment of LISP for Internet traffic are discussed in [RFC6830].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
作者期望实验将有助于评估映射版本控制机制的性能和局限性。[RFC6830]中讨论了有关为Internet流量部署LISP的问题和顾虑。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11.1. Lack of Synchronization among ETRs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
11.1. ETR之间缺乏同步
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Even without Map-Versioning, LISP ([RFC6830]) requires ETRs to announce the same mapping for the same EID-Prefix to a requester. The implications that a temporary lack of synchronization may have on the traffic are yet to be fully explored.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
即使没有映射版本控制，LISP（[RFC6830]）也要求ETR向请求者宣布相同EID前缀的相同映射。暂时缺乏同步可能对流量产生的影响尚待充分探讨。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Map-Versioning does not require additional synchronization mechanisms as compared to the normal functioning of LISP without Map-Versioning. Clearly, all the ETRs have to reply with the same Map-Version number; otherwise, there can be an inconsistency that creates additional control traffic, instabilities, and traffic disruptions. It is the same without Map-Versioning, with ETRs that have to reply with the same mapping; otherwise, the same problems can arise.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
与没有映射版本控制的LISP的正常功能相比，映射版本控制不需要额外的同步机制。显然，所有ETR必须使用相同的Map版本号进行回复；否则，可能存在不一致性，从而造成额外的控制流量、不稳定性和流量中断。没有地图版本控制也是一样的，ETR必须使用相同的地图进行回复；否则，同样的问题也会出现。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There are two ways Map-Versioning is helpful with respect to the synchronization problem. On the one hand, assigning version numbers to mappings helps in debugging, since quick checks on the consistency of the mappings on different ETRs can be done by looking at the Map-Version number. On the other hand, Map-Versioning can be used to control the traffic toward ETRs that announce the latest mapping.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
有两种方法可以帮助解决同步问题。一方面，为映射分配版本号有助于调试，因为可以通过查看映射版本号快速检查不同ETR上映射的一致性。另一方面，地图版本控制可用于控制通向宣布最新地图的ETR的流量。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As an example, let&#39;s consider the topology of Figure 4 where ITR A.1 of Domain A is sending unidirectional traffic to Domain B, while A.2 of Domain A exchanges bidirectional traffic with Domain B. In particular, ITR A.2 sends traffic to ETR B, and ETR A.2 receives traffic from ITR B.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
作为一个例子，让我们考虑图4的拓扑结构，其中域A的ITR A1向域B发送单向业务，而A域的A2交换与域B的双向业务，特别是ITR A2向ETR B发送业务，ETR A2接收ITR B的业务。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
            +-----------------+              +-----------------+
            | Domain A        |              | Domain B        |
            |       +---------+              |                 |
            |       | ITR A.1 |---           |                 |
            |       +---------+    \         +---------+       |
            |                 |      -------&gt;| ETR B   |       |
            |                 |      -------&gt;|         |       |
            |       +---------+    /         |         |       |
            |       | ITR A.2 |---      -----| ITR B   |       |
            |       |         |       /      +---------+       |
            |       | ETR A.2 |&lt;-----        |                 |
            |       +---------+              |                 |
            |                 |              |                 |
            +-----------------+              +-----------------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
            +-----------------+              +-----------------+
            | Domain A        |              | Domain B        |
            |       +---------+              |                 |
            |       | ITR A.1 |---           |                 |
            |       +---------+    \         +---------+       |
            |                 |      -------&gt;| ETR B   |       |
            |                 |      -------&gt;|         |       |
            |       +---------+    /         |         |       |
            |       | ITR A.2 |---      -----| ITR B   |       |
            |       |         |       /      +---------+       |
            |       | ETR A.2 |&lt;-----        |                 |
            |       +---------+              |                 |
            |                 |              |                 |
            +-----------------+              +-----------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-24">
Figure 4: Example Topology
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-24">
图4：示例拓扑
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Obviously, in the case of Map-Versioning, both ITR A.1 and ITR A.2 of Domain A must use the same value; otherwise, the ETR of Domain B will start to send Map-Requests.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
显然，在映射版本控制的情况下，域A的ITR A.1和ITR A.2必须使用相同的值；否则，域B的ETR将开始发送映射请求。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The same problem can, however, arise without Map-Versioning, for instance, if the two ITRs of Domain A send different Locator-Status-Bits. In this case, either the traffic is disrupted if ETR B trusts the Locator-Status-Bits, or if ETR B does not trust the Locator-Status-Bits it will start sending Map-Requests to confirm each change in reachability.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
但是，如果没有地图版本控制，例如，如果域A的两个ITR发送不同的定位器状态位，则会出现相同的问题。在这种情况下，如果ETR B信任定位器状态位，则通信中断；如果ETR B不信任定位器状态位，则它将开始发送Map请求以确认可达性的每次更改。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
So far, LISP does not provide any specific synchronization mechanism but assumes that synchronization is provided by configuring the different xTRs consistently (see Section 6.6 in [RFC6830]). The same applies for Map-Versioning. If in the future any synchronization mechanism is provided, Map-Versioning will take advantage of it automatically, since it is included in the Record format, as described in Section 7.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
到目前为止，LISP没有提供任何特定的同步机制，但假设通过一致地配置不同的XTR来提供同步（请参见[RFC6830]中的第6.6节）。这同样适用于地图版本控制。如果将来提供了任何同步机制，映射版本控制将自动利用它，因为它包含在记录格式中，如第7节所述。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
12. Acknowledgments
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
12. 致谢
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The authors would like to thank Alia Atlas, Jesper Skriver, Pierre Francois, Noel Chiappa, and Dino Farinacci for their comments and review.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
作者要感谢Alia Atlas、Jesper Skriver、Pierre Francois、Noel Chiapa和Dino Farinaci的评论和评论。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This work has been partially supported by the INFSO-ICT-216372 TRILOGY Project (http://www.trilogy-project.org).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
这项工作得到了INFSO-ICT-216372三部曲项目的部分支持(http://www.trilogy-project.org).
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
13. References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
13. 工具书类
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
13.1. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
13.1. 规范性引用文件
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, March 1997.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119]Bradner，S.，“RFC中用于表示需求水平的关键词”，BCP 14，RFC 2119，1997年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6830] Farinacci, D., Fuller, V., Meyer, D., and D. Lewis, &#34;The Locator/ID Separation Protocol (LISP)&#34;, RFC 6830, January 2013.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6830]Farinaci，D.，Fuller，V.，Meyer，D.，和D.Lewis，“定位器/身份分离协议（LISP）”，RFC 6830，2013年1月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6832] Lewis, D., Meyer, D., Farinacci, D., and V. Fuller, &#34;Interworking between Locator/ID Separation Protocol (LISP) and Non-LISP Sites&#34;, RFC 6832, January 2013.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6832]Lewis，D.，Meyer，D.，Farinaci，D.，和V.Fuller，“定位器/ID分离协议（LISP）和非LISP站点之间的互通”，RFC 6832，2013年1月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
13.2. Informative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
13.2. 资料性引用
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[LISP-THREATS] Saucez, D., Iannone, L., and O. Bonaventure, &#34;LISP Threats Analysis&#34;, Work in Progress, October 2012.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[LISP-THREATS]Saucez，D.，Iannone，L.，和O.Bonaventure，“LISP威胁分析”，正在进行的工作，2012年10月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[OPENLISP] Iannone, L., Saucez, D., and O. Bonaventure, &#34;Implementing the Locator/ID Separation Protocol: Design and experience&#34;, Computer Networks Vol. 55, Number 4, Pages 948-958, March 2011.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[OPENLISP]Iannone，L.，Saucez，D.，和O.Bonaventure，“实施定位器/身份分离协议：设计和经验”，计算机网络第55卷，第4期，第948-958页，2011年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
Appendix A. Estimation of Time before Map-Version Wrap-Around
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
附录A.地图版本环绕前的时间估计
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section proposes an estimation of the wrap-around time for the 12-bit size of the Map-Version number.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节建议对映射版本号的12位大小的环绕时间进行估计。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Using a granularity of seconds and assuming as worst case that a new version is issued each second, it takes slightly more than 1 hour before the version wraps around. Note that the granularity of seconds is in line with the rate-limitation policy for Map-Request messages, as proposed in the LISP main specifications ([RFC6830]).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
使用秒的粒度，并假设最坏的情况是每秒发布一个新版本，则该版本需要1个多小时才能完成。请注意，秒的粒度符合LISP主规范（[RFC6830]）中提出的映射请求消息的速率限制策略。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Alternatively, a granularity of minutes can also be used, as for the TTL of the Map-Reply ([RFC6830]). In this case, the worst-case scenario is when a new version is issued every minute, leading to a much longer time before wrap-around. In particular, when using 12 bits, the wrap-around time is almost 3 days.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
或者，也可以使用分钟的粒度，如Map应答的TTL（[RFC6830]）。在这种情况下，最坏的情况是每分钟发布一个新版本，这会导致换行时间更长。特别是，当使用12位时，环绕时间几乎为3天。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For general information, Figure 5 below provides a rough estimation of the time before wrap-around in the worst-case scenario, considering different sizes (length in bits) of the Map-Version number and different time granularities.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于一般信息，下面的图5提供了在最坏情况下，考虑到映射版本号的不同大小（以位为单位的长度）和不同的时间粒度，对环绕之前的时间的粗略估计。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Since even in the case of a high mapping change rate (1 per second) the wrap-around time using 12 bits is far larger than any reasonable Round-Trip Time (RTT), there is no risk of race conditions.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
由于即使在高映射更改率（每秒1次）的情况下，使用12位的环绕时间也远远大于任何合理的往返时间（RTT），因此不存在竞争条件的风险。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      +---------------+--------------------------------------------+
      |Version Number |           Time before Wrap-Around          |
      |  Size (bits)  +---------------------+----------------------+
      |               |Granularity: Minutes | Granularity: Seconds |
      |               | (mapping changes    | (mapping changes     |
      |               |  every 1 minute)    |  every 1 second)     |
      +-------------------------------------+----------------------+
      |          32   |   8171   years      |  136   years         |
      |          30   |   2042   years      |   34   years         |
      |          24   |     31   years      |  194   days          |
      |          16   |     45   days       |   18   hours         |
      |          15   |     22   days       |    9   hours         |
      |          14   |     11   days       |    4   hours         |
      |          13   |      5.6 days       |    2.2 hours         |
      |          12   |      2.8 days       |    1.1 hours         |
      +---------------+---------------------+----------------------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      +---------------+--------------------------------------------+
      |Version Number |           Time before Wrap-Around          |
      |  Size (bits)  +---------------------+----------------------+
      |               |Granularity: Minutes | Granularity: Seconds |
      |               | (mapping changes    | (mapping changes     |
      |               |  every 1 minute)    |  every 1 second)     |
      +-------------------------------------+----------------------+
      |          32   |   8171   years      |  136   years         |
      |          30   |   2042   years      |   34   years         |
      |          24   |     31   years      |  194   days          |
      |          16   |     45   days       |   18   hours         |
      |          15   |     22   days       |    9   hours         |
      |          14   |     11   days       |    4   hours         |
      |          13   |      5.6 days       |    2.2 hours         |
      |          12   |      2.8 days       |    1.1 hours         |
      +---------------+---------------------+----------------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-14">
Figure 5: Estimation of Time before Wrap-Around
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-14">
图5：环绕前的时间估计
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Authors&#39; Addresses
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
作者地址
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Luigi Iannone Telecom ParisTech
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
路易吉·伊安诺电信巴黎酒店
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail: luigi.iannone@telecom-paristech.fr
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail: luigi.iannone@telecom-paristech.fr
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Damien Saucez INRIA Sophia Antipolis 2004 route des Lucioles - BP 93 Sophia Antipolis France
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Damien Saucez INRIA Sophia Antipolis 2004路des Lucioles-BP 93法国Sophia Antipolis
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail: damien.saucez@inria.fr
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail: damien.saucez@inria.fr
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Olivier Bonaventure Universite catholique de Louvain Place St. Barbe 2 Louvain-la-Neuve Belgium
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Olivier Bonaventure Universite catholique de Louvain Place St.Barbe 2 Louvain la Neuve比利时
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail: olivier.bonaventure@uclouvain.be
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail: olivier.bonaventure@uclouvain.be
        </pre>
      </div>

    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
