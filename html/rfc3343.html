<!DOCTYPE html>

<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name='description' content="RFC 3343:  The Application Exchange (APEX) Presence Service 中文翻译 中文RFC RFC文档 RFC翻译 RFC中文版">
  <title>RFC3343 中文翻译 中文RFC RFC文档 RFC翻译 RFC中文版</title>

  <link rel="shortcut icon" type="image/x-icon"
    href="favicon.ico" />

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="master.css">
  <script src="index.js"></script>
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?b7f7721ebaa11b23aaf77df0590e7f4a";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  <script data-ad-client="ca-pub-9129771189441092" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  
</head>
<body>
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC2CN</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="about.html">关于</a>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">3343</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://www.rfc-editor.org/rfc/rfc3343.html">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">原文</span>
      </button>
    </a>
  </div>
  <div class="container">
    <div class="row">
      <div id="rfc_header" class="col-sm-12 col-md-12">
        <div class="alert alert-info" role="alert">
          <h1 class="alert-heading">RFC 3343:  The Application Exchange (APEX) Presence Service  中文翻译</h1>
          <span class="URL">URL :
            <a href="https://datatracker.ietf.org/doc/html/rfc3343" target="_blank">
              https://datatracker.ietf.org/doc/html/rfc3343
            </a>
          </span><br>
          <span class="title_ja">
            标题 : <strong>RFC 3343</strong></span><br>
          <span class="updated_by">翻译类型 : 自动生成</span><br>
        </div>
      </div>
      <div id="rfc_alert" class="col-sm-12 col-md-12 hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
Network Working Group                                            M. Rose
Request for Comments: 3343                  Dover Beach Consulting, Inc.
Category: Experimental                                          G. Klyne
                                                            Nine by Nine
                                                              D. Crocker
                                             Brandenburg InternetWorking
                                                              April 2003
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
Network Working Group                                            M. Rose
Request for Comments: 3343                  Dover Beach Consulting, Inc.
Category: Experimental                                          G. Klyne
                                                            Nine by Nine
                                                              D. Crocker
                                             Brandenburg InternetWorking
                                                              April 2003
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
The Application Exchange (APEX) Presence Service
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
应用程序交换（APEX）状态服务
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of this Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
本备忘录的状况
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This memo defines an Experimental Protocol for the Internet community. It does not specify an Internet standard of any kind. Discussion and suggestions for improvement are requested. Distribution of this memo is unlimited.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
这份备忘录为互联网社区定义了一个实验性协议。它没有规定任何类型的互联网标准。要求进行讨论并提出改进建议。本备忘录的分发不受限制。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
版权公告
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (C) The Internet Society (2003). All Rights Reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
版权所有（C）互联网协会（2003年）。版权所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
摘要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This memo describes the Application Exchange (APEX) presence service, addressed as the well-known endpoint &#34;apex=presence&#34;. The presence service is used to manage presence information for APEX endpoints.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此备忘录描述了应用程序交换（APEX）状态服务，称为众所周知的端点“APEX=presence”。状态服务用于管理APEX端点的状态信息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目录
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  2
   2.  Use and Management of Presence Information . . . . . . . . . .  3
   2.1 Update of Presence Information . . . . . . . . . . . . . . . .  3
   2.2 Distribution of Presence Information . . . . . . . . . . . . .  4
   2.3 Distribution of Watcher Information  . . . . . . . . . . . . .  7
   3.  Format of Presence Entries . . . . . . . . . . . . . . . . . . 10
   4.  The Presence Service . . . . . . . . . . . . . . . . . . . . . 11
   4.1 Use of XML and MIME  . . . . . . . . . . . . . . . . . . . . . 12
   4.2 The Subscribe Operation  . . . . . . . . . . . . . . . . . . . 13
   4.3 The Watch Operation  . . . . . . . . . . . . . . . . . . . . . 14
   4.4 The Publish Operation  . . . . . . . . . . . . . . . . . . . . 15
   4.5 The Terminate Operation  . . . . . . . . . . . . . . . . . . . 17
   4.6 The Notify Operation . . . . . . . . . . . . . . . . . . . . . 17
   4.7 The Reply Operation  . . . . . . . . . . . . . . . . . . . . . 18
   5.  Registration: The Presence Service . . . . . . . . . . . . . . 18
   6.  The Presence Service DTD . . . . . . . . . . . . . . . . . . . 18
   7.  Security Considerations  . . . . . . . . . . . . . . . . . . . 21
       References . . . . . . . . . . . . . . . . . . . . . . . . . . 21
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  2
   2.  Use and Management of Presence Information . . . . . . . . . .  3
   2.1 Update of Presence Information . . . . . . . . . . . . . . . .  3
   2.2 Distribution of Presence Information . . . . . . . . . . . . .  4
   2.3 Distribution of Watcher Information  . . . . . . . . . . . . .  7
   3.  Format of Presence Entries . . . . . . . . . . . . . . . . . . 10
   4.  The Presence Service . . . . . . . . . . . . . . . . . . . . . 11
   4.1 Use of XML and MIME  . . . . . . . . . . . . . . . . . . . . . 12
   4.2 The Subscribe Operation  . . . . . . . . . . . . . . . . . . . 13
   4.3 The Watch Operation  . . . . . . . . . . . . . . . . . . . . . 14
   4.4 The Publish Operation  . . . . . . . . . . . . . . . . . . . . 15
   4.5 The Terminate Operation  . . . . . . . . . . . . . . . . . . . 17
   4.6 The Notify Operation . . . . . . . . . . . . . . . . . . . . . 17
   4.7 The Reply Operation  . . . . . . . . . . . . . . . . . . . . . 18
   5.  Registration: The Presence Service . . . . . . . . . . . . . . 18
   6.  The Presence Service DTD . . . . . . . . . . . . . . . . . . . 18
   7.  Security Considerations  . . . . . . . . . . . . . . . . . . . 21
       References . . . . . . . . . . . . . . . . . . . . . . . . . . 21
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
       Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 22
       Authors&#39; Addresses . . . . . . . . . . . . . . . . . . . . . . 22
       Full Copyright Statement . . . . . . . . . . . . . . . . . . . 23
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
       Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 22
       Authors&#39; Addresses . . . . . . . . . . . . . . . . . . . . . . 22
       Full Copyright Statement . . . . . . . . . . . . . . . . . . . 23
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. 介绍
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This memo describes a presence service that is built upon the APEX [1] &#34;relaying mesh&#34;. The APEX presence service is used to manage presence information for APEX endpoints.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本备忘录描述了一种基于APEX[1]“中继网格”的状态服务。APEX状态服务用于管理APEX端点的状态信息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
APEX, at its core, provides a best-effort datagram service. Within an administrative domain, all relays must be able to handle messages for any endpoint within that domain. APEX services are logically defined as endpoints, but given their ubiquitous semantics they do not necessarily need to be associated with a single physical endpoint. As such, they may be provisioned co-resident with each relay within an administrative domain, even though they are logically provided on top of the relaying mesh, i.e.,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
APEX的核心是提供尽力而为的数据报服务。在管理域内，所有中继必须能够处理该域内任何端点的消息。APEX服务在逻辑上被定义为端点，但鉴于其普遍存在的语义，它们不一定需要与单个物理端点关联。因此，它们可以与管理域内的每个中继共同驻留，即使它们在逻辑上被提供在中继网的顶部，即。，
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      +----------+     +----------+    +----------+    +---------+
      |   APEX   |     |   APEX   |    |   APEX   |    |         |
      |  access  |     | presence |    |  report  |    |   ...   |
      | service  |     |  service |    | service  |    |         |
      +----------+     +----------+    +----------+    +---------+
           |                |               |               |
           |                |               |               |
   +----------------------------------------------------------------+
   |                                                                |
   |                            APEX core                           |
   |                                                                |
   +----------------------------------------------------------------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      +----------+     +----------+    +----------+    +---------+
      |   APEX   |     |   APEX   |    |   APEX   |    |         |
      |  access  |     | presence |    |  report  |    |   ...   |
      | service  |     |  service |    | service  |    |         |
      +----------+     +----------+    +----------+    +---------+
           |                |               |               |
           |                |               |               |
   +----------------------------------------------------------------+
   |                                                                |
   |                            APEX core                           |
   |                                                                |
   +----------------------------------------------------------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
That is, applications communicate with an APEX service by exchanging data with a &#34;well-known endpoint&#34; (WKE).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
也就是说，应用程序通过与“已知端点”（WKE）交换数据来与APEX服务通信。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
APEX applications communicate with the presence service by exchanging data with the well-known endpoint &#34;apex=presence&#34; in the corresponding administrative domain, e.g., &#34;apex=presence@example.com&#34; is the endpoint associated with the presence service in the &#34;example.com&#34; administrative domain.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
APEX应用程序通过与相应管理域中的知名端点“APEX=presence”（例如“APEX”）交换数据来与状态服务通信=presence@example.com是与“example.com”管理域中的状态服务关联的端点。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that within a single administrative domain, the presence service makes use of the APEX access [3] service in order to determine if an originator is allowed to view or manage presence information.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
请注意，在单个管理域中，状态服务使用APEX access[3]服务来确定是否允许发起者查看或管理状态信息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. Use and Management of Presence Information
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. 状态信息的使用和管理
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Management of presence information falls into three categories:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
状态信息的管理分为三类：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o applications may update the presence information associated with an endpoint;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 应用程序可以更新与端点相关联的存在信息；
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o applications may subscribe to receive presence information associated with an endpoint; and,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 应用程序可以订阅以接收与端点相关联的存在信息；和
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o applications may find out who is subscribed to receive presence information.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 应用程序可能会发现谁订阅了接收状态信息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Each is now described in turn.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
现在依次描述每种方法。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.1 Update of Presence Information
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.1 更新状态信息
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an application wants to modify the presence information associated with an endpoint, it sends a publish operation to the service, e.g.,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当应用程序想要修改与端点关联的状态信息时，它会向服务发送发布操作，例如。，
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       +-------+                  +-------+
       |       | -- data -------&gt; |       |
       | appl. |                  | relay |
       |       | &lt;--------- ok -- |       |
       +-------+                  +-------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       +-------+                  +-------+
       |       | -- data -------&gt; |       |
       | appl. |                  | relay |
       |       | &lt;--------- ok -- |       |
       +-------+                  +-------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;fred@example.com&#39; /&gt;
            &lt;recipient identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;publish publisher=&#39;fred@example.com&#39; transID=&#39;1&#39;
                         timeStamp=&#39;2000-05-14T13:30:00-08:00&#39;&gt;
                    &lt;presence publisher=&#39;fred@example.com&#39;
                           lastUpdate=&#39;2000-05-14T13:02:00-08:00&#39;
                           publisherInfo=&#39;http://www.example.com/fred/&#39;&gt;
                        &lt;tuple
                          destination=&#39;apex:fred/appl=im@example.com&#39;
                          availableUntil=&#39;2000-05-14T14:02:00-08:00&#39; /&gt;
                        &lt;tuple destination=&#39;mailto:fred@flintstone.com&#39;
                          availableUntil=&#39;2525-12-31T23:59:59-08:00&#39; /&gt;
                    &lt;/presence&gt;
                &lt;/publish&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;fred@example.com&#39; /&gt;
            &lt;recipient identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;publish publisher=&#39;fred@example.com&#39; transID=&#39;1&#39;
                         timeStamp=&#39;2000-05-14T13:30:00-08:00&#39;&gt;
                    &lt;presence publisher=&#39;fred@example.com&#39;
                           lastUpdate=&#39;2000-05-14T13:02:00-08:00&#39;
                           publisherInfo=&#39;http://www.example.com/fred/&#39;&gt;
                        &lt;tuple
                          destination=&#39;apex:fred/appl=im@example.com&#39;
                          availableUntil=&#39;2000-05-14T14:02:00-08:00&#39; /&gt;
                        &lt;tuple destination=&#39;mailto:fred@flintstone.com&#39;
                          availableUntil=&#39;2525-12-31T23:59:59-08:00&#39; /&gt;
                    &lt;/presence&gt;
                &lt;/publish&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that this example uses the &#34;subaddress&#34; convention specified in Section 2.2 of [1] (e.g., &#34;fred/appl=im&#34;) to denote multiplexing of traffic for a particular endpoint. Of course, popular applications may have their own URI method assigned to them (e.g., &#34;im:fred@example.com&#34;).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注意，该示例使用[1]第2.2节中指定的“子地址”约定（例如，“fred/appl=im”）来表示特定端点的流量多路复用。当然，流行应用程序可能有自己的URI方法（例如，“im:fred@example.com&#34;).
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The service immediately responds with a reply operation containing the same transaction-identifier, e.g.,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
服务立即响应包含相同事务标识符的应答操作，例如。，
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;fred@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;reply code=&#39;250&#39; transID=&#39;1&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;fred@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;reply code=&#39;250&#39; transID=&#39;1&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.2 Distribution of Presence Information
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.2 状态信息的分发
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an application wants to (periodically) receive the presence information associated with an endpoint, it sends a subscribe operation to the service, e.g.,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当应用程序希望（定期）接收与端点关联的状态信息时，它向服务发送订阅操作，例如。，
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       +-------+                  +-------+
       |       | -- data -------&gt; |       |
       | appl. |                  | relay |
       |       | &lt;--------- ok -- |       |
       +-------+                  +-------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       +-------+                  +-------+
       |       | -- data -------&gt; |       |
       | appl. |                  | relay |
       |       | &lt;--------- ok -- |       |
       +-------+                  +-------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;wilma@example.com&#39; /&gt;
            &lt;recipient identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;subscribe publisher=&#39;fred@example.com&#39; duration=&#39;86400&#39;
                           transID=&#39;100&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;wilma@example.com&#39; /&gt;
            &lt;recipient identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;subscribe publisher=&#39;fred@example.com&#39; duration=&#39;86400&#39;
                           transID=&#39;100&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The service immediately responds with a publish operation containing the same transaction-identifier, e.g.,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
服务立即响应包含相同事务标识符的发布操作，例如。，
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;wilma@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;publish publisher=&#39;fred@example.com&#39; transID=&#39;100&#39;
                         timeStamp=&#39;2000-05-14T13:30:00-08:00&#39;&gt;
                    &lt;presence publisher=&#39;fred@example.com&#39;
                           lastUpdate=&#39;2000-05-14T13:02:00-08:00&#39;
                           publisherInfo=&#39;http://www.example.com/fred/&#39;&gt;
                        &lt;tuple
                          destination=&#39;apex:fred/appl=im@example.com&#39;
                          availableUntil=&#39;2000-05-14T14:02:00-08:00&#39; /&gt;
                    &lt;/presence&gt;
                &lt;/publish&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;wilma@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;publish publisher=&#39;fred@example.com&#39; transID=&#39;100&#39;
                         timeStamp=&#39;2000-05-14T13:30:00-08:00&#39;&gt;
                    &lt;presence publisher=&#39;fred@example.com&#39;
                           lastUpdate=&#39;2000-05-14T13:02:00-08:00&#39;
                           publisherInfo=&#39;http://www.example.com/fred/&#39;&gt;
                        &lt;tuple
                          destination=&#39;apex:fred/appl=im@example.com&#39;
                          availableUntil=&#39;2000-05-14T14:02:00-08:00&#39; /&gt;
                    &lt;/presence&gt;
                &lt;/publish&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Subsequently, for up to the specified &#34;duration&#34;, the service sends new publish operations whenever there are any changes to the endpoint&#39;s presence information. If the &#34;duration&#34; is zero-valued, a one time poll of the presence information is achieved; otherwise, at the end of the &#34;duration&#34;, a terminate operation is sent.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
随后，在指定的“持续时间”内，只要端点的状态信息发生任何更改，服务就会发送新的发布操作。如果“持续时间”为零值，则实现对存在信息的一次性轮询；否则，在“持续时间”结束时，将发送终止操作。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that Step 5 of Section 4.4 requires that the &#34;lastUpdate&#34; attribute of a presence entry be supplied in order to update that entry; accordingly, applications must successfully retrieve a presence entry prior to trying to update that entry. This is usually accomplished by subscribing with a zero-valued duration. (Regardless, administrators should ensure that applications authorized to update a presence entry are also authorized to retrieve that entry.)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注意，第4.4节的步骤5要求提供状态条目的“lastUpdate”属性，以便更新该条目；因此，应用程序必须在尝试更新状态条目之前成功检索该条目。这通常是通过以零值持续时间订阅来实现的。（无论如何，管理员应确保有权更新状态条目的应用程序也有权检索该条目。）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Either the subscriber or the service may cancel a subscription by sending a terminate operation, e.g.,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
订户或服务可以通过发送终止操作来取消订阅，例如。，
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       +-------+                  +-------+
       |       | -- data -------&gt; |       |
       | appl. |                  | relay |
       |       | &lt;--------- ok -- |       |
       +-------+                  +-------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       +-------+                  +-------+
       |       | -- data -------&gt; |       |
       | appl. |                  | relay |
       |       | &lt;--------- ok -- |       |
       +-------+                  +-------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;wilma@example.com&#39; /&gt;
            &lt;recipient identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;terminate transID=&#39;100&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;wilma@example.com&#39; /&gt;
            &lt;recipient identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;terminate transID=&#39;100&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;wilma@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;reply code=&#39;250&#39; transID=&#39;100&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;wilma@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;reply code=&#39;250&#39; transID=&#39;100&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   or
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   or
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;wilma@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;terminate transID=&#39;100&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;wilma@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;terminate transID=&#39;100&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.3 Distribution of Watcher Information
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.3 观察者信息的分发
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an application wants to (periodically) receive notices about endpoints that are subscribed to receive presence information, it sends a watch operation to the service, e.g.,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当应用程序希望（定期）接收关于订阅接收状态信息的端点的通知时，它会向服务发送监视操作，例如。，
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       +-------+                  +-------+
       |       | -- data -------&gt; |       |
       | appl. |                  | relay |
       |       | &lt;--------- ok -- |       |
       +-------+                  +-------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       +-------+                  +-------+
       |       | -- data -------&gt; |       |
       | appl. |                  | relay |
       |       | &lt;--------- ok -- |       |
       +-------+                  +-------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;fred@example.com&#39; /&gt;
            &lt;recipient identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;watch publisher=&#39;fred@example.com&#39; duration=&#39;86400&#39;
                       transID=&#39;2&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;fred@example.com&#39; /&gt;
            &lt;recipient identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;watch publisher=&#39;fred@example.com&#39; duration=&#39;86400&#39;
                       transID=&#39;2&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The service immediately responds with a reply operation containing the same transaction-identifier, e.g.,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
服务立即响应包含相同事务标识符的应答操作，例如。，
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;fred@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;
                &lt;reply code=&#39;250&#39; transID=&#39;2&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;fred@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;
                &lt;reply code=&#39;250&#39; transID=&#39;2&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For each current subscriber, the service immediately sends a notify operation containing the same transaction-identifier, e.g.,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于每个当前订户，服务立即发送包含相同事务标识符的notify操作，例如。，
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;fred@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;notify subscriber=&#39;wilma@example.com&#39; transID=&#39;2&#39;
                        duration=&#39;86000&#39; action=&#39;subscribe&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;fred@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;notify subscriber=&#39;wilma@example.com&#39; transID=&#39;2&#39;
                        duration=&#39;86000&#39; action=&#39;subscribe&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Subsequently, for up to the specified &#34;duration&#34;, the service sends new notify operations whenever an application subscribes successfully or a subscription is terminated. If the &#34;duration&#34; is zero-valued, a one time poll of the watcher information is achieved; otherwise, at the end of the &#34;duration&#34;, a terminate operation is sent.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
随后，在指定的“持续时间”内，每当应用程序成功订阅或订阅终止时，服务将发送新的notify操作。如果“持续时间”为零值，则实现对观察者信息的一次性轮询；否则，在“持续时间”结束时，将发送终止操作。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Either the watcher or the service may cancel the request by sending a terminate operation, e.g.,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
观察者或服务可以通过发送终止操作来取消请求，例如。，
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       +-------+                  +-------+
       |       | -- data -------&gt; |       |
       | appl. |                  | relay |
       |       | &lt;--------- ok -- |       |
       +-------+                  +-------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       +-------+                  +-------+
       |       | -- data -------&gt; |       |
       | appl. |                  | relay |
       |       | &lt;--------- ok -- |       |
       +-------+                  +-------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;fred@example.com&#39; /&gt;
            &lt;recipient identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;terminate transID=&#39;2&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;fred@example.com&#39; /&gt;
            &lt;recipient identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;terminate transID=&#39;2&#39; /&gt;
            &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;fred@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;reply code=&#39;250&#39; transID=&#39;2&#39; /&gt;
             &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;fred@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;reply code=&#39;250&#39; transID=&#39;2&#39; /&gt;
             &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   or
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   or
                                  +-------+                  +-------+
                                  |       | &lt;------- data -- |       |
                                  | relay |                  | pres. |
                                  |       | -- ok ---------&gt; |  svc. |
                                  +-------+                  +-------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;fred@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;terminate transID=&#39;2&#39; /&gt;
             &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     C: &lt;data content=&#39;#Content&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
            &lt;recipient identity=&#39;fred@example.com&#39; /&gt;
            &lt;data-content Name=&#39;Content&#39;&gt;
                &lt;terminate transID=&#39;2&#39; /&gt;
             &lt;/data-content&gt;
        &lt;/data&gt;
     S: &lt;ok /&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. Format of Presence Entries
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. 在场记录的格式
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Each administrative domain is responsible for maintaining a &#34;presence entry&#34; for each of its endpoints (regardless of whether those endpoints are currently attached to the relaying mesh).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
每个管理域负责维护其每个端点的“状态条目”（无论这些端点当前是否连接到中继网格）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Section 6 defines the syntax for presence entries. Each presence entry has a &#34;publisher&#34; attribute, a &#34;lastUpdate&#34; attribute, a &#34;publisherInfo&#34; attribute, and contains one or more &#34;tuple&#34; elements:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
第6节定义了状态条目的语法。每个状态条目都有一个“publisher”属性、“lastUpdate”属性、“publisherInfo”属性，并包含一个或多个“tuple”元素：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;publisher&#34; attribute specifies the endpoint associated with the presence entry;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “publisher”属性指定与状态条目关联的端点；
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;lastUpdate&#34; attribute specifies the date and time that the service last updated the presence entry;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “lastUpdate”属性指定服务上次更新状态条目的日期和时间；
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;publisherInfo&#34; attribute specifies arbitrary information about the publisher (using a URI); and,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “publisherInfo”属性指定关于发布者的任意信息（使用URI）；和
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o each &#34;tuple&#34; element specifies information about an entity associated with the endpoint.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 每个“tuple”元素指定与端点关联的实体的相关信息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Each &#34;tuple&#34; element has a &#34;destination&#34; attribute, an &#34;availableUntil&#34; attribute, a &#34;tupleInfo&#34; attribute, and contains zero or more &#34;capability&#34; elements:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
每个“tuple”元素都有一个“destination”属性、“availableUntil”属性和一个“tupleInfo”属性，并且包含零个或多个“capability”元素：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;destination&#34; attribute identifies the entity as a URI (e.g., &#34;apex:fred/appl=im@example.com&#34; or &#34;mailto:fred@flintstone.com&#34;);
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “destination”属性将实体标识为URI（例如，“apex:fred/appl=im@example.com“或”邮寄至：fred@flintstone.com&#34;);
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;availableUntil&#34; attribute specifies the latest date and time that the entity is capable of receiving messages;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “availableUntil”属性指定实体能够接收消息的最新日期和时间；
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;tupleInfo&#34; attribute specifies arbitrary information about the entity (using a URI); and,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “tupleInfo”属性指定关于实体的任意信息（使用URI）；和
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o each &#34;capability&#34; element contains a specification as to the kinds of content the entity is capable of receiving.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 每个“能力”元素都包含一个关于实体能够接收的内容类型的规范。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Each &#34;capability&#34; element contains arbitrary character data formatted according to the standard indicated in the element&#39;s &#34;baseline&#34; attribute.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
每个“capability”元素包含根据元素的“baseline”属性中指示的标准格式化的任意字符数据。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. The Presence Service
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. 出席服务
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Section 5 contains the APEX service registration for the presence service:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
第5节包含状态服务的APEX服务注册：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Within an administrative domain, the service is addressed using the well-known endpoint of &#34;apex=presence&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 在管理域中，使用众所周知的端点“apex=presence”对服务进行寻址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Section 6 defines the syntax of the operations exchanged with the service.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 第6节定义了与服务交换的操作的语法。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o A consumer of the service initiates communications by sending data containing the subscribe, watch, or publish operation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 服务的使用者通过发送包含订阅、监视或发布操作的数据来发起通信。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o In addition to replying to these operations, the service may also initiate communications by sending data containing the terminate, publish, or notify operations.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 除了回复这些操作之外，服务还可以通过发送包含终止、发布或通知操作的数据来启动通信。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An implementation of the service must maintain information about both presence entries and in-progress operations in persistent storage.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
服务的实现必须在持久性存储中维护有关存在项和正在进行的操作的信息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Consult Section 6.1.1 of [1] for a discussion on the properties of long-lived transaction-identifiers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
有关长寿命事务标识符属性的讨论，请参阅[1]第6.1.1节。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1 Use of XML and MIME
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1 XML和MIME的使用
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Section 4.1 of [1] describes how arbitrary MIME content is exchanged as a BEEP [2] payload. For example, to transmit:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[1]的第4.1节描述了如何将任意MIME内容交换为蜂鸣[2]负载。例如，要传输：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       &lt;data content=&#39;...&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
           &lt;recipient identity=&#39;fred@example.com&#39; /&gt;
       &lt;/data&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       &lt;data content=&#39;...&#39;&gt;
            &lt;originator identity=&#39;apex=presence@example.com&#39; /&gt;
           &lt;recipient identity=&#39;fred@example.com&#39; /&gt;
       &lt;/data&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   where &#34;...&#34; refers to: &lt;reply code=&#39;250&#39; transID=&#39;1&#39; /&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   where &#34;...&#34; refers to: &lt;reply code=&#39;250&#39; transID=&#39;1&#39; /&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
then the corresponding BEEP message might look like this:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
然后相应的蜂鸣声消息可能如下所示：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       C: MSG 1 1 . 42 1234
       C: Content-Type: multipart/related; boundary=&#34;boundary&#34;;
       C:               start=&#34;&lt;1@example.com&gt;&#34;;
       C:               type=&#34;application/beep+xml&#34;
       C:
       C: --boundary
       C: Content-Type: application/beep+xml
       C: Content-ID: &lt;1@example.com&gt;
       C:
       C: &lt;data content=&#39;cid:2@example.com&#39;&gt;
       C:     &lt;originator identity=&#39;fred@example.com&#39; /&gt;
       C:     &lt;recipient identity=&#39;apex=presence@example.com&#39; /&gt;
       C: &lt;/data&gt;
       C: --boundary
       C: Content-Type: application/beep+xml
       C: Content-ID: &lt;2@example.com&gt;
       C:
       C: &lt;reply code=&#39;250&#39; transID=&#39;1&#39; /&gt;
       C: --boundary--
       C: END
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       C: MSG 1 1 . 42 1234
       C: Content-Type: multipart/related; boundary=&#34;boundary&#34;;
       C:               start=&#34;&lt;1@example.com&gt;&#34;;
       C:               type=&#34;application/beep+xml&#34;
       C:
       C: --boundary
       C: Content-Type: application/beep+xml
       C: Content-ID: &lt;1@example.com&gt;
       C:
       C: &lt;data content=&#39;cid:2@example.com&#39;&gt;
       C:     &lt;originator identity=&#39;fred@example.com&#39; /&gt;
       C:     &lt;recipient identity=&#39;apex=presence@example.com&#39; /&gt;
       C: &lt;/data&gt;
       C: --boundary
       C: Content-Type: application/beep+xml
       C: Content-ID: &lt;2@example.com&gt;
       C:
       C: &lt;reply code=&#39;250&#39; transID=&#39;1&#39; /&gt;
       C: --boundary--
       C: END
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
or this:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
或者这个：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       C: MSG 1 1 . 42 1234
       C: Content-Type: application/beep+xml
       C:
       C: &lt;data content=&#39;#Content&#39;&gt;
       C:     &lt;originator identity=&#39;fred@example.com&#39; /&gt;
       C:     &lt;recipient identity=&#39;apex=presence@example.com&#39; /&gt;
       C:     &lt;data-content Name=&#39;Content&#39;&gt;
       C:         &lt;reply code=&#39;250&#39; transID=&#39;1&#39; /&gt;
       C:     &lt;/data-content&gt;
       C: &lt;/data&gt;
       C: END
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       C: MSG 1 1 . 42 1234
       C: Content-Type: application/beep+xml
       C:
       C: &lt;data content=&#39;#Content&#39;&gt;
       C:     &lt;originator identity=&#39;fred@example.com&#39; /&gt;
       C:     &lt;recipient identity=&#39;apex=presence@example.com&#39; /&gt;
       C:     &lt;data-content Name=&#39;Content&#39;&gt;
       C:         &lt;reply code=&#39;250&#39; transID=&#39;1&#39; /&gt;
       C:     &lt;/data-content&gt;
       C: &lt;/data&gt;
       C: END
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2 The Subscribe Operation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2 订阅操作
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an application wants to (periodically) receive the presence information associated with an endpoint, it sends a &#34;subscribe&#34; element to the service.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当应用程序希望（定期）接收与端点关联的状态信息时，它会向服务发送一个“subscribe”元素。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The &#34;subscribe&#34; element has a &#34;publisher&#34; attribute, a &#34;duration&#34; attribute, a &#34;transID&#34; attribute, and no content:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
“subscribe”元素具有“publisher”属性、“duration”属性、“transID”属性，并且没有内容：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;publisher&#34; attribute specifies the endpoint associated with the presence entry;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “publisher”属性指定与状态条目关联的端点；
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;transID&#34; attribute specifies the transaction-identifier associated with this operation; and,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “transID”属性指定与此操作关联的事务标识符；和
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;duration&#34; attribute specifies the maximum number of seconds for which the originator is interested in receiving updated presence information.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “持续时间”属性指定发起者希望接收更新状态信息的最大秒数。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the service receives a &#34;subscribe&#34; element, we refer to the &#34;publisher&#34; attribute of that element as the &#34;subject&#34;, and the service performs these steps:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当服务接收到“subscribe”元素时，我们将该元素的“publisher”属性称为“subject”，服务将执行以下步骤：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. If the subject is outside of this administrative domain, a &#34;reply&#34; element having code 553 is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 如果主题不在此管理域内，则向发端人发送代码为553的“回复”元素。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. If the subject does not refer to a valid endpoint, a &#34;reply&#34; element having code 550 is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 如果主题未引用有效端点，则将代码为550的“reply”元素发送给发起人。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. If the subject&#39;s access entry does not contain a &#34;presence:subscribe&#34; token for the originator, a &#34;reply&#34; element having code 537 is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. 如果主体的访问条目不包含发起人的“存在：订阅”令牌，则向发起人发送代码为537的“回复”元素。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. If the originator already has an in-progress subscribe operation for the subject, then the previous subscribe operation is silently terminated, and processing continues.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. 如果发起人已经对主题进行了正在进行的订阅操作，则先前的订阅操作将以静默方式终止，并继续处理。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. If the &#34;transID&#34; attribute refers to an in-progress subscribe or watch operation for the originator, a &#34;reply&#34; element having code 555 is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. 如果“transID”属性指的是发起人正在进行的订阅或监视操作，则向发起人发送代码为555的“reply”元素。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
6. Otherwise:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
6. 否则：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
1. A &#34;publish&#34; element, corresponding to the subject&#39;s presence entry, is immediately sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
1. 与主体的状态条目相对应的“发布”元素将立即发送给发起人。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
2. For each endpoint currently watching subscribers to the subject&#39;s presence information, a &#34;notify&#34; element is immediately as sent (c.f., Step 6.3 of Section 4.6).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
2. 对于当前监视受试者存在信息订阅者的每个端点，立即发送“通知”元素（c.f.，第4.6节第6.3步）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
3. For up to the amount of time indicated by the &#34;duration&#34; attribute of the &#34;subscribe&#34; element, if the subject&#39;s presence entry changes, an updated &#34;presence&#34; element is sent to the originator using the publish operation (Section 4.4). Finally, when the amount of time indicated by the &#34;duration&#34; attribute expires, a terminate operation (Section 4.5) is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
3. 对于“订阅”元素的“持续时间”属性所指示的时间量，如果受试者的状态条目发生变化，则使用发布操作将更新的“状态”元素发送给发起人（第4.4节）。最后，当“duration”（持续时间）属性指示的时间量到期时，终止操作（第4.5节）被发送给发起人。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Note that if the duration is zero-valued, then the subscribe operation is making a one-time poll of the presence information. Accordingly, Step 6.3 above does not occur.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
注意，如果持续时间为零值，则订阅操作对存在信息进行一次性轮询。因此，上述步骤6.3不会发生。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Regardless of whether a &#34;publish&#34; or &#34;reply&#34; element is sent to the originator, the &#34;transID&#34; attribute is identical to the value found in the &#34;subscribe&#34; element sent by the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
无论是“发布”还是“回复”元素发送给发起者，“transID”属性都与发起者发送的“订阅”元素中的值相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.3 The Watch Operation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.3 监视操作
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an application wants to (periodically) receive notices about endpoints that are subscribed to receive presence entry, it sends a &#34;watch&#34; element to the service.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当应用程序希望（定期）接收关于订阅接收状态条目的端点的通知时，它会向服务发送一个“watch”元素。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The &#34;watch&#34; element has a &#34;publisher&#34; attribute, a &#34;duration&#34; attribute, a &#34;transID&#34; attribute, and no content:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
“watch”元素具有“publisher”属性、“duration”属性、“transID”属性，并且没有内容：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;publisher&#34; attribute specifies the endpoint associated with the presence entry;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “publisher”属性指定与状态条目关联的端点；
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;transID&#34; attribute specifies the transaction-identifier associated with this operation; and,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “transID”属性指定与此操作关联的事务标识符；和
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;duration&#34; attribute specifies the maximum number of seconds for which the originator is interested in watching subscribers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “duration”（持续时间）属性指定发起者关注订阅者的最大秒数。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the service receives a &#34;watch&#34; element, we refer to the &#34;publisher&#34; attribute of that element as the &#34;subject&#34;, and the service performs these steps:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当服务接收到“watch”元素时，我们将该元素的“publisher”属性称为“subject”，服务将执行以下步骤：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. If the subject is outside of this administrative domain, a &#34;reply&#34; element having code 553 is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 如果主题不在此管理域内，则向发端人发送代码为553的“回复”元素。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. If the subject does not refer to a valid endpoint, a &#34;reply&#34; element having code 550 is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 如果主题未引用有效端点，则将代码为550的“reply”元素发送给发起人。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. If the subject&#39;s access entry does not contain a &#34;presence:watch&#34; token for the originator, a &#34;reply&#34; element having code 537 is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. 如果受试者的访问条目不包含发端人的“存在：监视”令牌，则向发端人发送代码为537的“回复”元素。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. If the originator already has an in-progress watch operation for the subject, then the previous watch operation is silently terminated, and processing continues.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. 如果发起者已经对主题进行了正在进行的监视操作，则先前的监视操作将以静默方式终止，并且处理将继续。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. If the &#34;transID&#34; attribute refers to an in-progress subscribe or watch operation for the originator, a &#34;reply&#34; element having code 555 is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. 如果“transID”属性指的是发起人正在进行的订阅或监视操作，则向发起人发送代码为555的“reply”元素。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
6. Otherwise:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
6. 否则：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
1. A &#34;reply&#34; element having code 250 is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
1. 将代码为250的“回复”元素发送给发起人。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
2. For each endpoint currently subscribing to the subject&#39;s presence information, a &#34;notify&#34; element is immediately sent to the originator (c.f., Section 4.6).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
2. 对于当前订阅受试者存在信息的每个端点，立即向发起人发送“通知”元素（c.f.，第4.6节）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
3. For up to the amount of time indicated by the &#34;duration&#34; attribute of the &#34;watch&#34; element, whenever a subscribe operation succeeds or a subscription is terminated, a &#34;notify&#34; element is sent to the originator. Finally, when the amount of time indicated by the &#34;duration&#34; attribute expires, a terminate operation (Section 4.5) is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
3. 在“watch”元素的“duration”属性指示的最长时间内，每当订阅操作成功或订阅终止时，都会向发起人发送一个“notify”元素。最后，当“duration”（持续时间）属性指示的时间量到期时，终止操作（第4.5节）被发送给发起人。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Note that if the duration is zero-valued, then the watch operation is making a one-time poll of the presence information. Accordingly, Step 6.3 above does not occur.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
注意，如果持续时间为零值，则监视操作对存在信息进行一次性轮询。因此，上述步骤6.3不会发生。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Regardless of whether a &#34;notify&#34; or &#34;reply&#34; element is sent to the originator, the &#34;transID&#34; attribute is identical to the value found in the &#34;presence&#34; element sent by the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
无论“notify”或“reply”元素是否发送给发端人，“transID”属性与发端人发送的“presence”元素中的值相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4 The Publish Operation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4 发布操作
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an application wants to modify the presence entry associated with an endpoint, it sends a &#34;publish&#34; element to the service. In addition, the service sends a &#34;publish&#34; element to endpoints that have subscribed to see presence information (c.f., Section 4.2).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当应用程序想要修改与端点关联的状态条目时，它会向服务发送一个“publish”元素。此外，该服务向已订阅查看状态信息的端点发送“发布”元素（c.f.，第4.2节）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The &#34;publish&#34; element has a &#34;publisher&#34; attribute, a &#34;transID&#34; attribute, a &#34;timeStamp&#34; attribute, and contains a &#34;presence&#34; element:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
“publish”元素具有“publisher”属性、“transID”属性、“timeStamp”属性，并包含“presence”元素：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;publisher&#34; attribute specifies the endpoint to be associated with the presence entry;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “publisher”属性指定要与状态条目关联的端点；
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;transID&#34; attribute specifies the transaction-identifier associated with this operation;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “transID”属性指定与此操作关联的事务标识符；
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;timeStamp&#34; attribute specifies the application&#39;s notion of the current date and time; and,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “timeStamp”属性指定应用程序当前日期和时间的概念；和
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;presence&#34; element contains the desired presence entry for the endpoint.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “presence”元素包含端点所需的presence条目。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the service sends a &#34;publish&#34; element, the &#34;transID&#34; attribute specifies the transaction-identifier associated with the subscribe operation that caused this &#34;publish&#34; element to be sent, and the &#34;timeStamp&#34; attribute specifies the service&#39;s notion of the current date and time. No reply is sent by the receiving endpoint.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当服务发送“publish”元素时，“transID”属性指定与导致发送此“publish”元素的订阅操作相关联的事务标识符，“timeStamp”属性指定服务的当前日期和时间概念。接收端点不发送回复。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the service receives a &#34;publish&#34; element, we refer to the &#34;publisher&#34; attribute of that element as the &#34;subject&#34;, and the service performs these steps:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当服务接收到“publish”元素时，我们将该元素的“publisher”属性称为“subject”，服务将执行以下步骤：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. If the &#34;publisher&#34; attribute of the &#34;publish&#34; element doesn&#39;t match the &#34;publisher&#34; attribute of the &#34;presence&#34; element contained in the &#34;publish&#34; element, a &#34;reply&#34; element having code 503 is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 如果“publish”元素的“publisher”属性与“publish”元素中包含的“presence”元素的“publisher”属性不匹配，则将代码为503的“reply”元素发送给发起人。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. If the subject is outside of this administrative domain, a &#34;reply&#34; element having code 553 is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 如果主题不在此管理域内，则向发端人发送代码为553的“回复”元素。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. If the subject does not refer to a valid endpoint, a &#34;reply&#34; element having code 550 is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. 如果主题未引用有效端点，则将代码为550的“reply”元素发送给发起人。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. If the subject&#39;s access entry does not contain a &#34;presence:publish&#34; token for the originator, a &#34;reply&#34; element having code 537 is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. 如果主体的访问条目不包含发端人的“存在：发布”令牌，则向发端人发送代码为537的“回复”元素。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. If the &#34;lastUpdate&#34; attribute of the &#34;publish&#34; element is not semantically identical to the &#34;lastUpdate&#34; attribute of the subject&#39;s presence entry, a &#34;reply&#34; element having code 555 is sent to the originator. (This allows a simple mechanism for atomic updates.)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. 如果“publish”元素的“lastUpdate”属性在语义上与主体的存在条目的“lastUpdate”属性不相同，则向发起人发送代码为555的“reply”元素。（这允许原子更新的简单机制。）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
6. Otherwise:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
6. 否则：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
1. The subject&#39;s presence entry is updated from the &#34;publish&#34; element.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
1. 主题的状态条目从“publish”元素更新。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
2. The &#34;lastUpdate&#34; attribute of the presence entry is set to the service&#39;s notion of the current date and time.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
2. 状态条目的“lastUpdate”属性设置为服务的当前日期和时间概念。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
3. A &#34;reply&#34; element having code 250 is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
3. 将代码为250的“回复”元素发送给发起人。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When sending the &#34;reply&#34; element, the &#34;transID&#34; attribute is identical to the value found in the &#34;publish&#34; element sent by the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
发送“reply”元素时，“transID”属性与发起者发送的“publish”元素中的值相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.5 The Terminate Operation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.5 终止操作
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an application no longer wishes to subscribe to presence information or to watch endpoints that are subscribed to receive presence information, it sends a &#34;terminate&#34; element to the service; similarly, when the service no longer considers an application to be subscribing or watching, a &#34;terminate&#34; element is sent to the application.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当应用程序不再希望订阅状态信息或监视已订阅接收状态信息的端点时，它向服务发送“终止”元素；类似地，当服务不再认为某个应用程序正在订阅或观看时，会向该应用程序发送一个“terminate”元素。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The &#34;terminate&#34; element contains only a &#34;transID&#34; attribute that specifies the transaction-identifier associated an in-progress subscribe or watch operation. Section 9.1 of [1] defines the syntax for the &#34;terminate&#34; element.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
“terminate”元素仅包含一个“transID”属性，该属性指定与正在进行的订阅或监视操作相关联的事务标识符。[1]的第9.1节定义了“terminate”元素的语法。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the service receives a &#34;terminate&#34; element, it performs these steps:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当服务接收到“terminate”元素时，它将执行以下步骤：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. If the transaction-identifier does not refer to a previous subscribe or watch operation for the originator, an &#34;error&#34; element having code 550 is returned.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 如果事务标识符没有引用发起人以前的订阅或监视操作，则返回代码为550的“error”元素。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. Otherwise, the previous subscribe or watch operation for the originator is terminated, and a &#34;reply&#34; element having code 250 is sent to the originator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 否则，终止发起人的先前订阅或监视操作，并且向发起人发送具有代码250的“应答”元素。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that following a terminate operation, the originator may receive further presence or watcher updates. Although the service will send no further updates after processing a terminate operation and sending the reply operation, earlier updates may be in transit.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
请注意，在终止操作之后，发起者可能会收到进一步的状态或观察者更新。虽然服务在处理终止操作并发送回复操作后不会发送进一步的更新，但早期的更新可能正在传输中。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.6 The Notify Operation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.6 通知操作
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The service sends a &#34;notify&#34; element to endpoints that are watching other endpoints subscribed to presence information (c.f., Section 4.3).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
该服务向正在监视订阅状态信息的其他端点的端点发送“notify”元素（c.f.，第4.3节）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The &#34;notify&#34; element has a &#34;subscriber&#34; attribute, a &#34;transID&#34; attribute, a &#34;duration&#34; attribute, an &#34;action&#34; attribute, and no content:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
“notify”元素具有“subscriber”属性、“transID”属性、“duration”属性、“action”属性，并且没有内容：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;subscriber&#34; attribute specifies the endpoint that is subscribed to presence information; and,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “subscriber”属性指定订阅状态信息的端点；和
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;transID&#34; attribute specifies the transaction-identifier associated with the watch operation that caused this &#34;notify&#34; element to be sent;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “transID”属性指定与导致发送此“notify”元素的监视操作相关联的事务标识符；
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the &#34;action&#34; attribute specifies whether a subscription or its termination has occurred; and,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o “action”属性指定订阅或其终止是否已发生；和
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o if a subscription is being reported, the &#34;duration&#34; attribute specifies the requested duration of the subscription.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 如果正在报告订阅，“duration”（持续时间）属性指定请求的订阅持续时间。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
No reply is sent by the receiving endpoint.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
接收端点不发送回复。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.7 The Reply Operation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.7 应答操作
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
While processing operations, the service may respond with a &#34;reply&#34; element. Consult Sections 10.2 and 6.1.2 of [1], respectively, for the definition and an exposition of the syntax of the reply element.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在处理操作时，服务可以使用“reply”元素进行响应。有关reply元素语法的定义和说明，请分别参阅[1]的第10.2节和第6.1.2节。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. Registration: The Presence Service
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. 注册：在线服务
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Well-Known Endpoint: apex=presence
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
已知终点：顶点=存在
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Syntax of Messages Exchanged: c.f., Section 6
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
交换信息的语法：c.f.，第6节
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Sequence of Messages Exchanged: c.f., Section 4
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
交换的信息顺序：c.f.，第4节
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Access Control Tokens: presence:subscribe, presence:watch,
      presence:publish
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Access Control Tokens: presence:subscribe, presence:watch,
      presence:publish
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Contact Information: c.f., the &#34;Authors&#39; Addresses&#34; section of this memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
联系方式：c.f.，本备忘录的“作者地址”部分
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. The Presence Service DTD
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. 状态服务DTD
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
&lt;!-- DTD for the APEX presence service, as of 2001-05-08
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
&lt;!-- 从2001-05-08起，APEX存在服务的DTD
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
Refer to this DTD as:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
将此DTD称为：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       &lt;!ENTITY % APEXPRESENCE PUBLIC &#34;-//IETF//DTD APEX PRESENCE//EN&#34;
                  &#34;&#34;&gt;
       %APEXPRESENCE;
     --&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       &lt;!ENTITY % APEXPRESENCE PUBLIC &#34;-//IETF//DTD APEX PRESENCE//EN&#34;
                  &#34;&#34;&gt;
       %APEXPRESENCE;
     --&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!ENTITY % APEXCORE PUBLIC &#34;-//IETF//DTD APEX CORE//EN&#34; &#34;&#34;&gt;
   %APEXCORE;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!ENTITY % APEXCORE PUBLIC &#34;-//IETF//DTD APEX CORE//EN&#34; &#34;&#34;&gt;
   %APEXCORE;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
&lt;!-- Synopsis of the APEX presence service
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
&lt;!-- APEX presence服务简介
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
service WKE: apex=presence
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
服务WKE:apex=在场
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
message exchanges:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
信息交换：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           consumer initiates    service replies
           ==================    ================
           subscribe             publish or reply
           terminate             reply
           watch                 reply
           publish               reply
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           consumer initiates    service replies
           ==================    ================
           subscribe             publish or reply
           terminate             reply
           watch                 reply
           publish               reply
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           service initiates     consumer replies
           =================     ================
           terminate             (nothing)
           publish               (nothing)
           notify                (nothing)
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           service initiates     consumer replies
           =================     ================
           terminate             (nothing)
           publish               (nothing)
           notify                (nothing)
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
access control:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
访问控制：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           token                 target
           ==================    ======
           presence:subscribe    for &#34;publisher&#34; of &#34;subscribe&#34; element
           presence:watch        for &#34;publisher&#34; of &#34;watch&#34; element
           presence:publish      for &#34;publisher&#34; of &#34;publish&#34; element
     --&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           token                 target
           ==================    ======
           presence:subscribe    for &#34;publisher&#34; of &#34;subscribe&#34; element
           presence:watch        for &#34;publisher&#34; of &#34;watch&#34; element
           presence:publish      for &#34;publisher&#34; of &#34;publish&#34; element
     --&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!ELEMENT subscribe   EMPTY&gt;
   &lt;!ATTLIST subscribe
             publisher   %ENDPOINT;        #REQUIRED
             transID     %UNIQID;          #REQUIRED
             duration    %SECONDS;         #REQUIRED&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!ELEMENT subscribe   EMPTY&gt;
   &lt;!ATTLIST subscribe
             publisher   %ENDPOINT;        #REQUIRED
             transID     %UNIQID;          #REQUIRED
             duration    %SECONDS;         #REQUIRED&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!ELEMENT watch       EMPTY&gt;
   &lt;!ATTLIST watch
             publisher   %ENDPOINT;        #REQUIRED
             transID     %UNIQID;          #REQUIRED
             duration    %SECONDS;         #REQUIRED&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!ELEMENT watch       EMPTY&gt;
   &lt;!ATTLIST watch
             publisher   %ENDPOINT;        #REQUIRED
             transID     %UNIQID;          #REQUIRED
             duration    %SECONDS;         #REQUIRED&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!-- publisher attributes must match in publish and presence --&gt;
   &lt;!ELEMENT publish     (presence)&gt;
   &lt;!ATTLIST publish
             publisher   %ENDPOINT;        #REQUIRED
             transID     %UNIQID;          #REQUIRED
             timeStamp   %TIMESTAMP;       #REQUIRED&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!-- publisher attributes must match in publish and presence --&gt;
   &lt;!ELEMENT publish     (presence)&gt;
   &lt;!ATTLIST publish
             publisher   %ENDPOINT;        #REQUIRED
             transID     %UNIQID;          #REQUIRED
             timeStamp   %TIMESTAMP;       #REQUIRED&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!ELEMENT notify      EMPTY&gt;
   &lt;!ATTLIST notify
             subscriber  %ENDPOINT;        #REQUIRED
             transID     %UNIQID;          #REQUIRED
             duration    %SECONDS;         &#34;0&#34;
             action     (subscribe|terminate)
                                           &#34;subscribe&#34;&gt;
   &lt;!--
     presence entries
     --&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!ELEMENT notify      EMPTY&gt;
   &lt;!ATTLIST notify
             subscriber  %ENDPOINT;        #REQUIRED
             transID     %UNIQID;          #REQUIRED
             duration    %SECONDS;         &#34;0&#34;
             action     (subscribe|terminate)
                                           &#34;subscribe&#34;&gt;
   &lt;!--
     presence entries
     --&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!ELEMENT presence    (tuple+)&gt;
   &lt;!ATTLIST presence
             publisher   %ENDPOINT;        #REQUIRED
             lastUpdate  %TIMESTAMP;       #REQUIRED
             publisherInfo
                         %URI;             &#34;&#34;&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!ELEMENT presence    (tuple+)&gt;
   &lt;!ATTLIST presence
             publisher   %ENDPOINT;        #REQUIRED
             lastUpdate  %TIMESTAMP;       #REQUIRED
             publisherInfo
                         %URI;             &#34;&#34;&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!ELEMENT tuple       (capability*)&gt;
   &lt;!ATTLIST tuple
             destination %URI;             #REQUIRED
             availableUntil
                         %TIMESTAMP;       #REQUIRED
             tupleInfo   %URI;             &#34;&#34;&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!ELEMENT tuple       (capability*)&gt;
   &lt;!ATTLIST tuple
             destination %URI;             #REQUIRED
             availableUntil
                         %TIMESTAMP;       #REQUIRED
             tupleInfo   %URI;             &#34;&#34;&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!-- e.g., baseline=&#39;urn:ietf:rfc:rfc2533&#39; --&gt;
   &lt;!ELEMENT capability (#PCDATA)&gt;
   &lt;!ATTLIST capability
             baseline    %URI              #REQUIRED&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   &lt;!-- e.g., baseline=&#39;urn:ietf:rfc:rfc2533&#39; --&gt;
   &lt;!ELEMENT capability (#PCDATA)&gt;
   &lt;!ATTLIST capability
             baseline    %URI              #REQUIRED&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. 安全考虑
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Consult [1]&#39;s Section 11 for a discussion of security issues.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
有关安全问题的讨论，请参阅[1]的第11节。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In addition, timestamps issued by the the presence service may disclose location information. If this information is considered sensitive, the special timezone value &#34;-00:00&#34; may be used (after converting the local time accordingly).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此外，由存在服务发布的时间戳可以公开位置信息。如果该信息被视为敏感信息，则可使用特殊时区值“-00:00”（在相应转换本地时间后）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
References
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
工具书类
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[1] Rose, M., Klyne, G. and D. Crocker, &#34;The Application Exchange Core&#34;, RFC 3340, July 2002.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[1] Rose，M.，Klyne，G.和D.Crocker，“应用程序交换核心”，RFC3440，2002年7月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[2] Rose, M., &#34;The Blocks Extensible Exchange Protocol Core&#34;, RFC 3080, March 2001.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[2] Rose，M.，“块可扩展交换协议核心”，RFC 30802001年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[3] Rose, M., Klyne, G. and D. Crocker, &#34;The Application Exchange (APEX) Access Service&#34;, RFC 3341, July 2002.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[3] Rose，M.，Klyne，G.和D.Crocker，“应用程序交换（APEX）访问服务”，RFC 33412002年7月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Acknowledgements
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
致谢
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The authors gratefully acknowledge the contributions of: Neil Cook, Eric Dixon, Darren New, Scott Pead, and Bob Wyman.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
作者衷心感谢Neil Cook、Eric Dixon、Darren New、Scott Pead和Bob Wyman的贡献。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Authors&#39; Addresses
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
作者地址
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Marshall T. Rose Dover Beach Consulting, Inc. POB 255268 Sacramento, CA 95865-5268 US
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
马歇尔T.罗斯多佛海滩咨询公司POB 255268萨克拉门托，加利福尼亚州95865-5268美国
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Phone: +1 916 483 8878
   EMail: mrose@dbc.mtview.ca.us
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Phone: +1 916 483 8878
   EMail: mrose@dbc.mtview.ca.us
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Graham Klyne Nine by Nine
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
格雷厄姆·克莱恩九乘九
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail: gk@ninebynine.org
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail: gk@ninebynine.org
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
David H. Crocker Brandenburg InternetWorking 675 Spruce Drive Sunnyvale, CA 94086 US
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
David H.Crocker Brandenburg互联网络美国加利福尼亚州桑尼维尔市云杉大道675号，邮编94086
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Phone: +1 408 246 8253
   EMail: dcrocker@brandenburg.com
   URI:   http://www.brandenburg.com/
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Phone: +1 408 246 8253
   EMail: dcrocker@brandenburg.com
   URI:   http://www.brandenburg.com/
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Full Copyright Statement
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
完整版权声明
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (C) The Internet Society (2003). All Rights Reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
版权所有（C）互联网协会（2003年）。版权所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this paragraph are included on all such copies and derivative works. However, this document itself may not be modified in any way, such as by removing the copyright notice or references to the Internet Society or other Internet organizations, except as needed for the purpose of developing Internet standards in which case the procedures for copyrights defined in the Internet Standards process must be followed, or as required to translate it into languages other than English.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件及其译本可复制并提供给他人，对其进行评论或解释或协助其实施的衍生作品可全部或部分编制、复制、出版和分发，不受任何限制，前提是上述版权声明和本段包含在所有此类副本和衍生作品中。但是，不得以任何方式修改本文件本身，例如删除版权通知或对互联网协会或其他互联网组织的引用，除非出于制定互联网标准的需要，在这种情况下，必须遵循互联网标准过程中定义的版权程序，或根据需要将其翻译成英语以外的其他语言。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The limited permissions granted above are perpetual and will not be revoked by the Internet Society or its successors or assigns.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上述授予的有限许可是永久性的，互联网协会或其继承人或受让人不会撤销。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document and the information contained herein is provided on an &#34;AS IS&#34; basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件和其中包含的信息是按“原样”提供的，互联网协会和互联网工程任务组否认所有明示或暗示的保证，包括但不限于任何保证，即使用本文中的信息不会侵犯任何权利，或对适销性或特定用途适用性的任何默示保证。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Acknowledgement
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
确认
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Funding for the RFC Editor function is currently provided by the Internet Society.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC编辑功能的资金目前由互联网协会提供。
        </p>
      </div>
    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
