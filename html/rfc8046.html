<!DOCTYPE html>

<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name='description' content="RFC 8046: Host Mobility with the Host Identity Protocol中文翻译 中文RFC RFC文档 RFC翻译 RFC中文版">
  <title>RFC8046 中文翻译 中文RFC RFC文档 RFC翻译 RFC中文版</title>

  <link rel="shortcut icon" type="image/x-icon"
    href="favicon.ico" />

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="master.css">
  <script src="index.js"></script>
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?b7f7721ebaa11b23aaf77df0590e7f4a";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  <script data-ad-client="ca-pub-9129771189441092" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  
</head>
<body>
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC2CN</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
         
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">8046</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc8046">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <div class="row">
      <div id="rfc_header" class="col-sm-12 col-md-12">
        <div class="alert alert-info" role="alert">
          <h1 class="alert-heading">RFC 8046: Host Mobility with the Host Identity Protocol 中文翻译</h1>
          <span class="URL">URL :
            <a href="https://datatracker.ietf.org/doc/html/rfc8046">
              https://datatracker.ietf.org/doc/html/rfc8046
            </a>
          </span><br>
          <span class="title_ja">
            标题 : <strong>RFC 8046</strong></span><br>
          <span class="updated_by">翻译类型 : 自动生成</span><br>
        </div>
      </div>
      <div id="rfc_alert" class="col-sm-12 col-md-12 hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                 T. Henderson, Ed.
Request for Comments: 8046                      University of Washington
Obsoletes: 5206                                                  C. Vogt
Category: Standards Track                                    Independent
ISSN: 2070-1721                                                 J. Arkko
                                                                Ericsson
                                                           February 2017
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                 T. Henderson, Ed.
Request for Comments: 8046                      University of Washington
Obsoletes: 5206                                                  C. Vogt
Category: Standards Track                                    Independent
ISSN: 2070-1721                                                 J. Arkko
                                                                Ericsson
                                                           February 2017
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-13">
Host Mobility with the Host Identity Protocol
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-13">
基于主机身份协议的主机移动性
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
摘要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document defines a mobility extension to the Host Identity Protocol (HIP). Specifically, this document defines a &#34;LOCATOR_SET&#34; parameter for HIP messages that allows for a HIP host to notify peers about alternate addresses at which it may be reached. This document also defines how the parameter can be used to preserve communications across a change to the IP address used by one or both peer hosts. The same LOCATOR_SET parameter can also be used to support end-host multihoming (as specified in RFC 8047). This document obsoletes RFC 5206.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档定义了主机标识协议（HIP）的移动性扩展。具体而言，本文档为HIP消息定义了一个“LOCATOR_SET”参数，该参数允许HIP主机通知对等方可能到达的备用地址。本文档还定义了如何使用该参数在一个或两个对等主机使用的IP地址发生更改时保持通信。相同的LOCATOR_SET参数也可用于支持端主机多主（如RFC 8047中所述）。本文件淘汰了RFC 5206。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
关于下段备忘
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This is an Internet Standards Track document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
这是一份互联网标准跟踪文件。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 7841.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件是互联网工程任务组（IETF）的产品。它代表了IETF社区的共识。它已经接受了公众审查，并已被互联网工程指导小组（IESG）批准出版。有关互联网标准的更多信息，请参见RFC 7841第2节。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc8046.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
有关本文件当前状态、任何勘误表以及如何提供反馈的信息，请访问http://www.rfc-editor.org/info/rfc8046.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
版权公告
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (c) 2017 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
版权所有（c）2017 IETF信托基金和确定为文件作者的人员。版权所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件受BCP 78和IETF信托有关IETF文件的法律规定的约束(http://trustee.ietf.org/license-info)自本文件出版之日起生效。请仔细阅读这些文件，因为它们描述了您对本文件的权利和限制。从本文件中提取的代码组件必须包括信托法律条款第4.e节中所述的简化BSD许可证文本，并提供简化BSD许可证中所述的无担保。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目录
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
   1.  Introduction and Scope  . . . . . . . . . . . . . . . . . . .   4
   2.  Terminology and Conventions . . . . . . . . . . . . . . . . .   4
   3.  Protocol Model  . . . . . . . . . . . . . . . . . . . . . . .   7
     3.1.  Operating Environment . . . . . . . . . . . . . . . . . .   7
       3.1.1.  Locator . . . . . . . . . . . . . . . . . . . . . . .   9
       3.1.2.  Mobility Overview . . . . . . . . . . . . . . . . . .   9
     3.2.  Protocol Overview . . . . . . . . . . . . . . . . . . . .  10
       3.2.1.  Mobility with a Single SA Pair (No Rekeying)  . . . .  10
       3.2.2.  Mobility with a Single SA Pair (Mobile-Initiated
               Rekey)  . . . . . . . . . . . . . . . . . . . . . . .  12
       3.2.3.  Mobility Messaging through the Rendezvous Server  . .  13
       3.2.4.  Network Renumbering . . . . . . . . . . . . . . . . .  14
     3.3.  Other Considerations  . . . . . . . . . . . . . . . . . .  14
       3.3.1.  Address Verification  . . . . . . . . . . . . . . . .  14
       3.3.2.  Credit-Based Authorization  . . . . . . . . . . . . .  15
       3.3.3.  Preferred Locator . . . . . . . . . . . . . . . . . .  16
   4.  LOCATOR_SET Parameter Format  . . . . . . . . . . . . . . . .  16
     4.1.  Traffic Type and Preferred Locator  . . . . . . . . . . .  18
     4.2.  Locator Type and Locator  . . . . . . . . . . . . . . . .  19
     4.3.  UPDATE Packet with Included LOCATOR_SET . . . . . . . . .  19
   5.  Processing Rules  . . . . . . . . . . . . . . . . . . . . . .  19
     5.1.  Locator Data Structure and Status . . . . . . . . . . . .  19
     5.2.  Sending the LOCATOR_SET . . . . . . . . . . . . . . . . .  21
     5.3.  Handling Received LOCATOR_SETs  . . . . . . . . . . . . .  22
     5.4.  Verifying Address Reachability  . . . . . . . . . . . . .  24
     5.5.  Changing the Preferred Locator  . . . . . . . . . . . . .  26
     5.6.  Credit-Based Authorization  . . . . . . . . . . . . . . .  26
       5.6.1.  Handling Payload Packets  . . . . . . . . . . . . . .  27
       5.6.2.  Credit Aging  . . . . . . . . . . . . . . . . . . . .  29
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .  29
     6.1.  Impersonation Attacks . . . . . . . . . . . . . . . . . .  30
     6.2.  Denial-of-Service Attacks . . . . . . . . . . . . . . . .  31
       6.2.1.  Flooding Attacks  . . . . . . . . . . . . . . . . . .  31
       6.2.2.  Memory/Computational-Exhaustion DoS Attacks . . . . .  32
     6.3.  Mixed Deployment Environment  . . . . . . . . . . . . . .  32
     6.4.  Privacy Concerns  . . . . . . . . . . . . . . . . . . . .  33
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  33
   8.  Differences from RFC 5206 . . . . . . . . . . . . . . . . . .  33
   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  35
     9.1.  Normative References  . . . . . . . . . . . . . . . . . .  35
     9.2.  Informative References  . . . . . . . . . . . . . . . . .  35
   Acknowledgments . . . . . . . . . . . . . . . . . . . . . . . . .  36
   Authors&#39; Addresses  . . . . . . . . . . . . . . . . . . . . . . .  37
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
   1.  Introduction and Scope  . . . . . . . . . . . . . . . . . . .   4
   2.  Terminology and Conventions . . . . . . . . . . . . . . . . .   4
   3.  Protocol Model  . . . . . . . . . . . . . . . . . . . . . . .   7
     3.1.  Operating Environment . . . . . . . . . . . . . . . . . .   7
       3.1.1.  Locator . . . . . . . . . . . . . . . . . . . . . . .   9
       3.1.2.  Mobility Overview . . . . . . . . . . . . . . . . . .   9
     3.2.  Protocol Overview . . . . . . . . . . . . . . . . . . . .  10
       3.2.1.  Mobility with a Single SA Pair (No Rekeying)  . . . .  10
       3.2.2.  Mobility with a Single SA Pair (Mobile-Initiated
               Rekey)  . . . . . . . . . . . . . . . . . . . . . . .  12
       3.2.3.  Mobility Messaging through the Rendezvous Server  . .  13
       3.2.4.  Network Renumbering . . . . . . . . . . . . . . . . .  14
     3.3.  Other Considerations  . . . . . . . . . . . . . . . . . .  14
       3.3.1.  Address Verification  . . . . . . . . . . . . . . . .  14
       3.3.2.  Credit-Based Authorization  . . . . . . . . . . . . .  15
       3.3.3.  Preferred Locator . . . . . . . . . . . . . . . . . .  16
   4.  LOCATOR_SET Parameter Format  . . . . . . . . . . . . . . . .  16
     4.1.  Traffic Type and Preferred Locator  . . . . . . . . . . .  18
     4.2.  Locator Type and Locator  . . . . . . . . . . . . . . . .  19
     4.3.  UPDATE Packet with Included LOCATOR_SET . . . . . . . . .  19
   5.  Processing Rules  . . . . . . . . . . . . . . . . . . . . . .  19
     5.1.  Locator Data Structure and Status . . . . . . . . . . . .  19
     5.2.  Sending the LOCATOR_SET . . . . . . . . . . . . . . . . .  21
     5.3.  Handling Received LOCATOR_SETs  . . . . . . . . . . . . .  22
     5.4.  Verifying Address Reachability  . . . . . . . . . . . . .  24
     5.5.  Changing the Preferred Locator  . . . . . . . . . . . . .  26
     5.6.  Credit-Based Authorization  . . . . . . . . . . . . . . .  26
       5.6.1.  Handling Payload Packets  . . . . . . . . . . . . . .  27
       5.6.2.  Credit Aging  . . . . . . . . . . . . . . . . . . . .  29
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .  29
     6.1.  Impersonation Attacks . . . . . . . . . . . . . . . . . .  30
     6.2.  Denial-of-Service Attacks . . . . . . . . . . . . . . . .  31
       6.2.1.  Flooding Attacks  . . . . . . . . . . . . . . . . . .  31
       6.2.2.  Memory/Computational-Exhaustion DoS Attacks . . . . .  32
     6.3.  Mixed Deployment Environment  . . . . . . . . . . . . . .  32
     6.4.  Privacy Concerns  . . . . . . . . . . . . . . . . . . . .  33
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  33
   8.  Differences from RFC 5206 . . . . . . . . . . . . . . . . . .  33
   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  35
     9.1.  Normative References  . . . . . . . . . . . . . . . . . .  35
     9.2.  Informative References  . . . . . . . . . . . . . . . . .  35
   Acknowledgments . . . . . . . . . . . . . . . . . . . . . . . . .  36
   Authors&#39; Addresses  . . . . . . . . . . . . . . . . . . . . . . .  37
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. Introduction and Scope
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. 导言和范围
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Host Identity Protocol (HIP) [RFC7401] supports an architecture that decouples the transport layer (TCP, UDP, etc.) from the internetworking layer (IPv4 and IPv6) by using public/private key pairs, instead of IP addresses, as host identities. When a host uses HIP, the overlying protocol sublayers (e.g., transport-layer sockets and Encapsulating Security Payload (ESP) Security Associations (SAs)) are instead bound to representations of these host identities, and the IP addresses are only used for packet forwarding. However, each host needs to also know at least one IP address at which its peers are reachable. Initially, these IP addresses are the ones used during the HIP base exchange.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
主机标识协议（HIP）[RFC7401]支持通过使用公钥/私钥对（而不是IP地址）作为主机标识，将传输层（TCP、UDP等）与互联网层（IPv4和IPv6）解耦的体系结构。当主机使用HIP时，覆盖的协议子层（例如，传输层套接字和封装安全有效负载（ESP）安全关联（SA））被绑定到这些主机标识的表示，并且IP地址仅用于数据包转发。但是，每个主机还需要知道至少一个可以访问其对等机的IP地址。最初，这些IP地址是HIP-base交换期间使用的IP地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
One consequence of such a decoupling is that new solutions to network-layer mobility and host multihoming are possible. There are potentially many variations of mobility and multihoming possible. The scope of this document encompasses messaging and elements of procedure for basic network-level host mobility, leaving more complicated mobility scenarios, multihoming, and other variations for further study. More specifically, the following are in scope:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
这种解耦的一个结果是，网络层移动性和主机多址的新解决方案成为可能。机动性和多归宿可能有很多变化。本文档的范围包括基本网络级主机移动性的消息传递和程序元素，留下更复杂的移动性场景、多归属和其他变体供进一步研究。更具体地说，范围包括以下内容：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
This document defines a LOCATOR_SET parameter for use in HIP messages. The LOCATOR_SET parameter allows a HIP host to notify a peer about alternate locators at which it is reachable. The locators may be merely IP addresses, or they may have additional multiplexing and demultiplexing context to aid with the packet handling in the lower layers. For instance, an IP address may need to be paired with an ESP Security Parameter Index (SPI) so that packets are sent on the correct SA for a given address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
本文档定义了用于HIP消息的定位器设置参数。LOCATOR_SET参数允许HIP主机通知对等机可访问的其他定位器。定位器可以仅仅是IP地址，或者它们可以具有附加的多路复用和解多路复用上下文以帮助在较低层中处理分组。例如，IP地址可能需要与ESP安全参数索引（SPI）配对，以便在给定地址的正确SA上发送数据包。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
This document also specifies the messaging and elements of procedure for end-host mobility of a HIP host. In particular, message flows to enable successful host mobility, including address verification methods, are defined herein.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
本文件还规定了HIP主机终端主机移动性的消息传递和程序要素。具体地，本文定义了用于实现成功主机移动性的消息流，包括地址验证方法。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
The HIP rendezvous server (RVS) [RFC8004] can be used to manage simultaneous mobility of both hosts, initial reachability of a mobile host, location privacy, and some modes of NAT traversal. Use of the HIP RVS to manage the simultaneous mobility of both hosts is specified herein.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
HIP rendezvous server（RVS）[RFC8004]可用于管理两台主机的同时移动性、移动主机的初始可达性、位置隐私以及NAT穿越的某些模式。本文规定使用HIP RVS管理两台主机的同时移动性。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following topics are out of scope:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
以下主题超出范围：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
While the same LOCATOR_SET parameter supports host multihoming (simultaneous use of a number of addresses), procedures for host multihoming are out of scope and are specified in [RFC8047].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
虽然相同的LOCATOR_SET参数支持主机多宿主（同时使用多个地址），但主机多宿主过程超出范围，并在[RFC8047]中指定。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
While HIP can potentially be used with transports other than the ESP transport format [RFC7402], this document largely assumes the use of ESP and leaves other transport formats for further study.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
虽然HIP可能用于ESP传输格式[RFC7402]以外的传输，但本文件主要假设使用ESP，并将其他传输格式留作进一步研究。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
We do not consider localized mobility management extensions (i.e., mobility management techniques that do not involve directly signaling the correspondent node); this document is concerned with end-to-end mobility.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
我们不考虑本地化的移动性管理扩展（即，不涉及直接通知对应节点的移动性管理技术）；本文档涉及端到端的移动性。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Finally, making underlying IP mobility transparent to the transport layer has implications on the proper response of transport congestion control, path MTU selection, and Quality of Service (QoS). Transport-layer mobility triggers, and the proper transport response to a HIP mobility or multihoming address change, are outside the scope of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
最后，使底层IP移动性对传输层透明将对传输拥塞控制、路径MTU选择和服务质量（QoS）的正确响应产生影响。传输层移动性触发器以及对HIP移动性或多宿地址更改的正确传输响应不在本文档范围内。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The main sections of this document are organized as follows. Section 3 provides a summary overview of operations, scenarios, and other considerations. Section 4 specifies the messaging parameter syntax. Section 5 specifies the processing rules for messages. Section 6 describes security considerations for this specification.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件的主要章节组织如下。第3节简要概述了操作、场景和其他注意事项。第4节指定了消息传递参数语法。第5节指定了消息的处理规则。第6节描述了本规范的安全注意事项。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. Terminology and Conventions
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. 术语和公约
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this document are to be interpreted as described in [RFC2119].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件中的关键词“必须”、“不得”、“必需”、“应”、“不应”、“应”、“不应”、“建议”、“可”和“可选”应按照[RFC2119]中所述进行解释。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
LOCATOR_SET. A HIP parameter containing zero or more Locator fields.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
定位器设置。包含零个或多个定位器字段的HIP参数。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
locator. A name that controls how the packet is routed through the network and demultiplexed by the end host. It may include a concatenation of traditional network addresses such as an IPv6 address and end-to-end identifiers such as an ESP SPI. It may also include transport port numbers or IPv6 Flow Labels as demultiplexing context, or it may simply be a network address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
定位器。控制数据包如何通过网络路由并由终端主机解复用的名称。它可以包括传统网络地址（如IPv6地址）和端到端标识符（如ESP SPI）的串联。它还可以包括传输端口号或IPv6流标签作为解复用上下文，也可以只是一个网络地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Locator. When capitalized in the middle of a sentence, this term refers to the encoding of a locator within the LOCATOR_SET parameter (i.e., the &#39;Locator&#39; field of the parameter).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
定位器。当在句子的中间大写时，这个术语指的是LoopAtter设置参数（即参数的‘定位器’字段）中的定位器的编码。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Address. A name that denotes a point of attachment to the network. The two most common examples are an IPv4 address and an IPv6 address. The set of possible addresses is a subset of the set of possible locators.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
住址表示网络连接点的名称。最常见的两个示例是IPv4地址和IPv6地址。可能地址集是可能定位器集的子集。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Preferred locator. A locator on which a host prefers to receive data. Certain locators are labeled as preferred when a host advertises its locator set to its peer. By default, the locators used in the HIP base exchange are the preferred locators. The use of preferred locators, including the scenario where multiple address scopes and families may be in use, is defined more in [RFC8047] than in this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
首选定位器。主机希望在其上接收数据的定位器。当主机向其对等机播发其定位器集时，某些定位器被标记为首选定位器。默认情况下，髋部基础交换中使用的定位器是首选定位器。[RFC8047]中比本文档中更多地定义了首选定位器的使用，包括可能使用多个地址范围和系列的场景。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Credit-Based Authorization (CBA). A mechanism allowing a host to send a certain amount of data to a peer&#39;s newly announced locator before the result of mandatory address verification is known.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
基于信用的授权（CBA）。一种机制，允许主机在知道强制地址验证的结果之前将一定数量的数据发送给对等方新公布的定位器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. Protocol Model
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. 协议模型
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section is an overview; a more detailed specification follows this section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节是一个概述；本节后面是更详细的规范。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1. Operating Environment
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1. 操作环境
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HIP [RFC7401] is a key establishment and parameter negotiation protocol. Its primary applications are for authenticating host messages based on host identities and establishing SAs for the ESP transport format [RFC7402] and possibly other protocols in the future.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HIP[RFC7401]是一个关键的建立和参数协商协议。它的主要应用是基于主机身份验证主机消息，并为ESP传输格式[RFC7402]和将来可能的其他协议建立SAs。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
    +--------------------+                       +--------------------+
    |                    |                       |                    |
    |   +------------+   |                       |   +------------+   |
    |   |    Key     |   |         HIP           |   |    Key     |   |
    |   | Management | &lt;-+-----------------------+-&gt; | Management |   |
    |   |  Process   |   |                       |   |  Process   |   |
    |   +------------+   |                       |   +------------+   |
    |         ^          |                       |         ^          |
    |         |          |                       |         |          |
    |         v          |                       |         v          |
    |   +------------+   |                       |   +------------+   |
    |   |   IPsec    |   |        ESP            |   |   IPsec    |   |
    |   |   Stack    | &lt;-+-----------------------+-&gt; |   Stack    |   |
    |   |            |   |                       |   |            |   |
    |   +------------+   |                       |   +------------+   |
    |                    |                       |                    |
    |                    |                       |                    |
    |     Initiator      |                       |     Responder      |
    +--------------------+                       +--------------------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
    +--------------------+                       +--------------------+
    |                    |                       |                    |
    |   +------------+   |                       |   +------------+   |
    |   |    Key     |   |         HIP           |   |    Key     |   |
    |   | Management | &lt;-+-----------------------+-&gt; | Management |   |
    |   |  Process   |   |                       |   |  Process   |   |
    |   +------------+   |                       |   +------------+   |
    |         ^          |                       |         ^          |
    |         |          |                       |         |          |
    |         v          |                       |         v          |
    |   +------------+   |                       |   +------------+   |
    |   |   IPsec    |   |        ESP            |   |   IPsec    |   |
    |   |   Stack    | &lt;-+-----------------------+-&gt; |   Stack    |   |
    |   |            |   |                       |   |            |   |
    |   +------------+   |                       |   +------------+   |
    |                    |                       |                    |
    |                    |                       |                    |
    |     Initiator      |                       |     Responder      |
    +--------------------+                       +--------------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-22">
Figure 1: HIP Deployment Model
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-22">
图1：髋关节展开模型
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The general deployment model for HIP is shown above, assuming operation in an end-to-end fashion. This document specifies an extension to HIP to enable end-host mobility. In summary, these extensions to the HIP base protocol enable the signaling of new addressing information to the peer in HIP messages. The messages are authenticated via a signature or keyed Hash Message Authentication Code (HMAC) based on its Host Identity (HI). This document specifies the format of this new addressing (LOCATOR_SET) parameter, the procedures for sending and processing this parameter to enable basic host mobility, and procedures for a concurrent address verification mechanism.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HIP的一般部署模型如上图所示，假设以端到端方式运行。本文档指定了对HIP的扩展，以实现终端主机移动性。总之，这些对HIP-base协议的扩展使得能够在HIP消息中向对等方发送新的寻址信息的信令。消息通过基于其主机标识（HI）的签名或密钥哈希消息认证码（HMAC）进行认证。本文件规定了该新寻址（LOCATOR_SET）参数的格式、发送和处理该参数以实现基本主机移动性的程序以及并发地址验证机制的程序。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
            ---------
            | TCP   |  (sockets bound to HITs)
            ---------
               |
            ---------
      ----&gt; | ESP   |  {HIT_s, HIT_d} &lt;-&gt; SPI
      |     ---------
      |         |
    ----    ---------
   | MH |-&gt; | HIP   |  {HIT_s, HIT_d, SPI} &lt;-&gt; {IP_s, IP_d, SPI}
    ----    ---------
               |
            ---------
            |  IP   |
            ---------
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
            ---------
            | TCP   |  (sockets bound to HITs)
            ---------
               |
            ---------
      ----&gt; | ESP   |  {HIT_s, HIT_d} &lt;-&gt; SPI
      |     ---------
      |         |
    ----    ---------
   | MH |-&gt; | HIP   |  {HIT_s, HIT_d, SPI} &lt;-&gt; {IP_s, IP_d, SPI}
    ----    ---------
               |
            ---------
            |  IP   |
            ---------
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
Figure 2: Architecture for HIP Host Mobility and Multihoming
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-7">
图2：HIP主机移动性和多主系统的体系结构
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Figure 2 depicts a layered architectural view of a HIP-enabled stack using the ESP transport format. In HIP, upper-layer protocols (including TCP and ESP in this figure) are bound to Host Identity Tags (HITs) and not IP addresses. The HIP sublayer is responsible for maintaining the binding between HITs and IP addresses. The SPI is used to associate an incoming packet with the right HITs. The block labeled &#34;MH&#34; corresponds to the function that manages the bindings at the ESP and HIP sublayers for mobility (specified in this document) and multihoming (specified in [RFC8047]).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
图2描述了使用ESP传输格式的支持HIP的堆栈的分层体系结构视图。在HIP中，上层协议（包括本图中的TCP和ESP）绑定到主机标识标签（HITs），而不是IP地址。HIP子层负责维护HITs和IP地址之间的绑定。SPI用于将传入数据包与正确的点击关联。标记为“MH”的块对应于管理ESP和HIP子层上的绑定以实现移动性（在本文档中指定）和多归宿（在[RFC8047]中指定）的功能。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Consider first the case in which there is no mobility or multihoming, as specified in the base protocol specification [RFC7401]. The HIP base exchange establishes the HITs in use between the hosts, the SPIs to use for ESP, and the IP addresses (used in both the HIP signaling packets and ESP data packets). Note that there can only be one such set of bindings in the outbound direction for any given packet, and the only fields used for the binding at the HIP layer are the fields exposed by ESP (the SPI and HITs). For the inbound direction, the SPI is all that is required to find the right host context. ESP rekeying events change the mapping between the HIT pair and SPI, but do not change the IP addresses.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
首先考虑在基本协议规范[RFC7401]中指定的没有移动性或多归属的情况。HIP基本交换建立主机之间正在使用的命中、ESP使用的SPI和IP地址（在HIP信令包和ESP数据包中使用）。请注意，对于任何给定的数据包，在出站方向上只能有一组这样的绑定，并且HIP层上用于绑定的唯一字段是ESP公开的字段（SPI和HITs）。对于入站方向，SPI是找到正确主机上下文所需的全部。ESP密钥更新事件会更改命中对和SPI之间的映射，但不会更改IP地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Consider next a mobility event, in which a host moves to another IP address. Two things need to occur in this case. First, the peer needs to be notified of the address change using a HIP UPDATE message. Second, each host needs to change its local bindings at the HIP sublayer (new IP addresses). It may be that both the SPIs and IP addresses are changed simultaneously in a single UPDATE; the protocol described herein supports this. Although internal notification of transport-layer protocols regarding the path change (e.g., to reset
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
考虑下一个移动性事件，其中主机移动到另一个IP地址。在这种情况下需要发生两件事。首先，需要使用HIP更新消息通知对等方地址更改。其次，每个主机都需要在HIP子层（新的IP地址）更改其本地绑定。可能是SPI和IP地址在一次更新中同时更改；本文描述的协议支持这一点。虽然传输层协议关于路径更改的内部通知（例如，重置
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
congestion control variables) may be desired, this specification does not address such internal notification. In addition, elements of procedure for traversing network address translators (NATs) and firewalls, including NATs and firewalls that may understand HIP, may complicate the above basic scenario and are not covered by this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
可能需要拥塞控制变量），本规范不处理此类内部通知。此外，用于穿越网络地址转换器（NAT）和防火墙的程序元素，包括可能理解HIP的NAT和防火墙，可能会使上述基本场景复杂化，本文档不包括这些元素。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1.1. Locator
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1.1. 定位器
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document defines a generalization of an address called a &#34;locator&#34;. A locator specifies a point of attachment to the network but may also include additional end-to-end tunneling or a per-host demultiplexing context that affects how packets are handled below the logical HIP sublayer of the stack. This generalization is useful because IP addresses alone may not be sufficient to describe how packets should be handled below HIP. For example, in a host multihoming context, certain IP addresses may need to be associated with certain ESP SPIs to avoid violating the ESP anti-replay window. Addresses may also be affiliated with transport ports in certain tunneling scenarios. Locators may simply be traditional network addresses. The format of the Locator fields in the LOCATOR_SET parameter is defined in Section 4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档定义了称为“定位器”的地址的泛化。定位器指定网络的连接点，但也可能包括附加的端到端隧道或每主机解复用上下文，这些上下文会影响在堆栈的逻辑HIP子层下如何处理数据包。这种泛化是有用的，因为IP地址本身可能不足以描述如何在HIP下处理数据包。例如，在主机多宿主上下文中，某些IP地址可能需要与某些ESP SPI关联，以避免违反ESP防重播窗口。在某些隧道方案中，地址也可能与传输端口关联。定位器可能只是传统的网络地址。定位器集合参数中定位器字段的格式在第4节中定义。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1.2. Mobility Overview
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1.2. 机动性概述
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a host moves to another address, it notifies its peer of the new address by sending a HIP UPDATE packet containing a single LOCATOR_SET parameter and a single ESP_INFO parameter. This UPDATE packet is acknowledged by the peer. For reliability in the presence of packet loss, the UPDATE packet is retransmitted as defined in the HIP specification [RFC7401]. The peer can authenticate the contents of the UPDATE packet based on the signature and keyed hash of the packet.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当主机移动到另一个地址时，它会通过发送包含单个定位器集参数和单个ESP信息参数的HIP更新数据包来通知其对等方新地址。对等方确认此更新数据包。为确保数据包丢失时的可靠性，更新数据包按照HIP规范[RFC7401]中的定义重新传输。对等方可以基于包的签名和密钥散列来认证更新包的内容。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When using the ESP transport format [RFC7402], the host may, at the same time, decide to rekey its security association and possibly generate a new Diffie-Hellman key; all of these actions are triggered by including additional parameters in the UPDATE packet, as defined in the base protocol specification [RFC7401] and ESP extension [RFC7402].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当使用ESP传输格式[RFC7402]时，主机可同时决定重新设置其安全关联的密钥，并可能生成新的Diffie-Hellman密钥；根据基本协议规范[RFC7401]和ESP扩展[RFC7402]中的定义，通过在更新数据包中包含附加参数来触发所有这些操作。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When using ESP (and possibly other transport modes in the future), the host is able to receive packets that are protected using a HIP-created ESP SA from any address. Thus, a host can change its IP address and continue to send packets to its peers without necessarily rekeying. However, the peers are not able to send packets to these new addresses before they can reliably and securely update the set of addresses that they associate with the sending host. Furthermore,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当使用ESP（以及将来可能的其他传输模式）时，主机能够从任何地址接收使用HIP创建的ESP SA保护的数据包。因此，主机可以更改其IP地址并继续向其对等方发送数据包，而无需重新设置密钥。然而，在对等方能够可靠且安全地更新与发送主机关联的地址集之前，它们无法将数据包发送到这些新地址。此外
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
mobility may change the path characteristics in such a manner that reordering occurs and packets fall outside the ESP anti-replay window for the SA, thereby requiring rekeying.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
移动性可以以这样的方式改变路径特征，即发生重新排序并且分组落在SA的ESP反重放窗口之外，因此需要重新键控。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2. Protocol Overview
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2. 协议概述
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this section, we briefly introduce a number of usage scenarios for HIP host mobility. These scenarios assume that HIP is being used with the ESP transform [RFC7402], although other scenarios may be defined in the future. To understand these usage scenarios, the reader should be at least minimally familiar with the HIP specification [RFC7401] and with the use of ESP with HIP [RFC7402]. According to these specifications, the data traffic in a HIP session is protected with ESP, and the ESP SPI acts as an index to the right host-to-host context. More specification details are found later in Sections 4 and 5.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在本节中，我们将简要介绍HIP主机移动性的一些使用场景。这些场景假设HIP正在与ESP转换[RFC7402]一起使用，尽管将来可能会定义其他场景。为了理解这些使用场景，读者至少应至少熟悉HIP规范[RFC7401]和ESP与HIP的使用[RFC7402]。根据这些规范，HIP会话中的数据流量受ESP保护，ESP SPI充当正确主机对主机上下文的索引。更多规范细节见下文第4节和第5节。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The scenarios below assume that the two hosts have completed a single HIP base exchange with each other. Therefore, both of the hosts have one incoming and one outgoing SA. Further, each SA uses the same pair of IP addresses, which are the ones used in the base exchange.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
下面的场景假设两台主机已相互完成一次HIP base交换。因此，两台主机都有一个传入和一个传出SA。此外，每个SA使用相同的IP地址对，这是在基本交换中使用的IP地址对。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The readdressing protocol is an asymmetric protocol where a mobile host informs a peer host about changes of IP addresses on affected SPIs. The readdressing exchange is designed to be piggybacked on existing HIP exchanges. In support of mobility, the LOCATOR_SET parameter is carried in UPDATE packets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
重新穿戴协议是一种非对称协议，其中移动主机通知对等主机受影响SPI上IP地址的更改。再换装交换的设计是以现有的髋关节交换为基础的。为了支持移动性，LOCATOR_SET参数在更新包中携带。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The scenarios below at times describe addresses as being in either an ACTIVE, UNVERIFIED, or DEPRECATED state. From the perspective of a host, newly learned addresses of the peer need to be verified before put into active service, and addresses removed by the peer are put into a deprecated state. Under limited conditions described below (Section 5.6), an UNVERIFIED address may be used. The addressing states are defined more formally in Section 5.1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
下面的场景有时将地址描述为处于活动、未验证或不推荐状态。从主机的角度来看，在将对等方的新学习地址投入活动服务之前，需要对其进行验证，并且对等方删除的地址会进入不推荐状态。在下述有限条件下（第5.6节），可使用未经验证的地址。第5.1节对寻址状态进行了更正式的定义。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Hosts that use link-local addresses as source addresses in their HIP handshakes may not be reachable by a mobile peer. Such hosts SHOULD provide a globally routable address either in the initial handshake or via the LOCATOR_SET parameter.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在HIP握手中使用链路本地地址作为源地址的主机可能无法被移动对等方访问。此类主机应在初始握手或通过LOCATOR_SET参数提供全局可路由地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.1. Mobility with a Single SA Pair (No Rekeying)
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.1. 具有单个SA对的移动性（无密钥更新）
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A mobile host sometimes needs to change an IP address bound to an interface. The change of an IP address might be needed due to a change in the advertised IPv6 prefixes on the link, a reconnected PPP link, a new DHCP lease, or an actual movement to another subnet. In order to maintain its communication context, the host needs to inform
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
移动主机有时需要更改绑定到接口的IP地址。由于链路上公布的IPv6前缀、重新连接的PPP链路、新的DHCP租约或实际移动到另一个子网，可能需要更改IP地址。为了维护其通信上下文，主机需要通知
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
its peers about the new IP address. This first example considers the case in which the mobile host has only one interface, one IP address in use within the HIP session, a single pair of SAs (one inbound, one outbound), and no rekeying occurring on the SAs. We also assume that the new IP addresses are within the same address family (IPv4 or IPv6) as the previous address. This is the simplest scenario, depicted in Figure 3. Note that the conventions for message parameter notations in figures (use of parentheses and brackets) is defined in Section 2.2 of [RFC7401].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
它的同龄人对新的IP地址感兴趣。第一个示例考虑移动主机只有一个接口、HIP会话中使用的一个IP地址、一对SAs（一个入站，一个出站），并且SAs上没有发生密钥更新的情况。我们还假设新的IP地址与前一个地址位于同一个地址族（IPv4或IPv6）中。这是最简单的场景，如图3所示。请注意，[RFC7401]第2.2节定义了图中消息参数符号的约定（使用括号和方括号）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
Mobile Host Peer Host
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
移动主机对等主机
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
             UPDATE(ESP_INFO, LOCATOR_SET, SEQ)
        -----------------------------------&gt;
             UPDATE(ESP_INFO, SEQ, ACK, ECHO_REQUEST)
        &lt;-----------------------------------
             UPDATE(ACK, ECHO_RESPONSE)
        -----------------------------------&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
             UPDATE(ESP_INFO, LOCATOR_SET, SEQ)
        -----------------------------------&gt;
             UPDATE(ESP_INFO, SEQ, ACK, ECHO_REQUEST)
        &lt;-----------------------------------
             UPDATE(ACK, ECHO_RESPONSE)
        -----------------------------------&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
Figure 3: Readdress without Rekeying but with Address Check
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
图3：不重新键入但带有地址检查的ReadAddress
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The steps of the packet processing are as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
分组处理的步骤如下：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. The mobile host may be disconnected from the peer host for a brief period of time while it switches from one IP address to another; this case is sometimes referred to in the literature as a &#34;break-before-make&#34; case. The host may also obtain its new IP address before losing the old one (&#34;make-before-break&#34; case). In either case, upon obtaining a new IP address, the mobile host sends a LOCATOR_SET parameter to the peer host in an UPDATE message. The UPDATE message also contains an ESP_INFO parameter containing the values of the old and new SPIs for a security association. In this case, both the OLD SPI and NEW SPI parameters are set to the value of the preexisting incoming SPI; this ESP_INFO does not trigger a rekeying event but is instead included for possible parameter-inspecting firewalls on the path ([RFC5207] specifies some such firewall scenarios in which the HIP-aware firewall may want to associate ESP flows to host identities). The LOCATOR_SET parameter contains the new IP address (embedded in a Locator Type of &#34;1&#34;, defined below) and a lifetime associated with the locator. The mobile host waits for this UPDATE to be acknowledged, and retransmits if necessary, as specified in the base specification [RFC7401].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 当移动主机从一个IP地址切换到另一个IP地址时，移动主机可以在短时间内与对等主机断开连接；这种情况有时在文献中被称为“先破后造”的情况。主机还可以在丢失旧IP地址之前获取其新IP地址（“先通后断”情况）。在任一情况下，在获得新的IP地址时，移动主机在更新消息中向对等主机发送LOCATOR_SET参数。更新消息还包含一个ESP_INFO参数，其中包含安全关联的旧SPI和新SPI的值。在这种情况下，旧SPI和新SPI参数都设置为先前存在的传入SPI的值；此ESP_信息不会触发密钥更新事件，而是包含在可能的参数中，用于检查路径上的防火墙（[RFC5207]指定了HIP感知防火墙可能希望将ESP流与主机标识关联的一些此类防火墙场景）。LOCATOR_SET参数包含新的IP地址（嵌入在下面定义的定位器类型“1”中）和与定位器关联的生存期。移动主机等待确认此更新，并根据基本规范[RFC7401]的规定，在必要时重新传输。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. The peer host receives the UPDATE, validates it, and updates any local bindings between the HIP association and the mobile host&#39;s destination address. The peer host MUST perform an address verification by placing a nonce in the ECHO_REQUEST parameter of the UPDATE message sent back to the mobile host. It also includes an ESP_INFO parameter with both the OLD SPI and NEW SPI parameters set to the value of the preexisting incoming SPI and sends this UPDATE (with piggybacked acknowledgment) to the mobile host at its new address. This UPDATE also acknowledges the mobile host&#39;s UPDATE that triggered the exchange. The peer host waits for its UPDATE to be acknowledged, and retransmits if necessary, as specified in the base specification [RFC7401]. The peer MAY use the new address immediately, but it MUST limit the amount of data it sends to the address until address verification completes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 对等主机接收更新，验证更新，并更新HIP关联和移动主机目标地址之间的任何本地绑定。对等主机必须通过在发送回移动主机的更新消息的ECHO_请求参数中放置nonce来执行地址验证。它还包括一个ESP_INFO参数，其中旧SPI和新SPI参数都设置为先前存在的传入SPI的值，并将此更新（带有piggybacked确认）发送到移动主机的新地址。此更新还确认触发交换的移动主机的更新。对等主机等待其更新被确认，并根据基本规范[RFC7401]中的规定在必要时重新传输。对等方可以立即使用新地址，但在地址验证完成之前，它必须限制发送到该地址的数据量。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. The mobile host completes the readdress by processing the UPDATE ACK and echoing the nonce in an ECHO_RESPONSE, containing the ACK of the peer&#39;s UPDATE. This UPDATE is not protected by a retransmission timer because it does not contain a SEQ parameter requesting acknowledgment. Once the peer host receives this ECHO_RESPONSE, it considers the new address to be verified and can put the address into full use.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. 移动主机通过处理更新确认并在包含对等方更新确认的ECHO_响应中回显nonce来完成重新寻址。此更新不受重传计时器的保护，因为它不包含请求确认的SEQ参数。一旦对等主机收到此ECHO_响应，它将认为新地址需要验证，并可以充分利用该地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
While the peer host is verifying the new address, the new address is marked as UNVERIFIED (in the interim), and the old address is DEPRECATED. Once the peer host has received a correct reply to its UPDATE challenge, it marks the new address as ACTIVE and removes the old address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当对等主机验证新地址时，新地址被标记为未验证（在此期间），旧地址被弃用。对等主机收到对其更新质询的正确答复后，会将新地址标记为活动地址并删除旧地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.2. Mobility with a Single SA Pair (Mobile-Initiated Rekey)
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.2. 使用单个SA对的移动性（移动启动的重新密钥）
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The mobile host may decide to rekey the SAs at the same time that it notifies the peer of the new address. In this case, the above procedure described in Figure 3 is slightly modified. The UPDATE message sent from the mobile host includes an ESP_INFO with the OLD SPI set to the previous SPI, the NEW SPI set to the desired new SPI value for the incoming SA, and the KEYMAT Index desired. Optionally, the host may include a DIFFIE_HELLMAN parameter for a new Diffie-Hellman key. The peer completes the request for a rekey as is normally done for HIP rekeying, except that the new address is kept as UNVERIFIED until the UPDATE nonce challenge is received as described above. Figure 4 illustrates this scenario.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
移动主机可以在通知对等方新地址的同时，决定为SAs重新设置密钥。在这种情况下，对图3中描述的上述程序稍作修改。从移动主机发送的更新消息包括ESP_信息，其中旧SPI设置为以前的SPI，新SPI设置为传入SA所需的新SPI值，以及所需的键盘索引。可选地，主机可以包括用于新DIFFIE-HELLMAN密钥的DIFFIE_-HELLMAN参数。对等方完成重设密钥的请求，与通常对HIP重设密钥所做的一样，除了新地址保持为未验证状态，直到如上所述接收到更新nonce质询。图4说明了这个场景。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
Mobile Host Peer Host
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
移动主机对等主机
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
             UPDATE(ESP_INFO, LOCATOR_SET, SEQ, [DIFFIE_HELLMAN])
        -----------------------------------&gt;
             UPDATE(ESP_INFO, SEQ, ACK, [DIFFIE_HELLMAN,] ECHO_REQUEST)
        &lt;-----------------------------------
             UPDATE(ACK, ECHO_RESPONSE)
        -----------------------------------&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
             UPDATE(ESP_INFO, LOCATOR_SET, SEQ, [DIFFIE_HELLMAN])
        -----------------------------------&gt;
             UPDATE(ESP_INFO, SEQ, ACK, [DIFFIE_HELLMAN,] ECHO_REQUEST)
        &lt;-----------------------------------
             UPDATE(ACK, ECHO_RESPONSE)
        -----------------------------------&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-14">
Figure 4: Readdress with Mobile-Initiated Rekey
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-14">
图4：使用移动启动的重新设置密钥进行重新设置
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.3. Mobility Messaging through the Rendezvous Server
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.3. 通过集合服务器发送移动消息
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Section 6.11 of [RFC7401] specifies procedures for sending HIP UPDATE packets. The UPDATE packets are protected by a timer subject to exponential backoff and resent UPDATE_RETRY_MAX times. It may be, however, that the peer is itself in the process of moving when the local host is trying to update the IP address bindings of the HIP association. This is sometimes called the &#34;double-jump&#34; mobility problem; each host&#39;s UPDATE packets are simultaneously sent to a stale address of the peer, and the hosts are no longer reachable from one another.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7401]第6.11节规定了发送HIP更新数据包的程序。更新数据包由一个计时器保护，该计时器受指数退避和重新更新\u重试\u最大次数的影响。然而，当本地主机试图更新HIP关联的IP地址绑定时，可能是对等机本身正在移动。这有时被称为“双跳”移动问题；每个主机的更新数据包同时发送到对等机的过时地址，并且主机之间不再可以访问。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The HIP Rendezvous Extension [RFC8004] specifies a rendezvous service that permits the I1 packet from the base exchange to be relayed from a stable or well-known public IP address location to the current IP address of the host. It is possible to support double-jump mobility with this rendezvous service if the following extensions to the specifications of [RFC8004] and [RFC7401] are followed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HIP Rendezvous Extension[RFC8004]指定了一种会合服务，该服务允许将来自基本交换机的I1数据包从稳定或已知的公共IP地址位置中继到主机的当前IP地址。如果遵循[RFC8004]和[RFC7401]规范的以下扩展，则此会合服务可能支持双跳移动。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. The mobile host sending an UPDATE to the peer, and not receiving an ACK, MAY resend the UPDATE to an RVS of the peer, if such a server is known. The host MAY try the RVS of the peer up to UPDATE_RETRY_MAX times as specified in [RFC7401]. The host MAY try to use the peer&#39;s RVS before it has tried UPDATE_RETRY_MAX times to the last working address (i.e., the RVS MAY be tried in parallel with retries to the last working address). The aggressiveness of a host replicating its UPDATEs to multiple destinations, to try candidates in parallel instead of serially, is a policy choice outside of this specification.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 向对等方发送更新而不接收ACK的移动主机可以将更新重新发送给对等方的RVS（如果这样的服务器是已知的）。主机可以按照[RFC7401]中的规定，尝试对等机的RVS更新\u重试\u最大次数。主机可能会在尝试更新\u重试\u最大次数到最后一个工作地址之前尝试使用对等方的RVS（即，RVS可能会与重试到最后一个工作地址并行进行）。主机将其更新复制到多个目的地以并行方式而不是串行方式尝试候选项的攻击性是本规范之外的策略选择。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. An RVS supporting the UPDATE forwarding extensions specified herein MUST modify the UPDATE in the same manner as it modifies the I1 packet before forwarding. Specifically, it MUST rewrite the IP header source and destination addresses, recompute the IP header checksum, and include the FROM and RVS_HMAC parameters.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 支持此处指定的更新转发扩展的RVS必须以转发前修改I1数据包的相同方式修改更新。具体来说，它必须重写IP报头源地址和目标地址，重新计算IP报头校验和，并包括FROM和RVS_HMAC参数。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. A host receiving an UPDATE packet MUST be prepared to process the FROM and RVS_HMAC parameters and MUST include a VIA_RVS parameter in the UPDATE reply that contains the ACK of the UPDATE SEQ.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. 接收更新数据包的主机必须准备好处理FROM和RVS_HMAC参数，并且必须在包含更新序列ACK的更新回复中包含VIA_RVS参数。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. An Initiator receiving a VIA_RVS in the UPDATE reply should initiate address reachability tests (described later in this document) towards the end host&#39;s address and not towards the address included in the VIA_RVS.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. 在更新回复中接收VIA_RVS的启动器应针对终端主机的地址而不是VIA_RVS中包含的地址启动地址可达性测试（本文档后面将介绍）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This scenario requires that hosts using RVSs also take steps to update their current address bindings with their RVS upon a mobility event. [RFC8004] does not specify how to update the RVS with a client host&#39;s new address. Section 3.2 of [RFC8003] describes how a host may send a REG_REQUEST in either an I2 packet (if there is no active association) or an UPDATE packet (if such association exists). According to procedures described in [RFC8003], if a mobile host has an active registration, it may use mobility updates specified herein, within the context of that association, to readdress the association.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此场景要求使用RVS的主机也采取步骤在移动事件发生时使用其RVS更新其当前地址绑定。[RFC8004]未指定如何使用客户端主机的新地址更新RVS。[RFC8003]的第3.2节描述了主机如何在I2数据包（如果没有活动关联）或更新数据包（如果存在此类关联）中发送注册请求。根据[RFC8003]中描述的过程，如果移动主机具有活动注册，则它可以在该关联的上下文中使用本文指定的移动更新来重新格式化该关联。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.4. Network Renumbering
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.4. 网络重新编号
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is expected that IPv6 networks will be renumbered much more often than most IPv4 networks. From an end-host point of view, network renumbering is similar to mobility, and procedures described herein also apply to notify a peer of a changed address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
预计IPv6网络将比大多数IPv4网络更频繁地重新编号。从终端主机的角度来看，网络重新编号类似于移动性，并且本文描述的过程也适用于通知对等方改变的地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3. Other Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3. 其他考虑
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3.1. Address Verification
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3.1. 地址验证
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a HIP host receives a set of locators from another HIP host in a LOCATOR_SET, it does not necessarily know whether the other host is actually reachable at the claimed addresses. In fact, a malicious peer host may be intentionally giving bogus addresses in order to cause a packet flood towards the target addresses [RFC4225]. Therefore, the HIP host needs to first check that the peer is reachable at the new address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当HIP主机从LOCATOR_集中的另一HIP主机接收到一组定位器时，它不一定知道另一主机是否在所声明的地址处实际可到达。事实上，恶意对等主机可能故意提供虚假地址，以导致数据包涌入目标地址[RFC4225]。因此，HIP主机需要首先检查对等方是否可以在新地址访问。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Address verification is implemented by the challenger sending some piece of unguessable information to the new address and waiting for some acknowledgment from the Responder that indicates reception of the information at the new address. This may include the exchange of a nonce or the generation of a new SPI and observation of data arriving on the new SPI. More details are found in Section 5.4 of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
地址验证是通过挑战者向新地址发送一些不可用的信息，并等待响应者的一些确认来实现的，该确认指示在新地址接收到信息。这可以包括nonce的交换或新SPI的生成以及对到达新SPI的数据的观察。更多详情见本文件第5.4节。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An additional potential benefit of performing address verification is to allow NATs and firewalls in the network along the new path to obtain the peer host&#39;s inbound SPI.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
执行地址验证的另一个潜在好处是允许网络中沿着新路径的NAT和防火墙获得对等主机的入站SPI。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3.2. Credit-Based Authorization
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3.2. 基于信用的授权
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CBA allows a host to securely use a new locator even though the peer&#39;s reachability at the address embedded in the locator has not yet been verified. This is accomplished based on the following three hypotheses:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CBA允许主机安全地使用新的定位器，即使尚未验证对等方在定位器中嵌入的地址的可达性。这是基于以下三个假设完成的：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. A flooding attacker typically seeks to somehow multiply the packets it generates for the purpose of its attack because bandwidth is an ample resource for many victims.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 洪水攻击者通常试图以某种方式将其生成的数据包乘以攻击目的，因为带宽对于许多受害者来说是一个充足的资源。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. An attacker can often cause unamplified flooding by sending packets to its victim, either by directly addressing the victim in the packets or by guiding the packets along a specific path by means of an IPv6 Routing header, if Routing headers are not filtered by firewalls.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 如果路由报头未被防火墙过滤，攻击者通常可以通过向其受害者发送数据包，直接在数据包中寻址受害者，或者通过IPv6路由报头沿特定路径引导数据包，从而导致未经扩展的洪泛。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. Consequently, the additional effort required to set up a redirection-based flooding attack (without CBA and return routability checks) would pay off for the attacker only if amplification could be obtained this way.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. 因此，设置基于重定向的泛洪攻击（无CBA和返回可路由性检查）所需的额外努力只有在以这种方式获得放大的情况下才能为攻击者带来回报。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
On this basis, rather than eliminating malicious packet redirection in the first place, CBA prevents amplifications. This is accomplished by limiting the data a host can send to an unverified address of a peer by the data recently received from that peer. Redirection-based flooding attacks thus become less attractive than, for example, pure direct flooding, where the attacker itself sends bogus packets to the victim.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在此基础上，CBA不是首先消除恶意数据包重定向，而是防止放大。这是通过限制主机可以通过最近从对等方接收的数据发送到对等方未验证地址的数据来实现的。因此，基于重定向的泛洪攻击不如纯粹的直接泛洪攻击吸引人，后者是攻击者自己向受害者发送虚假数据包。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Figure 5 illustrates CBA: Host B measures the amount of data recently received from peer A and, when A readdresses, sends packets to A&#39;s new, unverified address as long as the sum of the packet sizes does not exceed the measured, received data volume. When insufficient credit is left, B stops sending further packets to A until A&#39;s address becomes ACTIVE. The address changes may be due to mobility, multihoming, or any other reason. Not shown in Figure 5 are the results of credit aging (Section 5.6.2), a mechanism used to dampen possible time-shifting attacks.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
图5说明了CBA：主机B测量最近从对等方A接收的数据量，当A重新格式化时，只要数据包大小的总和不超过测量的接收数据量，就向A的新的未验证地址发送数据包。当信用不足时，B停止向A发送更多的数据包，直到A的地址变为活动状态。地址更改可能是由于移动性、多址或任何其他原因造成的。图5中未显示信贷老化的结果（第5.6.2节），这是一种用于抑制可能的时间转移攻击的机制。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           +-------+                        +-------+
           |   A   |                        |   B   |
           +-------+                        +-------+
               |                                |
       address |-------------------------------&gt;| credit += size(packet)
        ACTIVE |                                |
               |-------------------------------&gt;| credit += size(packet)
               |&lt;-------------------------------| do not change credit
               |                                |
               + address change                 |
               + address verification starts    |
       address |&lt;-------------------------------| credit -= size(packet)
    UNVERIFIED |-------------------------------&gt;| credit += size(packet)
               |&lt;-------------------------------| credit -= size(packet)
               |                                |
               |&lt;-------------------------------| credit -= size(packet)
               |                                X credit &lt; size(packet)
               |                                | =&gt; do not send packet!
               + address verification concludes |
       address |                                |
        ACTIVE |&lt;-------------------------------| do not change credit
               |                                |
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           +-------+                        +-------+
           |   A   |                        |   B   |
           +-------+                        +-------+
               |                                |
       address |-------------------------------&gt;| credit += size(packet)
        ACTIVE |                                |
               |-------------------------------&gt;| credit += size(packet)
               |&lt;-------------------------------| do not change credit
               |                                |
               + address change                 |
               + address verification starts    |
       address |&lt;-------------------------------| credit -= size(packet)
    UNVERIFIED |-------------------------------&gt;| credit += size(packet)
               |&lt;-------------------------------| credit -= size(packet)
               |                                |
               |&lt;-------------------------------| credit -= size(packet)
               |                                X credit &lt; size(packet)
               |                                | =&gt; do not send packet!
               + address verification concludes |
       address |                                |
        ACTIVE |&lt;-------------------------------| do not change credit
               |                                |
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-22">
Figure 5: Readdressing Scenario
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-22">
图5：重新着装场景
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document does not specify how to set the credit limit value, but the goal is to allow data transfers to proceed without much interruption while the new address is verified. A simple heuristic to accomplish this, if the sender knows roughly its round-trip time (RTT) and current sending rate to the host, is to allow enough credit to support maintaining the sending rate for a duration corresponding to two or three RTTs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档未指定如何设置信用额度值，但其目的是在验证新地址时，允许数据传输在不中断的情况下进行。如果发送方大致知道其往返时间（RTT）和到主机的当前发送速率，那么实现这一点的一个简单启发式方法是允许足够的信用来支持在对应于两个或三个RTT的持续时间内保持发送速率。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3.3. Preferred Locator
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3.3. 首选定位器
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a host has multiple locators, the peer host needs to decide which to use for outbound packets. It may be that a host would prefer to receive data on a particular inbound interface. HIP allows a particular locator to be designated as a preferred locator and communicated to the peer (see Section 4).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当主机有多个定位器时，对等主机需要决定使用哪个定位器来输出数据包。主机可能更希望在特定的入站接口上接收数据。HIP允许将特定定位器指定为首选定位器并与对等方通信（参见第4节）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. LOCATOR_SET Parameter Format
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. 定位器设置参数格式
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The LOCATOR_SET parameter has a type number value that is considered to be a &#34;critical parameter&#34; as per the definition in [RFC7401]; such parameter types MUST be recognized and processed by the recipient. The parameter consists of the standard HIP parameter Type and Length fields, plus zero or more Locator sub-parameters. Each Locator sub-
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
LOCATOR_SET参数的类型编号值根据[RFC7401]中的定义被视为“关键参数”；收件人必须识别和处理此类参数类型。该参数由标准HIP参数类型和长度字段以及零个或多个定位器子参数组成。每个定位器子模块-
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
parameter contains a Traffic Type, Locator Type, Locator Length, preferred locator bit (&#34;P&#34; bit), Locator Lifetime, and a Locator encoding. A LOCATOR_SET containing zero Locator fields is permitted but has the effect of deprecating all addresses.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
参数包含流量类型、定位器类型、定位器长度、首选定位器位（“P”位）、定位器寿命和定位器编码。允许使用包含零定位器字段的定位器集，但其效果是拒绝使用所有地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |             Type              |            Length             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Traffic Type   | Locator Type | Locator Length | Reserved   |P|
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                       Locator Lifetime                        |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                            Locator                            |
       |                                                               |
       |                                                               |
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       .                                                               .
       .                                                               .
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Traffic Type   | Locator Type | Locator Length | Reserved   |P|
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                       Locator Lifetime                        |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                            Locator                            |
       |                                                               |
       |                                                               |
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |             Type              |            Length             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Traffic Type   | Locator Type | Locator Length | Reserved   |P|
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                       Locator Lifetime                        |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                            Locator                            |
       |                                                               |
       |                                                               |
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       .                                                               .
       .                                                               .
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | Traffic Type   | Locator Type | Locator Length | Reserved   |P|
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                       Locator Lifetime                        |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                            Locator                            |
       |                                                               |
       |                                                               |
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-18">
Figure 6: LOCATOR_SET Parameter Format
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-18">
图6：定位器设置参数格式
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Type: 193
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
类型：193
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Length: Length in octets, excluding Type and Length fields, and excluding padding.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
长度：以八位字节为单位的长度，不包括类型和长度字段，也不包括填充。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Traffic Type: Defines whether the locator pertains to HIP signaling, user data, or both.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
流量类型：定义定位器是否属于HIP信令、用户数据或两者。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Locator Type: Defines the semantics of the Locator field.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
定位器类型：定义定位器字段的语义。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Locator Length: Defines the length of the Locator field, in units of 4-byte words (Locators up to a maximum of 4*255 octets are supported).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
定位器长度：以4字节字为单位定义定位器字段的长度（最多支持4*255个八位字节的定位器）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Reserved: Zero when sent, ignored when received.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
保留：发送时为零，接收时忽略。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
P: Preferred locator. Set to one if the locator is preferred for that Traffic Type; otherwise, set to zero.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
首选定位器。如果定位器是该交通类型的首选定位器，则设置为1；否则，设置为零。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Locator Lifetime: Lifetime of the locator, in seconds.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
定位器寿命：定位器的寿命，以秒为单位。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Locator: The locator whose semantics and encoding are indicated by the Locator Type field. All sub-fields of the Locator field are integral multiples of four octets in length.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
定位器：其语义和编码由定位器类型字段指示的定位器。定位器字段的所有子字段都是四个八位字节长度的整数倍。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Locator Lifetime (lifetime) indicates how long the following locator is expected to be valid. The lifetime is expressed in seconds. Each locator MUST have a non-zero lifetime. The address is expected to become deprecated when the specified number of seconds has passed since the reception of the message. A deprecated address SHOULD NOT be used as a destination address if an alternate (non-deprecated) is available and has sufficient address scope.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
定位器生存期（Lifetime）指示以下定位器预期有效的时间。寿命以秒表示。每个定位器必须具有非零生存期。当收到消息后经过指定的秒数时，该地址将被弃用。如果备用（未弃用）地址可用且具有足够的地址范围，则不应将弃用的地址用作目标地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1. Traffic Type and Preferred Locator
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1. 流量类型和首选定位器
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following Traffic Type values are defined:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
定义了以下流量类型值：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
0: Both signaling (HIP control packets) and user data.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
0：信令（HIP控制数据包）和用户数据。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1: Signaling packets only.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1：仅信令数据包。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2: Data packets only.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2：仅限数据包。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The &#34;P&#34; bit, when set, has scope over the corresponding Traffic Type. That is, when a &#34;P&#34; bit is set for Traffic Type &#34;2&#34;, for example, it means that the locator is preferred for data packets. If there is a conflict (for example, if the &#34;P&#34; bit is set for an address of Type &#34;0&#34; and a different address of Type &#34;2&#34;), the more specific Traffic Type rule applies (in this case, &#34;2&#34;). By default, the IP addresses used in the base exchange are preferred locators for both signaling and user data, unless a new preferred locator supersedes them. If no locators are indicated as preferred for a given Traffic Type, the implementation may use an arbitrary destination locator from the set of active locators.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
设置“P”位时，其作用域超过相应的通信量类型。也就是说，例如，当为业务类型“2”设置“P”位时，这意味着对于数据分组优选定位器。如果存在冲突（例如，如果为类型为“0”的地址和类型为“2”的不同地址设置了“P”位），则应用更具体的通信量类型规则（在本例中为“2”）。默认情况下，基本交换中使用的IP地址是信令和用户数据的首选定位器，除非新的首选定位器取代它们。如果没有定位器被指示为给定业务类型的优选定位器，则实现可以使用来自活动定位器集合的任意目的地定位器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2. Locator Type and Locator
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2. 定位器类型和定位器
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following Locator Type values are defined, along with the associated semantics of the Locator field:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
定义了以下定位器类型值以及定位器字段的关联语义：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
0: An IPv6 address or an IPv4-in-IPv6 format IPv4 address [RFC4291] (128 bits long). This Locator Type is defined primarily for non-ESP-based usage.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
0:IPv6地址或IPv6格式的IPv4地址[RFC4291]（128位长）。此定位器类型主要用于非基于ESP的用途。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1: The concatenation of an ESP SPI (first 32 bits) followed by an IPv6 address or an IPv4-in-IPv6 format IPv4 address (an additional 128 bits). This IP address is defined primarily for ESP-based usage.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1：ESP SPI（前32位）后跟IPv6地址或IPv4-in-IPv6格式IPv4地址（附加128位）的级联。此IP地址主要是为基于ESP的使用而定义的。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.3. UPDATE Packet with Included LOCATOR_SET
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.3. 使用包含的定位器集更新数据包
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A number of combinations of parameters in an UPDATE packet are possible (e.g., see Section 3.2). In this document, procedures are defined only for the case in which one LOCATOR_SET and one ESP_INFO parameter are used in any HIP packet. Any UPDATE packet that includes a LOCATOR_SET parameter SHOULD include both an HMAC and a HIP_SIGNATURE parameter.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
更新数据包中的参数组合是可能的（例如，见第3.2节）。在本文件中，程序仅适用于在任何HIP数据包中使用一个定位器集和一个ESP信息参数的情况。任何包含LOCATOR_SET参数的更新数据包都应该同时包含HMAC和HIP_签名参数。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The UPDATE MAY also include a HOST_ID parameter (which may be useful for HIP-aware firewalls inspecting the HIP messages for the first time). If the UPDATE includes the HOST_ID parameter, the receiving host MUST verify that the HOST_ID corresponds to the HOST_ID that was used to establish the HIP association, and the HIP_SIGNATURE MUST verify with the public key associated with this HOST_ID parameter.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
更新还可能包括一个HOST_ID参数（这对于第一次检查HIP消息的HIP感知防火墙可能很有用）。如果更新包含HOST_ID参数，则接收主机必须验证HOST_ID是否对应于用于建立HIP关联的HOST_ID，并且HIP_签名必须使用与此HOST_ID参数关联的公钥进行验证。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The relationship between the announced Locators and any ESP_INFO parameters present in the packet is defined in Section 5.2. This document does not support any elements of procedure for sending more than one LOCATOR_SET or ESP_INFO parameter in a single UPDATE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
第5.2节定义了公布的定位器与数据包中存在的任何ESP_信息参数之间的关系。本文档不支持在一次更新中发送多个定位器集或ESP INFO参数的任何过程元素。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. Processing Rules
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. 处理规则
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section describes rules for sending and receiving the LOCATOR_SET parameter, testing address reachability, and using CBA on UNVERIFIED locators.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节描述发送和接收LOCATOR_SET参数、测试地址可达性以及在未验证的定位器上使用CBA的规则。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. Locator Data Structure and Status
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. 定位器数据结构和状态
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Each locator announced in a LOCATOR_SET parameter is represented by a piece of state that contains the following data:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
locator_SET参数中宣布的每个定位器由包含以下数据的一段状态表示：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the actual bit pattern representing the locator,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 表示定位器的实际位模式，
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the lifetime (seconds),
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 寿命（秒），
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the status (UNVERIFIED, ACTIVE, DEPRECATED),
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 状态（未验证、活动、不推荐），
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o the Traffic Type scope of the locator, and
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 定位器的流量类型范围，以及
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o whether the locator is preferred for any particular scope.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 定位器是否适用于任何特定范围。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The status is used to track the reachability of the address embedded within the LOCATOR_SET parameter:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
状态用于跟踪LOCATOR_SET参数中嵌入的地址的可达性：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
UNVERIFIED: indicates that the reachability of the address has not been verified yet,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
未验证：表示地址的可达性尚未验证，
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ACTIVE: indicates that the reachability of the address has been verified and the address has not been deprecated, and
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
活动：表示已验证地址的可访问性，且地址未被弃用，以及
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
DEPRECATED: indicates that the locator&#39;s lifetime has expired.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
不推荐：表示定位器的生存期已过期。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following state changes are allowed:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
允许以下状态更改：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
UNVERIFIED to ACTIVE: The reachability procedure completes successfully.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
未验证为活动：可达性过程成功完成。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
UNVERIFIED to DEPRECATED: The locator&#39;s lifetime expires while the locator is UNVERIFIED.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
未验证到不推荐：定位器未验证时，定位器的生存期过期。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ACTIVE to DEPRECATED: The locator&#39;s lifetime expires while the locator is ACTIVE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
活动到不推荐：定位器处于活动状态时，定位器的生存期将过期。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ACTIVE to UNVERIFIED: There has been no traffic on the address for some time, and the local policy mandates that the address reachability needs to be verified again before starting to use it again.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
从活动到未验证：地址上已经有一段时间没有通信了，本地政策要求在再次开始使用地址之前，需要再次验证地址的可达性。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
DEPRECATED to UNVERIFIED: The host receives a new lifetime for the locator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
已弃用为未验证：主机接收定位器的新生存期。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A DEPRECATED address MUST NOT be changed to ACTIVE without first verifying its reachability.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在未首先验证其可访问性之前，不得将不推荐使用的地址更改为活动地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that the state of whether or not a locator is preferred is not necessarily the same as the value of the preferred bit in the Locator sub-parameter received from the peer. Peers may recommend certain locators to be preferred, but the decision on whether to actually use a locator as a preferred locator is a local decision, possibly influenced by local policy.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注意，定位器是否优选的状态不一定与从对等方接收的定位器子参数中的优选比特的值相同。对等方可能会推荐某些定位器作为首选定位器，但关于是否实际使用定位器作为首选定位器的决定是本地决定，可能受本地策略的影响。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In addition to state maintained about status and remaining lifetime for each locator learned from the peer, an implementation would typically maintain similar state about its own locators that have been offered to the peer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
除了维护关于从对等方学习的每个定位器的状态和剩余生存期的状态外，实现通常将维护关于其自身定位器的类似状态，这些定位器已经提供给对等方。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A locator lifetime that is unbounded (does not expire) can be signified by setting the value of the lifetime field to the maximum (unsigned) value.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
可以通过将lifetime字段的值设置为最大（无符号）值来表示无边界（未过期）的定位器生存期。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Finally, the locators used to establish the HIP association are by default assumed to be the initial preferred locators in ACTIVE state, with an unbounded lifetime.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
最后，默认情况下，用于建立髋关节关联的定位器被假定为处于活动状态的初始首选定位器，具有无限的使用寿命。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2. Sending the LOCATOR_SET
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2. 正在发送定位器集
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The decision of when to send the LOCATOR_SET is a local policy issue. However, it is RECOMMENDED that a host send a LOCATOR_SET whenever it recognizes a change of its IP addresses in use on an active HIP association and assumes that the change is going to last at least for a few seconds. Rapidly sending LOCATOR_SETs that force the peer to change the preferred address SHOULD be avoided.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
何时发送定位器集是本地策略问题。但是，建议主机在识别到活动HIP关联上使用的IP地址发生更改时发送定位器集，并假设更改至少持续几秒钟。应避免快速发送定位器_集，迫使对等方更改首选地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The sending of a new LOCATOR_SET parameter replaces the locator information from any previously sent LOCATOR_SET parameter; therefore, if a host sends a new LOCATOR_SET parameter, it needs to continue to include all active locators. Hosts MUST NOT announce broadcast or multicast addresses in LOCATOR_SETs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
发送新的定位器集参数替换先前发送的定位器集参数中的定位器信息；因此，如果主机发送新的LOCATOR_SET参数，则需要继续包括所有活动的定位器。主机不得在定位器_集中宣布广播或多播地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
We now describe a few cases introduced in Section 3.2. We assume that the Traffic Type for each locator is set to &#34;0&#34; (other values for Traffic Type may be specified in documents that separate the HIP control plane from data-plane traffic). Other mobility cases are possible but are left for further study.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
我们现在描述第3.2节中介绍的几个案例。我们假设每个定位器的交通类型设置为“0”（交通类型的其他值可以在分离HIP控制平面和数据平面交通的文档中指定）。其他移动性案例是可能的，但有待进一步研究。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. Host mobility with no multihoming and no rekeying. The mobile host creates a single UPDATE containing a single ESP_INFO with a single LOCATOR_SET parameter. The ESP_INFO contains the current value of the SPI in both the OLD SPI and NEW SPI fields. The LOCATOR_SET contains a single Locator with a Locator Type of &#34;1&#34;; the SPI MUST match that of the ESP_INFO. The preferred bit SHOULD be set and the &#34;Locator Lifetime&#34; is set according to local policy. The UPDATE also contains a SEQ parameter as usual. This packet is retransmitted as defined in the HIP specification [RFC7401]. The UPDATE should be sent to the peer&#39;s preferred IP address with an IP source address corresponding to the address in the LOCATOR_SET parameter.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 主机移动性，无多宿和密钥更新。移动主机创建一个更新，其中包含一个ESP\u信息和一个LOCATOR\u SET参数。ESP_信息在旧SPI和新SPI字段中都包含SPI的当前值。定位器集合包含一个定位器类型为“1”的单个定位器；SPI必须与ESP\U信息的SPI匹配。应设置首选位，并根据本地策略设置“定位器寿命”。与往常一样，更新还包含一个SEQ参数。按照HIP规范[RFC7401]中的定义重新传输该数据包。更新应发送到对等方的首选IP地址，其IP源地址与LOCATOR_SET参数中的地址相对应。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. Host mobility with no multihoming but with rekeying. The mobile host creates a single UPDATE containing a single ESP_INFO with a single LOCATOR_SET parameter (with a single address). The ESP_INFO contains the current value of the SPI in the OLD SPI, the new value of the SPI in the NEW SPI, and a KEYMAT Index as selected by local policy. Optionally, the host may choose to initiate a Diffie-Hellman rekey by including a DIFFIE_HELLMAN parameter. The LOCATOR_SET contains a single Locator with a Locator Type of &#34;1&#34;; the SPI MUST match that of the NEW SPI in the ESP_INFO. Otherwise, the steps are identical to the case in which no rekeying is initiated.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 主机移动性，不需要多宿，但需要重新设置密钥。移动主机创建一个更新，其中包含一个ESP\u信息和一个LOCATOR\u SET参数（带有一个地址）。ESP_信息包含旧SPI中SPI的当前值、新SPI中SPI的新值以及本地策略选择的KEYMAT索引。可选地，主机可以选择通过包括Diffie_-Hellman参数来启动Diffie-Hellman重设密钥。定位器集合包含一个定位器类型为“1”的单个定位器；SPI必须与ESP\U信息中的新SPI匹配。否则，这些步骤与不启动密钥更新的情况相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3. Handling Received LOCATOR_SETs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3. 处理接收到的定位器集
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A host SHOULD be prepared to receive a single LOCATOR_SET parameter in a HIP UPDATE packet. Reception of multiple LOCATOR_SET parameters in a single packet, or in HIP packets other than UPDATE, is outside of the scope of this specification.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
主机应准备好接收HIP更新数据包中的单个定位器设置参数。在单个数据包或HIP数据包（更新除外）中接收多个定位器设置参数超出本规范的范围。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Because a host sending the LOCATOR_SET may send the same parameter in different UPDATE messages to different destination addresses, including possibly the RVS of the host, the host receiving the LOCATOR_SET MUST be prepared to handle the possibility of duplicate LOCATOR_SETs sent to more than one of the host&#39;s addresses. As a result, the host MUST detect and avoid reprocessing a LOCATOR_SET parameter that is redundant with a LOCATOR_SET parameter that has been recently received and processed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
因为发送定位器集的主机可能会在不同的更新消息中将相同的参数发送到不同的目标地址，可能包括主机的RVS，所以接收定位器集的主机必须准备好处理将重复定位器集发送到多个主机地址的可能性。因此，主机必须检测并避免重新处理与最近接收和处理的定位器集参数冗余的定位器集参数。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes sending both ESP_INFO and LOCATOR_SET parameters in an UPDATE. The ESP_INFO parameter is included when there is a need to rekey or key a new SPI, and is otherwise included for the possible benefit of HIP-aware NATs and firewalls. The LOCATOR_SET parameter contains a complete listing of the locators that the host wishes to make or keep active for the HIP association.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档介绍在更新中发送ESP_信息和定位器_设置参数。ESP_INFO参数包含在需要重新设置或设置新SPI的密钥时，另外还包含在HIP感知NAT和防火墙中。LOCATOR_SET参数包含宿主希望为髋部关联创建或保持活动状态的定位器的完整列表。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In general, the processing of a LOCATOR_SET depends upon the packet type in which it is included. Here, we describe only the case in which ESP_INFO is present and a single LOCATOR_SET and ESP_INFO are sent in an UPDATE message; other cases are for further study. The steps below cover each of the cases described in Section 5.2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
通常，定位器集合的处理取决于其所包括的分组类型。这里，我们仅描述存在ESP_信息并且在更新消息中发送单个定位器_集和ESP_信息的情况；其他案例有待进一步研究。以下步骤涵盖第5.2节所述的每种情况。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The processing of ESP_INFO and LOCATOR_SET parameters is intended to be modular and support future generalization to the inclusion of multiple ESP_INFO and/or multiple LOCATOR_SET parameters. A host SHOULD first process the ESP_INFO before the LOCATOR_SET, since the ESP_INFO may contain a new SPI value mapped to an existing SPI, while a Locator Type of &#34;1&#34; will only contain a reference to the new SPI.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ESP_信息和定位器_集参数的处理旨在模块化，并支持将来的通用化，以包括多个ESP_信息和/或多个定位器_集参数。主机应在设置定位器之前首先处理ESP_信息，因为ESP_信息可能包含映射到现有SPI的新SPI值，而定位器类型“1”将仅包含对新SPI的引用。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a host receives a validated HIP UPDATE with a LOCATOR_SET and ESP_INFO parameter, it processes the ESP_INFO as follows. The ESP_INFO parameter indicates whether an SA is being rekeyed, created, deprecated, or just identified for the benefit of HIP-aware NATs and firewalls. The host examines the OLD SPI and NEW SPI values in the ESP_INFO parameter:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当主机接收到带有定位器集和ESP\U信息参数的已验证髋部更新时，它将按如下方式处理ESP\U信息。ESP_INFO参数表示SA是否正在被重新设置密钥、创建、弃用，或者只是为了使用HIP感知NAT和防火墙而被识别。主机检查ESP_INFO参数中的旧SPI和新SPI值：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. (no rekeying) If the OLD SPI is equal to the NEW SPI and both correspond to an existing SPI, the ESP_INFO is gratuitous (provided for HIP-aware NATs and firewalls) and no rekeying is necessary.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. （无密钥更新）如果旧的SPI等于新的SPI，并且两者都对应于现有的SPI，则ESP_信息是免费的（为支持HIP的NAT和防火墙提供），无需密钥更新。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. (rekeying) If the OLD SPI indicates an existing SPI and the NEW SPI is a different non-zero value, the existing SA is being rekeyed and the host follows HIP ESP rekeying procedures by creating a new outbound SA with an SPI corresponding to the NEW SPI, with no addresses bound to this SPI. Note that locators in the LOCATOR_SET parameter will reference this new SPI instead of the old SPI.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. （重设密钥）如果旧SPI指示现有SPI，而新SPI是不同的非零值，则现有SA将被重设密钥，主机将通过创建一个新的出站SA，该出站SA具有与新SPI对应的SPI，并且没有地址绑定到此SPI，从而遵循HIP ESP重设密钥的过程。请注意，LOCATOR_SET参数中的定位器将引用此新SPI，而不是旧SPI。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. (new SA) If the OLD SPI value is zero and the NEW SPI is a new non-zero value, then a new SA is being requested by the peer. This case is also treated like a rekeying event; the receiving host MUST create a new SA and respond with an UPDATE ACK.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. （新SA）如果旧SPI值为零，而新SPI为新的非零值，则对等方正在请求新SA。这种情况也被视为一个重新键入事件；接收主机必须创建一个新SA并用更新确认进行响应。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. (deprecating the SA) If the OLD SPI indicates an existing SPI and the NEW SPI is zero, the SA is being deprecated and all locators uniquely bound to the SPI are put into the DEPRECATED state.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. （弃用SA）如果旧SPI指示现有SPI，而新SPI为零，则SA将弃用，并且唯一绑定到SPI的所有定位器将处于弃用状态。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If none of the above cases apply, a protocol error has occurred and the processing of the UPDATE is stopped.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果上述情况均不适用，则会发生协议错误并停止更新处理。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Next, the locators in the LOCATOR_SET parameter are processed. For each locator listed in the LOCATOR_SET parameter, check that the address therein is a legal unicast or anycast address. That is, the address MUST NOT be a broadcast or multicast address. Note that some implementations MAY accept addresses that indicate the local host, since it may be allowed that the host runs HIP with itself.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
接下来，处理LOCATOR_SET参数中的定位器。对于locator_SET参数中列出的每个定位器，请检查其中的地址是否为合法的单播或选播地址。也就是说，地址不能是广播或多播地址。请注意，一些实现可能接受指示本地主机的地址，因为可能允许主机自身运行HIP。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The below assumes that all Locators are of Type &#34;1&#34; with a Traffic Type of &#34;0&#34;; other cases are for further study.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
以下假设所有定位器类型为“1”，流量类型为“0”；其他案例有待进一步研究。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For each Type &#34;1&#34; address listed in the LOCATOR_SET parameter, the host checks whether the address is already bound to the SPI indicated. If the address is already bound, its lifetime is updated. If the status of the address is DEPRECATED, the status is changed to UNVERIFIED. If the address is not already bound, the address is
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于LOCATOR_SET参数中列出的每种类型的“1”地址，主机将检查该地址是否已绑定到指定的SPI。如果地址已绑定，则更新其生存期。如果地址的状态不推荐使用，则状态将更改为未验证。如果地址尚未绑定，则该地址为
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
added, and its status is set to UNVERIFIED. Mark all addresses corresponding to the SPI that were NOT listed in the LOCATOR_SET parameter as DEPRECATED.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
已添加，并且其状态设置为未验证。将LOCATOR_SET参数中未列出的与SPI相对应的所有地址标记为已弃用。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As a result, at the end of processing, the addresses listed in the LOCATOR_SET parameter have a state of either UNVERIFIED or ACTIVE, and any old addresses on the old SA not listed in the LOCATOR_SET parameter have a state of DEPRECATED.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
因此，在处理结束时，LOCATOR_集参数中列出的地址的状态为未验证或活动，而LOCATOR_集参数中未列出的旧SA上的任何旧地址的状态为不推荐。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Once the host has processed the locators, if the LOCATOR_SET parameter contains a new preferred locator, the host SHOULD initiate a change of the preferred locator. This requires that the host first verify reachability of the associated address, and only then change the preferred locator; see Section 5.5.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
一旦主机处理了定位器，如果LOCATOR_SET参数包含新的首选定位器，则主机应启动首选定位器的更改。这要求主机首先验证关联地址的可达性，然后才更改首选定位器；见第5.5节。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If a host receives a locator with an unsupported Locator Type, and when such a locator is also declared to be the preferred locator for the peer, the host SHOULD send a NOTIFY error with a Notify Message Type of LOCATOR_TYPE_UNSUPPORTED, with the Notification Data field containing the locator(s) that the receiver failed to process. Otherwise, a host MAY send a NOTIFY error if a (non-preferred) locator with an unsupported Locator Type is received in a LOCATOR_SET parameter.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果主机接收到具有不支持的定位器类型的定位器，并且当该定位器也被声明为对等方的首选定位器时，主机应发送通知错误，通知消息类型为locator_Type_unsupported，通知数据字段包含接收方未能处理的定位器。否则，如果在locator_SET参数中接收到不支持定位器类型的（非首选）定位器，主机可能会发送NOTIFY错误。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A host MAY add the source IP address of a received HIP packet as a candidate locator for the peer even if it is not listed in the peer&#39;s LOCATOR_SET, but it SHOULD prefer locators explicitly listed in the LOCATOR_SET.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
主机可以添加接收到的HIP分组的源IP地址作为对等方的候选定位器，即使它没有列在对等方的定位器集中，但是它应该更喜欢在定位器集中明确列出的定位器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4. Verifying Address Reachability
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4. 验证地址可达性
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A host MUST verify the reachability of an UNVERIFIED address. The status of a newly learned address MUST initially be set to UNVERIFIED unless the new address is advertised in an R1 packet as a new preferred locator. A host MAY also want to verify the reachability of an ACTIVE address again after some time, in which case it would set the status of the address to UNVERIFIED and reinitiate address verification. A typical verification that is protected by retransmission timers is to include an ECHO REQUEST within an UPDATE sent to the new address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
主机必须验证未验证地址的可达性。新读入地址的状态最初必须设置为未验证，除非新地址作为新的首选定位器在R1数据包中公布。主机可能还希望在一段时间后再次验证活动地址的可达性，在这种情况下，它会将地址的状态设置为未验证并重新初始化地址验证。受重传计时器保护的典型验证是在发送到新地址的更新中包含回显请求。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A host typically starts the address-verification procedure by sending a nonce to the new address. A host MAY choose from different message exchanges or different nonce values so long as it establishes that the peer has received and replied to the nonce at the new address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
主机通常通过向新地址发送nonce来启动地址验证过程。主机可以从不同的消息交换或不同的nonce值中进行选择，只要它确定对等方已在新地址接收并回复nonce。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, when the host is changing its SPI and sending an ESP_INFO to the peer, the NEW SPI value SHOULD be random and the random value MAY be copied into an ECHO_REQUEST sent in the rekeying UPDATE. However, if the host is not changing its SPI, it MAY still use the ECHO_REQUEST parameter for verification but with some other random value. A host MAY also use other message exchanges as confirmation of the address reachability.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例如，当主机更改其SPI并向对等方发送ESP_信息时，新的SPI值应该是随机的，并且可以将随机值复制到在密钥更新中发送的ECHO_请求中。但是，如果主机没有更改其SPI，它可能仍然使用ECHO_请求参数进行验证，但使用其他一些随机值。主机还可以使用其他消息交换来确认地址可达性。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In some cases, it MAY be sufficient to use the arrival of data on a newly advertised SA as implicit address reachability verification as depicted in Figure 7, instead of waiting for the confirmation via a HIP packet. In this case, a host advertising a new SPI as part of its address reachability check SHOULD be prepared to receive traffic on the new SA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在某些情况下，使用新公布的SA上的数据到达作为隐式地址可达性验证（如图7所示）就足够了，而不是通过HIP数据包等待确认。在这种情况下，作为地址可达性检查的一部分，发布新SPI广告的主机应该准备接收新SA上的流量。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
Mobile Host Peer Host
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
移动主机对等主机
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                  UPDATE(ESP_INFO, LOCATOR_SET, ...)
                ----------------------------------&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                  UPDATE(ESP_INFO, LOCATOR_SET, ...)
                ----------------------------------&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                                                   prepare incoming SA
                  UPDATE(ESP_INFO, ...) with new SPI
                &lt;-----------------------------------
   switch to new outgoing SA
                           data on new SA
                -----------------------------------&gt;
                                                   mark address ACTIVE
                  UPDATE(ACK, ECHO_RESPONSE) later arrives
                -----------------------------------&gt;
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                                                   prepare incoming SA
                  UPDATE(ESP_INFO, ...) with new SPI
                &lt;-----------------------------------
   switch to new outgoing SA
                           data on new SA
                -----------------------------------&gt;
                                                   mark address ACTIVE
                  UPDATE(ACK, ECHO_RESPONSE) later arrives
                -----------------------------------&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-13">
Figure 7: Address Activation via Use of a New SA
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-13">
图7：通过使用新SA进行地址激活
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When address verification is in progress for a new preferred locator, the host SHOULD select a different locator listed as ACTIVE, if one such locator is available, to continue communications until address verification completes. Alternatively, the host MAY use the new preferred locator while in UNVERIFIED status to the extent CBA permits. CBA is explained in Section 5.6. Once address verification succeeds, the status of the new preferred locator changes to ACTIVE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当对新的首选定位器进行地址验证时，主机应选择列为活动的不同定位器（如果有一个此类定位器可用），以继续通信，直到地址验证完成。或者，在CBA允许的范围内，主机可以在未验证状态下使用新的首选定位器。第5.6节对CBA进行了解释。一旦地址验证成功，新首选定位器的状态将更改为活动。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.5. Changing the Preferred Locator
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.5. 更改首选定位器
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A host MAY want to change the preferred outgoing locator for different reasons, e.g., because traffic information or ICMP error messages indicate that the currently used preferred address may have become unreachable. Another reason may be due to receiving a LOCATOR_SET parameter that has the &#34;P&#34; bit set.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
主机可能出于不同的原因想要更改首选传出定位器，例如，因为流量信息或ICMP错误消息表明当前使用的首选地址可能无法访问。另一个原因可能是由于接收到设置了“P”位的定位器设置参数。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To change the preferred locator, the host initiates the following procedure:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
要更改首选定位器，主机将启动以下过程：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. If the new preferred locator has an ACTIVE status, the preferred locator is changed and the procedure succeeds.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 如果新的首选定位器处于活动状态，则首选定位器将更改，并且过程将成功。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. If the new preferred locator has an UNVERIFIED status, the host starts to verify its reachability. The host SHOULD use a different locator listed as ACTIVE until address verification completes if one such locator is available. Alternatively, the host MAY use the new preferred locator, even though in UNVERIFIED status, to the extent CBA permits. Once address verification succeeds, the status of the new preferred locator changes to ACTIVE, and its use is no longer governed by CBA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 如果新的首选定位器具有未验证的状态，主机将开始验证其可达性。如果有一个定位器可用，主机应使用列为活动的其他定位器，直到地址验证完成。或者，主机可以在CBA允许的范围内使用新的首选定位器，即使处于未验证状态。一旦地址验证成功，新的首选定位器的状态将变为活动，其使用不再受CBA控制。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. If the peer host has not indicated a preference for any address, then the host picks one of the peer&#39;s ACTIVE addresses randomly or according to local policy. This case may arise if, for example, ICMP error messages that deprecate the preferred locator arrive, but the peer has not yet indicated a new preferred locator.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. 如果对等主机未表示对任何地址的偏好，则主机随机或根据本地策略选择对等主机的一个活动地址。例如，如果不推荐首选定位器的ICMP错误消息到达，但对等方尚未指示新的首选定位器，则可能出现这种情况。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. If the new preferred locator has a DEPRECATED status and there is at least one non-deprecated address, the host selects one of the non-deprecated addresses as a new preferred locator and continues. If the selected address is UNVERIFIED, the address verification procedure described above will apply.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. 如果新的首选定位器具有不推荐使用的状态，并且至少有一个未推荐使用的地址，则主机将选择其中一个未推荐使用的地址作为新的首选定位器并继续。如果所选地址未经验证，将采用上述地址验证程序。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.6. Credit-Based Authorization
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.6. 基于信用的授权
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To prevent redirection-based flooding attacks, the use of a CBA approach MUST be used when a host sends data to an UNVERIFIED locator. The following algorithm addresses the security considerations for prevention of amplification and time-shifting attacks. Other forms of credit aging, and other values for the CreditAgingFactor and CreditAgingInterval parameters in particular, are for further study, and so are the advanced CBA techniques specified in [CBA-MIPv6].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
为了防止基于重定向的泛洪攻击，当主机向未经验证的定位器发送数据时，必须使用CBA方法。以下算法解决了防止放大和时移攻击的安全问题。其他形式的信贷账龄，特别是CreditAgingFactor和CreditAgingInterval参数的其他值，以及[CBA-MIPv6]中规定的高级CBA技术，有待进一步研究。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.6.1. Handling Payload Packets
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.6.1. 处理有效负载数据包
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A host maintains a &#34;credit counter&#34; for each of its peers. Whenever a packet arrives from a peer, the host SHOULD increase that peer&#39;s credit counter by the size of the received packet. When the host has a packet to be sent to the peer, and when the peer&#39;s preferred locator is listed as UNVERIFIED and no alternative locator with status ACTIVE is available, the host checks whether it can send the packet to the UNVERIFIED locator. The packet SHOULD be sent if the value of the credit counter is higher than the size of the outbound packet. If the credit counter is too low, the packet MUST be discarded or buffered until address verification succeeds. When a packet is sent to a peer at an UNVERIFIED locator, the peer&#39;s credit counter MUST be reduced by the size of the packet. The peer&#39;s credit counter is not affected by packets that the host sends to an ACTIVE locator of that peer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
主机为每个对等机维护一个“信用计数器”。每当一个数据包从一个对等方到达，主机就应该将该对等方的信用计数器增加接收到的数据包的大小。当主机有一个数据包要发送给对等方，并且对等方的首选定位器被列为未验证定位器，并且没有状态为ACTIVE的备用定位器可用时，主机检查是否可以将数据包发送给未验证定位器。如果信用计数器的值高于出站数据包的大小，则应发送数据包。如果信用计数器过低，则必须丢弃或缓冲数据包，直到地址验证成功。当一个数据包被发送到一个未经验证的定位器上的对等方时，对等方的信用计数器必须减少数据包的大小。对等方的信用计数器不受主机发送到该对等方的活动定位器的数据包的影响。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Figure 8 depicts the actions taken by the host when a packet is received. Figure 9 shows the decision chain in the event a packet is sent.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
图8描述了主机在收到数据包时采取的操作。图9显示了发送数据包时的决策链。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       Inbound
       Packet
          |
          |       +----------------+               +---------------+
          |       |    Increase    |               |    Deliver    |
          +-----&gt; | credit counter |-------------&gt; |   packet to   |
                  | by packet size |               |  application  |
                  +----------------+               +---------------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
       Inbound
       Packet
          |
          |       +----------------+               +---------------+
          |       |    Increase    |               |    Deliver    |
          +-----&gt; | credit counter |-------------&gt; |   packet to   |
                  | by packet size |               |  application  |
                  +----------------+               +---------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
Figure 8: Receiving Packets with Credit-Based Authorization
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
图8：使用基于信用的授权接收数据包
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
    Outbound
     Packet
        |          _________________
        |         /                 \                 +---------------+
        |        /  Is the preferred \       No       |  Send packet  |
        +-----&gt; | destination address |-------------&gt; |  to preferred |
                 \    UNVERIFIED?    /                |    address    |
                  \_________________/                 +---------------+
                           |
                           | Yes
                           |
                           v
                   _________________
                  /                 \                 +---------------+
                 /   Does an ACTIVE  \      Yes       |  Send packet  |
                | destination address |-------------&gt; |   to ACTIVE   |
                 \       exist?      /                |    address    |
                  \_________________/                 +---------------+
                           |
                           | No
                           |
                           v
                   _________________
                  /                 \                 +---------------+
                 / Is credit counter \       No       |               |
                |          &gt;=         |-------------&gt; | Drop or       |
                 \    packet size?   /                | buffer packet |
                  \_________________/                 +---------------+
                           |
                           | Yes
                           |
                           v
                   +---------------+                  +---------------+
                   | Reduce credit |                  |  Send packet  |
                   |  counter by   |----------------&gt; | to preferred  |
                   |  packet size  |                  |    address    |
                   +---------------+                  +---------------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
    Outbound
     Packet
        |          _________________
        |         /                 \                 +---------------+
        |        /  Is the preferred \       No       |  Send packet  |
        +-----&gt; | destination address |-------------&gt; |  to preferred |
                 \    UNVERIFIED?    /                |    address    |
                  \_________________/                 +---------------+
                           |
                           | Yes
                           |
                           v
                   _________________
                  /                 \                 +---------------+
                 /   Does an ACTIVE  \      Yes       |  Send packet  |
                | destination address |-------------&gt; |   to ACTIVE   |
                 \       exist?      /                |    address    |
                  \_________________/                 +---------------+
                           |
                           | No
                           |
                           v
                   _________________
                  /                 \                 +---------------+
                 / Is credit counter \       No       |               |
                |          &gt;=         |-------------&gt; | Drop or       |
                 \    packet size?   /                | buffer packet |
                  \_________________/                 +---------------+
                           |
                           | Yes
                           |
                           v
                   +---------------+                  +---------------+
                   | Reduce credit |                  |  Send packet  |
                   |  counter by   |----------------&gt; | to preferred  |
                   |  packet size  |                  |    address    |
                   +---------------+                  +---------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
Figure 9: Sending Packets with Credit-Based Authorization
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
图9：使用基于信用的授权发送数据包
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.6.2. Credit Aging
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.6.2. 信用老化
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A host ensures that the credit counters it maintains for its peers gradually decrease over time. Such &#34;credit aging&#34; prevents a malicious peer from building up credit at a very slow speed and using this, all at once, for a severe burst of redirected packets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
主机确保它为其对等机维护的信用计数器随时间逐渐减少。这样的“信用老化”可以防止恶意的对等方以非常慢的速度建立信用，并利用这一点，一次完成重定向数据包的严重突发。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Credit aging may be implemented by multiplying credit counters with a factor, CreditAgingFactor (a fractional value less than one), in fixed-time intervals of CreditAgingInterval length. Choosing appropriate values for CreditAgingFactor and CreditAgingInterval is important to ensure that a host can send packets to an address in state UNVERIFIED even when the peer sends at a lower rate than the host itself. When CreditAgingFactor or CreditAgingInterval are too small, the peer&#39;s credit counter might be too low to continue sending packets until address verification concludes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
信用账龄可通过将信用计数器与系数CreditAgingFactor（小于1的分数值）相乘，在CreditAgingInterval长度的固定时间间隔内实现。为CreditAgingFactor和CreditAgingInterval选择适当的值对于确保主机可以向处于未验证状态的地址发送数据包非常重要，即使当对等方以低于主机本身的速率发送数据包时也是如此。当CreditAgingFactor或CreditAgingInterval太小时，对等方的信用计数器可能太低，无法继续发送数据包，直到地址验证结束。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The parameter values proposed in this document are as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件中建议的参数值如下：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
CreditAgingFactor 7/8 CreditAgingInterval 5 seconds
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
CreditAgingFactor 7/8 CreditAgingInterval 5秒
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
These parameter values work well when the host transfers a file to the peer via a TCP connection, and the end-to-end round-trip time does not exceed 500 milliseconds. Alternative credit-aging algorithms may use other parameter values or different parameters, which may even be dynamically established.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当主机通过TCP连接将文件传输到对等方，并且端到端的往返时间不超过500毫秒时，这些参数值可以正常工作。其他信用账龄算法可能使用其他参数值或不同参数，甚至可能动态建立。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. 安全考虑
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The HIP mobility mechanism provides a secure means of updating a host&#39;s IP address via HIP UPDATE packets. Upon receipt, a HIP host cryptographically verifies the sender of an UPDATE, so forging or replaying a HIP UPDATE packet is very difficult (see [RFC7401]). Therefore, security issues reside in other attack domains. The two we consider are malicious redirection of legitimate connections as well as redirection-based flooding attacks using this protocol. This can be broken down into the following:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HIP移动机制提供了通过HIP更新包更新主机IP地址的安全方法。收到后，HIP主机以加密方式验证更新的发送方，因此伪造或重放HIP更新数据包非常困难（请参见[RFC7401]）。因此，安全问题存在于其他攻击域中。我们考虑的两个是恶意的重定向合法连接，以及基于重定向的洪泛攻击使用此协议。这可分为以下几点：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
1) Impersonation attacks
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
1) 模拟攻击
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
- direct conversation with the misled victim
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
- 与被误导的受害者直接对话
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
- man-in-the-middle (MitM) attack
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
- 中间人（MitM）攻击
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
2) Denial-of-service (DoS) attacks
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
2) 拒绝服务（DoS）攻击
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
- flooding attacks (== bandwidth-exhaustion attacks)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
- 泛洪攻击（=带宽耗尽攻击）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
* tool 1: direct flooding
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
* 工具1：直接注水
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
* tool 2: flooding by botnets
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
* 工具2：僵尸网络泛滥
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
* tool 3: redirection-based flooding
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-12">
* 工具3：基于重定向的泛洪
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
- memory-exhaustion attacks
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
- 内存耗尽攻击
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
- computational-exhaustion attacks
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
- 计算耗尽攻击
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
3) Privacy concerns
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
3) 隐私问题
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
We consider these in more detail in the following sections.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
我们在下面的章节中更详细地考虑这些。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In Sections 6.1 and 6.2, we assume that all users are using HIP. In Section 6.3, we consider the security ramifications when we have both HIP and non-HIP hosts.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在第6.1节和第6.2节中，我们假设所有用户都在使用HIP。在第6.3节中，我们考虑当我们有髋关节和非髋关节时的安全后果。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.1. Impersonation Attacks
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.1. 模拟攻击
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An attacker wishing to impersonate another host will try to mislead its victim into directly communicating with them or carry out a MitM attack between the victim and the victim&#39;s desired communication peer. Without mobility support, such attacks are possible only if the attacker resides on the routing path between its victim and the victim&#39;s desired communication peer or if the attacker tricks its victim into initiating the connection over an incorrect routing path (e.g., by acting as a router or using spoofed DNS entries).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
希望模拟另一台主机的攻击者将试图误导其受害者直接与其通信，或在受害者和受害者所需的通信对等方之间执行MitM攻击。如果没有移动性支持，只有当攻击者驻留在其受害者和受害者所需通信对等方之间的路由路径上，或者如果攻击者欺骗其受害者通过不正确的路由路径（例如，通过充当路由器或使用伪造的DNS条目）启动连接时，此类攻击才有可能发生。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The HIP extensions defined in this specification change the situation in that they introduce an ability to redirect a connection, both before and after establishment. If no precautionary measures are taken, an attacker could potentially misuse the redirection feature to impersonate a victim&#39;s peer from any arbitrary location. However, the authentication and authorization mechanisms of the HIP base exchange [RFC7401] and the signatures in the UPDATE message prevent this attack. Furthermore, ownership of a HIP association is securely linked to a HIP HI/HIT. If an attacker somehow uses a bug in the implementation to redirect a HIP connection, the original owner can always reclaim their connection (they can always prove ownership of the private key associated with their public HI).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本规范中定义的髋部延伸改变了这种情况，因为它们引入了在建立连接之前和之后重定向连接的能力。如果没有采取预防措施，攻击者可能会滥用重定向功能，从任意位置模拟受害者的对等方。但是，HIP base exchange[RFC7401]的身份验证和授权机制以及更新消息中的签名阻止了这种攻击。此外，髋部协会的所有权与髋部HI/HIT安全关联。如果攻击者以某种方式使用实现中的bug重定向HIP连接，则原始所有者始终可以收回其连接（他们始终可以证明与公共HI关联的私钥的所有权）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MitM attacks are possible if an on-path attacker is present during the initial HIP base exchange and if the hosts do not authenticate each other&#39;s identities. However, once such an opportunistic base exchange has taken place, a MitM attacker that comes later to the path cannot steal the HIP connection because it is very difficult for an attacker to create an UPDATE packet (or any HIP packet) that will be accepted as a legitimate update. UPDATE packets use HMAC and are signed. Even when an attacker can snoop packets to obtain the SPI and HIT/HI, they still cannot forge an UPDATE packet without knowledge of the secret keys. Also, replay attacks on the UPDATE packet are prevented as described in [RFC7401].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果在初始HIP-base交换期间存在路径上的攻击者，并且如果主机不验证彼此的身份，则可能发生MitM攻击。但是，一旦发生这种机会主义的基本交换，随后进入路径的MitM攻击者就无法窃取HIP连接，因为攻击者很难创建将被接受为合法更新的更新数据包（或任何HIP数据包）。更新数据包使用HMAC并签名。即使攻击者可以窥探数据包以获取SPI和HIT/HI，他们仍然无法在不知道密钥的情况下伪造更新数据包。此外，如[RFC7401]所述，可以防止对更新数据包的重播攻击。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2. Denial-of-Service Attacks
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2. 拒绝服务攻击
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2.1. Flooding Attacks
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2.1. 洪水袭击
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The purpose of a DoS attack is to exhaust some resource of the victim such that the victim ceases to operate correctly. A DoS attack can aim at the victim&#39;s network attachment (flooding attack), its memory, or its processing capacity. In a flooding attack, the attacker causes an excessive number of bogus or unwanted packets to be sent to the victim, which fills their available bandwidth. Note that the victim does not necessarily need to be a node; it can also be an entire network. The attack functions the same way in either case.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
DoS攻击的目的是耗尽受害者的某些资源，从而使受害者停止正常操作。DoS攻击可以针对受害者的网络连接（洪水攻击）、内存或处理能力。在泛洪攻击中，攻击者会向受害者发送过多的伪造或不需要的数据包，这会占用受害者的可用带宽。注意，受害者不一定需要是节点；它也可以是一个完整的网络。在这两种情况下，攻击的作用方式相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An effective DoS strategy is distributed denial of service (DDoS). Here, the attacker conventionally distributes some viral software to as many nodes as possible. Under the control of the attacker, the infected nodes (e.g., nodes in a botnet) jointly send packets to the victim. With such an &#34;army&#34;, an attacker can take down even very high bandwidth networks/victims.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
分布式拒绝服务（DDoS）是一种有效的拒绝服务策略。在这里，攻击者通常会将一些病毒软件分发到尽可能多的节点。在攻击者的控制下，受感染的节点（例如僵尸网络中的节点）共同向受害者发送数据包。有了这样一支“军队”，攻击者甚至可以摧毁非常高带宽的网络/受害者。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
With the ability to redirect connections, an attacker could realize a DDoS attack without having to distribute viral code. Here, the attacker initiates a large download from a server and subsequently uses the HIP mobility mechanism to redirect this download to its victim. The attacker can repeat this with multiple servers. This threat is mitigated through reachability checks and CBA. When conducted using HIP, reachability checks can leverage the built-in authentication properties of HIP. They can also prevent redirection-based flooding attacks. However, the delay of such a check can have a noticeable impact on application performance. To reduce the impact of the delay, CBA can be used to send a limited number of packets to the new address while the validity of the IP address is still in question. Both strategies do not eliminate flooding attacks per se, but they preclude: (i) their use from a location off the path towards the flooded victim; and (ii) any amplification in the number and size
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
借助重定向连接的能力，攻击者可以实现DDoS攻击，而无需分发病毒代码。在这里，攻击者从服务器启动一个大型下载，然后使用HIP移动机制将此下载重定向到其受害者。攻击者可以在多台服务器上重复此操作。这种威胁通过可达性检查和CBA得到缓解。当使用HIP执行时，可达性检查可以利用HIP的内置身份验证属性。它们还可以防止基于重定向的泛洪攻击。但是，这种检查的延迟可能会对应用程序性能产生明显的影响。为了减少延迟的影响，可以使用CBA向新地址发送有限数量的数据包，而IP地址的有效性仍然存在疑问。这两种策略本身并不能消除洪水袭击，但它们排除了：（i）在通往洪水受害者的道路以外的位置使用洪水袭击；以及（ii）在数量和大小上的任何放大
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
of the redirected packets. As a result, the combination of a reachability check and CBA lowers a HIP redirection-based flooding attack to the level of a direct flooding attack in which the attacker itself sends the flooding traffic to the victim.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
重定向的数据包的名称。因此，可达性检查和CBA的结合将基于HIP重定向的泛洪攻击降低到直接泛洪攻击的级别，在这种攻击中，攻击者自己将泛洪通信发送给受害者。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2.2. Memory/Computational-Exhaustion DoS Attacks
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2.2. 内存/计算耗尽DoS攻击
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
We now consider whether or not the proposed extensions to HIP add any new DoS attacks (consideration of DoS attacks using the base HIP exchange and updates is discussed in [RFC7401]). A simple attack is to send many UPDATE packets containing many IP addresses that are not flagged as preferred. The attacker continues to send such packets until the number of IP addresses associated with the attacker&#39;s HI crashes the system. Therefore, a HIP association SHOULD limit the number of IP addresses that can be associated with any HI. Other forms of memory/computationally exhausting attacks via the HIP UPDATE packet are handled in the base HIP document [RFC7401].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
现在我们考虑HIP提出的扩展是否添加了任何新的DoS攻击（考虑到使用HIP交换和更新的DoS攻击在[RCF7401]中讨论）。一种简单的攻击是发送多个更新包，其中包含许多未标记为首选的IP地址。攻击者继续发送此类数据包，直到与攻击者HI关联的IP地址数使系统崩溃。因此，HIP关联应限制可与任何HI关联的IP地址数。通过HIP更新包的其他形式的内存/计算消耗攻击在基本HIP文档[RFC7401]中处理。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A central server that has to deal with a large number of mobile clients MAY consider increasing the SA lifetimes to try to slow down the rate of rekeying UPDATEs or increasing the cookie difficulty to slow down the rate of attack-oriented connections.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
必须处理大量移动客户端的中央服务器可以考虑增加SA寿命，以尝试降低更新密钥的速率或增加Cookie难度以减缓面向攻击的连接的速率。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.3. Mixed Deployment Environment
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.3. 混合部署环境
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
We now assume an environment with hosts that are both HIP and non-HIP aware. Four cases exist:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
现在，我们假设环境中的主机同时具有HIP和非HIP感知。存在四种情况：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. A HIP host redirects its connection onto a non-HIP host. The non-HIP host will drop the reachability packet, so this is not a threat unless the HIP host is a MitM that could somehow respond successfully to the reachability check.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. HIP主机将其连接重定向到非HIP主机。非HIP主机将丢弃可达性数据包，因此这不是威胁，除非HIP主机是能够以某种方式成功响应可达性检查的MitM。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. A non-HIP host attempts to redirect their connection onto a HIP host. This falls into IPv4 and IPv6 security concerns, which are outside the scope of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 非HIP主机尝试将其连接重定向到HIP主机上。这属于IPv4和IPv6安全问题，超出了本文档的范围。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. A non-HIP host attempts to steal a HIP host&#39;s session (assume that Secure Neighbor Discovery is not active for the following). The non-HIP host contacts the service that a HIP host has a connection with and then attempts to change its IP address to steal the HIP host&#39;s connection. What will happen in this case is implementation dependent, but such a request should fail by being ignored or dropped. Even if the attack were successful, the HIP host could reclaim its connection via HIP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. 非HIP主机试图窃取HIP主机的会话（假定安全邻居发现在以下情况下不处于活动状态）。非HIP主机与HIP主机连接的服务联系，然后尝试更改其IP地址以窃取HIP主机的连接。在这种情况下会发生什么取决于实现，但是这样的请求应该被忽略或删除而失败。即使攻击成功，HIP主机也可以通过HIP恢复连接。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. A HIP host attempts to steal a non-HIP host&#39;s session. A HIP host could spoof the non-HIP host&#39;s IP address during the base exchange or set the non-HIP host&#39;s IP address as its preferred address via an UPDATE. Other possibilities exist, but a solution is to prevent the local redirection of sessions that were previously using an unverified address, but outside of the existing HIP context, into the HIP SAs until the address change can be verified.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. HIP主机试图窃取非HIP主机的会话。HIP主机可以在基本交换期间欺骗非HIP主机的IP地址，或者通过更新将非HIP主机的IP地址设置为其首选地址。存在其他可能性，但解决方案是防止将以前使用未验证地址但在现有HIP上下文之外的会话本地重定向到HIP SAs，直到可以验证地址更改为止。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.4. Privacy Concerns
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.4. 隐私问题
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The exposure of a host&#39;s IP addresses through HIP mobility extensions may raise privacy concerns. The administrator of a host may be trying to hide its location in some context through the use of a VPN or other virtual interfaces. Similar privacy issues also arise in other frameworks such as WebRTC and are not specific to HIP. Implementations SHOULD provide a mechanism to allow the host administrator to block the exposure of selected addresses or address ranges. While this issue may be more relevant in a host multihoming scenario in which multiple IP addresses might be exposed [RFC8047], it is worth noting also here that mobility events might cause an implementation to try to inadvertently use a locator that the administrator would rather avoid exposing to the peer host.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
通过HIP mobility extensions暴露主机的IP地址可能会引起隐私问题。主机管理员可能试图通过使用VPN或其他虚拟接口在某些上下文中隐藏其位置。类似的隐私问题也出现在其他框架中，如WebRTC，并且不特定于HIP。实现应提供一种机制，允许主机管理员阻止所选地址或地址范围的公开。虽然此问题在可能暴露多个IP地址的主机多宿主场景中可能更为相关[RFC8047]，但值得注意的是，移动性事件可能会导致实现尝试无意中使用管理员希望避免暴露给对等主机的定位器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. IANA Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. IANA考虑
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5206], obsoleted by this document, specified an allocation for a LOCATOR parameter in the &#34;Parameter Types&#34; subregistry of the &#34;Host Identity Protocol (HIP) Parameters&#34; registry, with a type value of 193. IANA has renamed the parameter to &#34;LOCATOR_SET&#34; and has updated the reference from [RFC5206] to this specification.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5206]已被本文件废除，在“主机标识协议（HIP）参数”注册表的“参数类型”子域中指定了定位器参数的分配，类型值为193。IANA已将参数重命名为“LOCATOR_SET”，并已将参考从[RFC5206]更新为本规范。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5206], obsoleted by this document, specified an allocation for a LOCATOR_TYPE_UNSUPPORTED type in the &#34;Notify Message Types&#34; registry, with a type value of 46. IANA has updated the reference from [RFC5206] to this specification.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5206]已被本文档淘汰，在“通知消息类型”注册表中指定了定位器类型不支持类型的分配，类型值为46。IANA已将参考文献从[RFC5206]更新为本规范。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. Differences from RFC 5206
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. 与RFC 5206的差异
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section summarizes the technical changes made from [RFC5206]. This section is informational, intended to help implementors of the previous protocol version. If any text in this section contradicts text in other portions of this specification, the text found outside of this section should be considered normative.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节总结了[RFC5206]所做的技术更改。本节仅供参考，旨在帮助先前协议版本的实施者。如果本节中的任何文本与本规范其他部分中的文本相矛盾，则本节以外的文本应视为规范性文本。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document specifies extensions to the HIP Version 2 protocol, while [RFC5206] specifies extensions to the HIP Version 1 protocol. [RFC7401] documents the differences between these two protocol versions.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件规定了HIP版本2协议的扩展，而[RFC5206]规定了HIP版本1协议的扩展。[RFC7401]记录了这两个协议版本之间的差异。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5206] included procedures for both HIP host mobility and basic host multihoming. In this document, only host mobility procedures are included; host multihoming procedures are now specified in [RFC8047]. In particular, multihoming-related procedures related to the exposure of multiple locators in the base exchange packets; the transmission, reception, and processing of multiple locators in a single UPDATE packet; handovers across IP address families; and other multihoming-related specifications have been removed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5206]包括髋部主机移动性和基本主机多宿的程序。本文件仅包括主机移动程序；主机多宿主过程现在在[RFC8047]中指定。特别地，与基站交换分组中多个定位器的暴露相关的多归属相关程序；在单个更新包中发送、接收和处理多个定位器；跨IP地址族的切换；和其他与多主相关的规范已经被删除。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following additional changes have been made:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
进行了以下附加更改：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The LOCATOR parameter in [RFC5206] has been renamed to LOCATOR_SET.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o [RFC5206]中的定位器参数已重命名为LOCATOR_SET。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Specification text regarding the handling of mobility when both hosts change IP addresses at nearly the same time (a &#34;double-jump&#34; mobility scenario) has been added.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 添加了有关当两台主机几乎同时更改IP地址时移动处理的规范文本（“双跳”移动场景）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Specification text regarding the mobility event in which the host briefly has an active new locator and old locator at the same time (a &#34;make-before-break&#34; mobility scenario) has been added.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 添加了关于移动事件的规范文本，其中主机短暂地同时具有活动的新定位器和旧定位器（“先通后断”移动场景）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Specification text has been added to note that a host may add the source IP address of a received HIP packet as a candidate locator for the peer even if it is not listed in the peer&#39;s LOCATOR_SET, but that it should prefer locators explicitly listed in the LOCATOR_SET.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 已经添加了规范文本以注意，主机可以添加接收到的HIP分组的源IP地址作为对等机的候选定位器，即使其未在对等机的定位器_集中列出，但是它应该更喜欢定位器_集中显式列出的定位器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o This document clarifies that the HOST_ID parameter may be included in UPDATE messages containing LOCATOR_SET parameters, for the possible benefit of HIP-aware firewalls.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 本文档阐明，出于HIP感知防火墙的可能好处，主机ID参数可能包含在包含定位器设置参数的更新消息中。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The previous specification mentioned that it may be possible to include multiple LOCATOR_SET and ESP_INFO parameters in an UPDATE. This document only specifies the case of a single LOCATOR_SET and ESP_INFO parameter in an UPDATE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 先前的规范提到，在更新中可能包含多个定位器集和ESP信息参数。本文档仅指定更新中单个定位器集和ESP INFO参数的情况。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The previous specification mentioned that it may be possible to send LOCATOR_SET parameters in packets other than the UPDATE. This document only specifies the use of the UPDATE packet.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 先前的规范提到，除了更新之外，还可以在包中发送LOCATOR_SET参数。本文档仅指定更新数据包的使用。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o This document describes a simple heuristic for setting the credit value for CBA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 本文档描述了设置CBA信用值的简单启发式方法。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o This specification mandates that a host must be able to receive and avoid reprocessing redundant LOCATOR_SET parameters that may have been sent in parallel to multiple addresses of the host.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 本规范要求主机必须能够接收并避免重新处理冗余定位器集参数，这些参数可能已并行发送到主机的多个地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. 工具书类
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.1. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.1. 规范性引用文件
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, &lt;http://www.rfc-editor.org/info/rfc2119&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119]Bradner，S.，“RFC中用于表示需求水平的关键词”，BCP 14，RFC 2119，DOI 10.17487/RFC2119，1997年3月&lt;http://www.rfc-editor.org/info/rfc2119&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4291] Hinden, R. and S. Deering, &#34;IP Version 6 Addressing Architecture&#34;, RFC 4291, DOI 10.17487/RFC4291, February 2006, &lt;http://www.rfc-editor.org/info/rfc4291&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4291]Hinden，R.和S.Deering，“IP版本6寻址体系结构”，RFC 4291，DOI 10.17487/RFC42912006年2月&lt;http://www.rfc-editor.org/info/rfc4291&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7401] Moskowitz, R., Ed., Heer, T., Jokela, P., and T. Henderson, &#34;Host Identity Protocol Version 2 (HIPv2)&#34;, RFC 7401, DOI 10.17487/RFC7401, April 2015, &lt;http://www.rfc-editor.org/info/rfc7401&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7401]Moskowitz，R.，Ed.，Heer，T.，Jokela，P.，和T.Henderson，“主机身份协议版本2（HIPv2）”，RFC 7401，DOI 10.17487/RFC7401，2015年4月&lt;http://www.rfc-editor.org/info/rfc7401&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7402] Jokela, P., Moskowitz, R., and J. Melen, &#34;Using the Encapsulating Security Payload (ESP) Transport Format with the Host Identity Protocol (HIP)&#34;, RFC 7402, DOI 10.17487/RFC7402, April 2015, &lt;http://www.rfc-editor.org/info/rfc7402&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7402]Jokela，P.，Moskowitz，R.，和J.Melen，“将封装安全有效载荷（ESP）传输格式与主机标识协议（HIP）结合使用”，RFC 7402，DOI 10.17487/RFC7402，2015年4月&lt;http://www.rfc-editor.org/info/rfc7402&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC8003] Laganier, J. and L. Eggert, &#34;Host Identity Protocol (HIP) Registration Extension&#34;, RFC 8003, DOI 10.17487/RFC8003, October 2016, &lt;http://www.rfc-editor.org/info/rfc8003&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC8003]Laganier，J.和L.Eggert，“主机身份协议（HIP）注册扩展”，RFC 8003，DOI 10.17487/RFC8003，2016年10月&lt;http://www.rfc-editor.org/info/rfc8003&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC8004] Laganier, J. and L. Eggert, &#34;Host Identity Protocol (HIP) Rendezvous Extension&#34;, RFC 8004, DOI 10.17487/RFC8004, October 2016, &lt;http://www.rfc-editor.org/info/rfc8004&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC8004]Laganier，J.和L.Eggert，“主机身份协议（HIP）会合扩展”，RFC 8004，DOI 10.17487/RFC8004，2016年10月&lt;http://www.rfc-editor.org/info/rfc8004&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.2. Informative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.2. 资料性引用
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[CBA-MIPv6] Vogt, C. and J. Arkko, &#34;Credit-Based Authorization for Mobile IPv6 Early Binding Updates&#34;, Work in Progress, draft-vogt-mobopts-credit-based-authorization-00, February 2005.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[CBA-MIPv6]Vogt，C.和J.Arkko，“移动IPv6早期绑定更新的基于信用的授权”，正在进行的工作，draft-Vogt-mobopts-Credit-Based-Authorization-00，2005年2月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4225] Nikander, P., Arkko, J., Aura, T., Montenegro, G., and E. Nordmark, &#34;Mobile IP Version 6 Route Optimization Security Design Background&#34;, RFC 4225, DOI 10.17487/RFC4225, December 2005, &lt;http://www.rfc-editor.org/info/rfc4225&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4225]Nikander，P.，Arkko，J.，Aura，T.，黑山，G.，和E.Nordmark，“移动IP版本6路由优化安全设计背景”，RFC 4225，DOI 10.17487/RFC4225，2005年12月&lt;http://www.rfc-editor.org/info/rfc4225&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5206] Nikander, P., Henderson, T., Ed., Vogt, C., and J. Arkko, &#34;End-Host Mobility and Multihoming with the Host Identity Protocol&#34;, RFC 5206, DOI 10.17487/RFC5206, April 2008, &lt;http://www.rfc-editor.org/info/rfc5206&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5206]Nikander，P.，Henderson，T.，Ed.，Vogt，C.，和J.Arkko，“使用主机身份协议的终端主机移动性和多址”，RFC 5206，DOI 10.17487/RFC5206，2008年4月&lt;http://www.rfc-editor.org/info/rfc5206&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5207] Stiemerling, M., Quittek, J., and L. Eggert, &#34;NAT and Firewall Traversal Issues of Host Identity Protocol (HIP) Communication&#34;, RFC 5207, DOI 10.17487/RFC5207, April 2008, &lt;http://www.rfc-editor.org/info/rfc5207&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5207]Stieemerling，M.，Quittek，J.，和L.Eggert，“主机身份协议（HIP）通信的NAT和防火墙穿越问题”，RFC 5207，DOI 10.17487/RFC5207，2008年4月&lt;http://www.rfc-editor.org/info/rfc5207&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC8047] Henderson, T., Ed., Vogt, C., and J. Arkko, &#34;Host Multihoming with the Host Identity Protocol&#34;, RFC 8047, DOI 10.17487/RFC8047, February 2017, &lt;http://www.rfc-editor.org/info/rfc8047&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC8047]Henderson，T.，Ed.，Vogt，C.，和J.Arkko，“使用主机身份协议的主机多宿主”，RFC 8047，DOI 10.17487/RFC8047，2017年2月&lt;http://www.rfc-editor.org/info/rfc8047&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[SIMPLE-CBA] Vogt, C. and J. Arkko, &#34;Credit-Based Authorization for Concurrent Reachability Verification&#34;, Work in Progress, draft-vogt-mobopts-simple-cba-00, February 2006.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[SIMPLE-CBA]Vogt，C.和J.Arkko，“并发可达性验证的基于信用的授权”，正在进行的工作，草稿-Vogt-mobopts-SIMPLE-CBA-00，2006年2月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Acknowledgments
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
致谢
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Pekka Nikander and Jari Arkko originated this document; Christian Vogt and Thomas Henderson (editor) later joined as coauthors. Greg Perkins contributed the initial text of the security section. Petri Jokela was a coauthor of the initial individual submission.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件由Pekka Nikander和Jari Arkko编写；Christian Vogt和Thomas Henderson（编辑）后来加入为合著者。格雷格·帕金斯（Greg Perkins）提供了安全部分的初始文本。Petri Jokela是最初的个人提交的合著者。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CBA was originally introduced in [SIMPLE-CBA], and portions of this document have been adopted from that earlier document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
CBA最初是在[SIMPLE-CBA]中引入的，本文件的部分内容已从该早期文件中采用。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The authors thank Jeff Ahrenholz, Baris Boyvat, Rene Hummen, Miika Komu, Mika Kousa, Jan Melen, and Samu Varjonen for improvements to the document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
作者感谢Jeff Ahrenholz、Baris Boyvat、Rene Hummen、Miika Komu、Mika Kousa、Jan Melen和Samu Varjonen对文件的改进。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Authors&#39; Addresses
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
作者地址
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Thomas R. Henderson (editor) University of Washington Campus Box 352500 Seattle, WA United States of America
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Thomas R. Henderson（编辑）华盛顿大学校园352500号箱，西雅图，美利坚合众国
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Email: tomhend@u.washington.edu
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Email: tomhend@u.washington.edu
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Christian Vogt Independent 3473 North First Street San Jose, CA 95134 United States of America
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Christian Vogt Independent美国加利福尼亚州圣何塞北第一街3473号，邮编95134
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Email: mail@christianvogt.net
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Email: mail@christianvogt.net
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Jari Arkko Ericsson Jorvas, FIN-02420 Finland
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
芬兰FIN-02420雅丽阿尔科爱立信乔瓦斯酒店
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Phone: +358 40 5079256
   Email: jari.arkko@piuha.net
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Phone: +358 40 5079256
   Email: jari.arkko@piuha.net
        </pre>
      </div>

    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
