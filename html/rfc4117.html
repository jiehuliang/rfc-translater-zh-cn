<!DOCTYPE html>

<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RFC 4117: Transcoding Services Invocation in the Session Initiation Protocol (SIP) Using Third Party Call Control (3pcc) 中文翻译</title>

  <link rel="shortcut icon" type="image/x-icon"
    href="favicon.ico" />

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="master.css">
  <script src="index.js"></script>
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?b7f7721ebaa11b23aaf77df0590e7f4a";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  <script data-ad-client="ca-pub-9129771189441092" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  
</head>
<body>
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC Trans</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="privacy-policy.html">Privacy Policy</a>
        <a class="nav-item nav-link" href="contact.html">Contact</a>
        <a class="nav-item nav-link" href="../figs/html/index.html">Figs</a>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">4117</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc4117">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <div class="row">
      <div id="rfc_header" class="col-sm-12 col-md-12">
        <div class="alert alert-info" role="alert">
          <h1 class="alert-heading">RFC 4117: Transcoding Services Invocation in the Session Initiation Protocol (SIP) Using Third Party Call Control (3pcc) 中文翻译</h1>
          <span class="URL">URL :
            <a href="https://datatracker.ietf.org/doc/html/rfc4117">
              https://datatracker.ietf.org/doc/html/rfc4117
            </a>
          </span><br>
          <span class="title_ja">
            标题 : <strong>RFC 4117</strong></span><br>
          <span class="updated_by">翻译编辑 : 自动生成</span><br>
        </div>
      </div>
      <div id="rfc_alert" class="col-sm-12 col-md-12 hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
Network Working Group                                       G. Camarillo
Request for Comments: 4117                                      Ericsson
Category: Informational                                        E. Burger
                                                              Brooktrout
                                                          H. Schulzrinne
                                                     Columbia University
                                                             A. van Wijk
                                                                 Viataal
                                                               June 2005
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
Network Working Group                                       G. Camarillo
Request for Comments: 4117                                      Ericsson
Category: Informational                                        E. Burger
                                                              Brooktrout
                                                          H. Schulzrinne
                                                     Columbia University
                                                             A. van Wijk
                                                                 Viataal
                                                               June 2005
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
 Transcoding Services Invocation in the Session Initiation Protocol (SIP) Using Third Party Call Control (3pcc)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
使用第三方呼叫控制（3pcc）在会话启动协议（SIP）中对服务调用进行代码转换
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
关于下段备忘
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This memo provides information for the Internet community. It does not specify an Internet standard of any kind. Distribution of this memo is unlimited.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本备忘录为互联网社区提供信息。它没有规定任何类型的互联网标准。本备忘录的分发不受限制。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
版权公告
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (C) The Internet Society (2005).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
版权所有（C）互联网协会（2005年）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
摘要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes how to invoke transcoding services using Session Initiation Protocol (SIP) and third party call control. This way of invocation meets the requirements for SIP regarding transcoding services invocation to support deaf, hard of hearing and speech-impaired individuals.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档描述如何使用会话启动协议（SIP）和第三方呼叫控制调用代码转换服务。这种调用方式满足SIP关于转码服务调用的要求，以支持聋人、听力障碍者和言语障碍者。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目录
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
   1. Introduction ....................................................2
   2. General Overview ................................................2
   3. Third Party Call Control Flows ..................................2
      3.1. Terminology ................................................3
      3.2. Callee&#39;s Invocation ........................................3
      3.3. Caller&#39;s Invocation ........................................8
      3.4. Receiving the Original Stream ..............................8
      3.5. Transcoding Services in Parallel ..........................10
      3.6. Multiple Transcoding Services in Series ...................14
   4. Security Considerations ........................................16
   5. Normative References ...........................................17
   6. Informative References .........................................17
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
   1. Introduction ....................................................2
   2. General Overview ................................................2
   3. Third Party Call Control Flows ..................................2
      3.1. Terminology ................................................3
      3.2. Callee&#39;s Invocation ........................................3
      3.3. Caller&#39;s Invocation ........................................8
      3.4. Receiving the Original Stream ..............................8
      3.5. Transcoding Services in Parallel ..........................10
      3.6. Multiple Transcoding Services in Series ...................14
   4. Security Considerations ........................................16
   5. Normative References ...........................................17
   6. Informative References .........................................17
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. 介绍
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The framework for transcoding with SIP [4] describes how two SIP [1] UAs (User Agents) can discover incompatibilities that prevent them from establishing a session (e.g., lack of support for a common codec or common media type). When such incompatibilities are found, the UAs need to invoke transcoding services to successfully establish the session. 3pcc (third party call control) [2] is one way to perform such invocation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
使用SIP[4]进行代码转换的框架描述了两个SIP[1]UAs（用户代理）如何发现阻止它们建立会话的不兼容性（例如，缺少对公共编解码器或公共媒体类型的支持）。当发现这种不兼容时，UAs需要调用代码转换服务来成功建立会话。3pcc（第三方呼叫控制）[2]是执行此类调用的一种方法。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. General Overview
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. 概述
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the 3pcc model for transcoding invocation, a transcoding server that provides a particular transcoding service (e.g., speech-to-text) is identified by a URI. A UA that wishes to invoke that service sends an INVITE request to that URI establishing a number of media streams. The way the transcoder manipulates and manages the contents of those media streams (e.g., the text received over the text stream is transformed into speech and sent over the audio stream) is service specific.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在用于转码调用的3pcc模型中，提供特定转码服务（例如，语音到文本）的转码服务器由URI标识。希望调用该服务的UA向该URI发送INVITE请求，以建立多个媒体流。转码器操纵和管理这些媒体流的内容的方式（例如，通过文本流接收的文本被转换为语音并通过音频流发送）是特定于服务的。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All the call flows in this document use SDP. The same call flows could be used with another session description protocol that provides similar session description capabilities.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档中的所有调用流都使用SDP。相同的调用流可用于提供类似会话描述功能的另一个会话描述协议。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. Third Party Call Control Flows
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. 第三方呼叫控制流
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Given two UAs (A and B) and a transcoding server (T), the invocation of a transcoding service consists of establishing two sessions; A-T and T-B. How these sessions are established depends on which party, the caller (A) or the callee (B), invokes the transcoding services. Section 3.2 deals with callee invocation and Section 3.3 deals with caller invocation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
给定两个ua（A和B）和一个转码服务器（T），转码服务的调用包括建立两个会话；A-T和T-B。这些会话的建立方式取决于调用方（A）或被调用方（B）调用转码服务的一方。第3.2节讨论被调用方调用，第3.3节讨论调用方调用。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In all our 3pcc flows we have followed the general principle that a 200 (OK) response from the transcoding service has to be received before contacting the callee. This tries to ensure that the transcoding service will be available when the callee accepts the session.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在我们所有的3pcc流程中，我们遵循的一般原则是，在联系被叫方之前，必须接收来自转码服务的200（OK）响应。这将尝试确保在被调用方接受会话时转码服务可用。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Still, the transcoding service does not know the exact type of transcoding it will be performing until the callee accepts the session. So, there is always the chance of failing to provide transcoding services after the callee has accepted the session. A system with more stringent requirements could use preconditions to avoid this situation. When preconditions are used, the callee is not alerted until everything is ready for the session.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
不过，在被调用方接受会话之前，转码服务并不知道它将执行的转码的确切类型。因此，在被叫方接受会话后，总是有可能无法提供转码服务。要求更严格的系统可以使用先决条件来避免这种情况。使用前提条件时，在会话准备就绪之前，不会向被调用方发出警报。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1. Terminology
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1. 术语
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All the flows in this document follow the naming convention below:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档中的所有流均遵循以下命名约定：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SDP A: A session description generated by A. It contains, among other things, the transport address/es (IP address and port number) where A wants to receive media for each particular stream.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SDP A：由A生成的会话描述。它包括A希望接收每个特定流媒体的传输地址（IP地址和端口号）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SDP B: A session description generated by B. It contains, among other things, the transport address/es where B wants to receive media for each particular stream.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SDP B：由B生成的会话描述。其中包括B希望接收每个特定流媒体的传输地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SDP A+B: A session description that contains, among other things, the transport address/es where A wants to receive media and the transport address/es where B wants to receive media.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SDP A+B：一种会话描述，其中包括A希望接收媒体的传输地址和B希望接收媒体的传输地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SDP TA: A session description generated by T and intended for A. It contains, among other things, the transport address/es where T wants to receive media from A.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SDP TA：由T生成的会话描述，用于A。其中包括T希望从A接收媒体的传输地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SDP TB: A session description generated by T and intended for B. It contains, among other things, the transport address/es where T wants to receive media from B.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SDP TB：由T生成的会话描述，用于B。它包含T希望从B接收媒体的传输地址等内容。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SDP TA+TB: A session description generated by T that contains, among other things, the transport address/es where T wants to receive media from A and the transport address/es where T wants to receive media from B.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SDP TA+TB：由T生成的会话描述，其中包含T希望从A接收媒体的传输地址和T希望从B接收媒体的传输地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2. Callee&#39;s Invocation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2. 被叫调用
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this scenario, B receives an INVITE from A, and B decides to introduce T in the session. Figure 1 shows the call flow for this scenario.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在这个场景中，B收到A的邀请，B决定在会话中引入T。图1显示了此场景的调用流。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In Figure 1, A can both hear and speak, and B is a deaf user with a speech impairment. A proposes to establish a session that consists of an audio stream (1). B wants to send and receive only text, so it invokes a transcoding service T that will perform both speech-to-text and text-to-speech conversions (2). The session descriptions of Figure 1 are partially shown below.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在图1中，A既能听也能说，B是一个有言语障碍的聋哑用户。A提议建立由音频流（1）组成的会话。B只想发送和接收文本，所以它调用一个转码服务T，该服务将执行语音到文本和文本到语音的转换（2）。下面部分显示了图1的会话描述。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
A T B
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
A T B
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      |                            |                            |
      |--------------------(1) INVITE SDP A--------------------&gt;|
      |                            |                            |
      |                            |&lt;---(2) INVITE SDP A+B------|
      |                            |                            |
      |                            |---(3) 200 OK SDP TA+TB----&gt;|
      |                            |                            |
      |                            |&lt;---------(4) ACK-----------|
      |                            |                            |
      |&lt;-------------------(5) 200 OK SDP TA--------------------|
      |                            |                            |
      |------------------------(6) ACK-------------------------&gt;|
      |                            |                            |
      | ************************** | ************************** |
      |*          MEDIA           *|*          MEDIA           *|
      | ************************** | ************************** |
      |                            |                            |
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      |                            |                            |
      |--------------------(1) INVITE SDP A--------------------&gt;|
      |                            |                            |
      |                            |&lt;---(2) INVITE SDP A+B------|
      |                            |                            |
      |                            |---(3) 200 OK SDP TA+TB----&gt;|
      |                            |                            |
      |                            |&lt;---------(4) ACK-----------|
      |                            |                            |
      |&lt;-------------------(5) 200 OK SDP TA--------------------|
      |                            |                            |
      |------------------------(6) ACK-------------------------&gt;|
      |                            |                            |
      | ************************** | ************************** |
      |*          MEDIA           *|*          MEDIA           *|
      | ************************** | ************************** |
      |                            |                            |
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
Figure 1: Callee&#39;s Invocation of a Transcoding Service
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
图1：被调用方对代码转换服务的调用
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(1) INVITE SDP A
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(1) 邀请SDP A
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
m=audio 20000 RTP/AVP 0 c=IN IP4 A.example.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
m=音频20000 RTP/AVP 0 c=在IP4 A.example.com中
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(2) INVITE SDP A+B
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(2) 邀请SDP A+B
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 20000 RTP/AVP 0
           c=IN IP4 A.example.com
           m=text 40000 RTP/AVP 96
           c=IN IP4 B.example.com
           a=rtpmap:96 t140/1000
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 20000 RTP/AVP 0
           c=IN IP4 A.example.com
           m=text 40000 RTP/AVP 96
           c=IN IP4 B.example.com
           a=rtpmap:96 t140/1000
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(3) 200 OK SDP TA+TB
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(3) 200正常SDP TA+TB
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 30000 RTP/AVP 0
           c=IN IP4 T.example.com
           m=text 30002 RTP/AVP 96
           c=IN IP4 T.example.com
           a=rtpmap:96 t140/1000
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 30000 RTP/AVP 0
           c=IN IP4 T.example.com
           m=text 30002 RTP/AVP 96
           c=IN IP4 T.example.com
           a=rtpmap:96 t140/1000
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(5) 200 OK SDP TA
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(5) 200 OK SDP TA
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
m=audio 30000 RTP/AVP 0 c=IN IP4 T.example.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
m=音频30000 RTP/AVP 0 c=在IP4 T.example.com中
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Four media streams (i.e., two bi-directional streams) have been established at this point:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此时已建立四个媒体流（即两个双向流）：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
1. Audio from A to T.example.com:30000
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
1. 从A到T.example.com的音频：30000
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
2. Text from T to B.example.com:40000
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
2. 从T到B.example.com的文本：40000
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
3. Text from B to T.example.com:30002
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
3. 从B到T.example.com的文本：30002
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
4. Audio from T to A.example.com:20000
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
4. 从T到A.example.com的音频：20000
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When either A or B decides to terminate the session, it sends a BYE indicating that the session is over.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当A或B决定终止会话时，它会发送一个BYE，指示会话结束。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the first INVITE (1) received by B is empty (no session description), the call flow is slightly different. Figure 2 shows the messages involved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果B接收到的第一个INVITE（1）为空（无会话描述），则调用流略有不同。图2显示了所涉及的消息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
B may have different reasons for invoking T before knowing A&#39;s session description. B may want to hide its lack of native capabilities, and therefore wants to return a session description with all the codecs that B supports, plus all the codecs that T supports. Or T may provide recording services (besides transcoding), and B wants T to record the conversation, regardless of whether transcoding is needed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在知道A的会话描述之前，B调用T可能有不同的原因。B可能希望隐藏其本机功能的不足，因此希望返回包含B支持的所有编解码器以及T支持的所有编解码器的会话描述。或者T可以提供记录服务（除了转码），B希望T记录对话，而不管是否需要转码。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This scenario (Figure 2) is a bit more complex than the previous one. In INVITE (2), B still does not have SDP A, so it cannot provide T with that information. When B finally receives SDP A in (6), it has to send it to T. B sends an empty INVITE to T (7) and gets a 200 OK with SDP TA+TB (8). In general, this SDP TA+TB can be different than the one sent in (3). That is why B needs to send the updated SDP TA to A in (9). A then sends a possibly updated SDP A (10) and B sends it to T in (12). On the other hand, if T happens to return the same SDP TA+TB in (8) as in (3), B can skip messages (9), (10), and (11). So, implementors of transcoding services are encouraged to return the same session description in (8) as in (3) in this type of scenario. The session descriptions of this flow are shown below:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
这个场景（图2）比前一个场景要复杂一些。在INVITE（2）中，B仍然没有SDPA，因此它不能向T提供该信息。当B最终在（6）中接收到SDP A时，它必须将其发送给T。B向T（7）发送一个空的INVITE，并通过SDP TA+TB（8）获得200 OK。通常，此SDP TA+TB可能不同于（3）中发送的SDP TA+TB。这就是为什么B需要在（9）中将更新的SDP TA发送给A的原因。然后，A发送一个可能更新的SDP A（10），B将其发送给T in（12）。另一方面，如果T恰好返回（8）中与（3）中相同的sdpta+TB，则B可以跳过消息（9）、（10）和（11）。因此，在这种类型的场景中，鼓励代码转换服务的实现者返回（8）中与（3）中相同的会话描述。此流程的会话描述如下所示：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
A T B
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
A T B
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      |                            |                            |
      |----------------------(1) INVITE------------------------&gt;|
      |                            |                            |
      |                            |&lt;-----(2) INVITE SDP B------|
      |                            |                            |
      |                            |---(3) 200 OK SDP TA+TB----&gt;|
      |                            |                            |
      |                            |&lt;---------(4) ACK-----------|
      |                            |                            |
      |&lt;-------------------(5) 200 OK SDP TA--------------------|
      |                            |                            |
      |-----------------------(6) ACK SDP A--------------------&gt;|
      |                            |                            |
      |                            |&lt;-------(7) INVITE----------|
      |                            |                            |
      |                            |---(8) 200 OK SDP TA+TB----&gt;|
      |                            |                            |
      |&lt;-----------------(9) INVITE SDP TA----------------------|
      |                            |                            |
      |------------------(10) 200 OK SDP A---------------------&gt;|
      |                            |                            |
      |&lt;-----------------------(11) ACK-------------------------|
      |                            |                            |
      |                            |&lt;-----(12) ACK SDP A+B------|
      |                            |                            |
      | ************************** | ************************** |
      |*          MEDIA           *|*          MEDIA           *|
      | ************************** | ************************** |
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      |                            |                            |
      |----------------------(1) INVITE------------------------&gt;|
      |                            |                            |
      |                            |&lt;-----(2) INVITE SDP B------|
      |                            |                            |
      |                            |---(3) 200 OK SDP TA+TB----&gt;|
      |                            |                            |
      |                            |&lt;---------(4) ACK-----------|
      |                            |                            |
      |&lt;-------------------(5) 200 OK SDP TA--------------------|
      |                            |                            |
      |-----------------------(6) ACK SDP A--------------------&gt;|
      |                            |                            |
      |                            |&lt;-------(7) INVITE----------|
      |                            |                            |
      |                            |---(8) 200 OK SDP TA+TB----&gt;|
      |                            |                            |
      |&lt;-----------------(9) INVITE SDP TA----------------------|
      |                            |                            |
      |------------------(10) 200 OK SDP A---------------------&gt;|
      |                            |                            |
      |&lt;-----------------------(11) ACK-------------------------|
      |                            |                            |
      |                            |&lt;-----(12) ACK SDP A+B------|
      |                            |                            |
      | ************************** | ************************** |
      |*          MEDIA           *|*          MEDIA           *|
      | ************************** | ************************** |
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Figure 2: Callee&#39;s invocation after initial INVITE without SDP
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
图2：在没有SDP的初始INVITE之后被调用方的调用
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(2) INVITE SDP A+B
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(2) 邀请SDP A+B
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 20000 RTP/AVP 0
           c=IN IP4 0.0.0.0
           m=text 40000 RTP/AVP 96
           c=IN IP4 B.example.com
           a=rtpmap:96 t140/1000
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 20000 RTP/AVP 0
           c=IN IP4 0.0.0.0
           m=text 40000 RTP/AVP 96
           c=IN IP4 B.example.com
           a=rtpmap:96 t140/1000
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(3) 200 OK SDP TA+TB
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(3) 200正常SDP TA+TB
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 30000 RTP/AVP 0
           c=IN IP4 T.example.com
           m=text 30002 RTP/AVP 96
           c=IN IP4 T.example.com
           a=rtpmap:96 t140/1000
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 30000 RTP/AVP 0
           c=IN IP4 T.example.com
           m=text 30002 RTP/AVP 96
           c=IN IP4 T.example.com
           a=rtpmap:96 t140/1000
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(5) 200 OK SDP TA
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(5) 200 OK SDP TA
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
m=audio 30000 RTP/AVP 0 c=IN IP4 T.example.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
m=音频30000 RTP/AVP 0 c=在IP4 T.example.com中
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(6) ACK SDP A
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(6) 确认SDP A
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
m=audio 20000 RTP/AVP 0 c=IN IP4 A.example.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
m=音频20000 RTP/AVP 0 c=在IP4 A.example.com中
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(8) 200 OK SDP TA+TB
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(8) 200正常SDP TA+TB
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 30004 RTP/AVP 0
           c=IN IP4 T.example.com
           m=text 30006 RTP/AVP 96
           c=IN IP4 T.example.com
           a=rtpmap:96 t140/1000
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 30004 RTP/AVP 0
           c=IN IP4 T.example.com
           m=text 30006 RTP/AVP 96
           c=IN IP4 T.example.com
           a=rtpmap:96 t140/1000
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(9) INVITE SDP TA
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(9) 邀请SDP TA
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
m=audio 30004 RTP/AVP 0 c=IN IP4 T.example.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
m=音频30004 RTP/AVP 0 c=在IP4 T.example.com中
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(10) 200 OK SDP A
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
（10） 200 OK SDP A
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
m=audio 20002 RTP/AVP 0 c=IN IP4 A.example.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
m=音频20002 RTP/AVP 0 c=在IP4 A.example.com中
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(12) ACK SDP A+B
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
（12） 确认SDP A+B
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 20002 RTP/AVP 0
           c=IN IP4 A.example.com
           m=text 40000 RTP/AVP 96
           c=IN IP4 B.example.com
           a=rtpmap:96 t140/1000
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 20002 RTP/AVP 0
           c=IN IP4 A.example.com
           m=text 40000 RTP/AVP 96
           c=IN IP4 B.example.com
           a=rtpmap:96 t140/1000
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Four media streams (i.e., two bi-directional streams) have been established at this point:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此时已建立四个媒体流（即两个双向流）：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
1. Audio from A to T.example.com:30004
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
1. 从A到T.example.com的音频：30004
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
2. Text from T to B.example.com:40000
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
2. 从T到B.example.com的文本：40000
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
3. Text from B to T.example.com:30006
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
3. 从B到T.example.com的文本：30006
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
4. Audio from T to A.example.com:20002
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
4. 从T到A.example.com的音频：20002
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3. Caller&#39;s Invocation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3. 调用方调用
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this scenario, A wishes to establish a session with B using a transcoding service. A uses 3pcc to set up the session between T and B. The call flow we provide here is slightly different than the ones in [2]. In [2], the controller establishes a session between two user agents, which are the ones deciding the characteristics of the streams. Here, A wants to establish a session between T and B, but A wants to decide how many and which types of streams are established. That is why A sends its session description in the first INVITE (1) to T, as opposed to the media-less initial INVITE recommended by [2]. Figure 3 shows the call flow for this scenario.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在此场景中，A希望使用转码服务与B建立会话。A使用3pcc设置T和B之间的会话。这里提供的调用流与[2]中的调用流略有不同。在[2]中，控制器在决定流特征的两个用户代理之间建立会话。这里，A想要在T和B之间建立会话，但是A想要确定建立了多少流以及哪些类型的流。这就是为什么A在第一次邀请（1）中向T发送其会话描述，而不是[2]建议的无媒体初始邀请。图3显示了此场景的调用流。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
We do not include the session descriptions of this flow, since they are very similar to those in Figure 2. In this flow, if T returns the same SDP TA+TB in (8) as in (2), messages (9), (10), and (11) can be skipped.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
我们不包括这个流的会话描述，因为它们与图2中的非常相似。在此流中，如果T在（8）中返回与在（2）中相同的SDP TA+TB，则可以跳过消息（9）、（10）和（11）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.4. Receiving the Original Stream
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.4. 接收原始流
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Sometimes, as pointed out in the requirements for SIP in support of deaf, hard of hearing, and speech-impaired individuals [5], a user wants to receive both the original stream (e.g., audio) and the transcoded stream (e.g., the output of the speech-to-text conversion). There are various possible solutions for this problem. One solution consists of using the SDP group attribute with Flow Identification (FID) semantics [3]. FID allows requesting that a stream is sent to two different transport addresses in parallel, as shown below:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
有时，正如支持聋人、听力障碍者和言语障碍者[5]的SIP要求所指出的，用户希望同时接收原始流（例如音频）和转码流（例如，语音到文本转换的输出）。这个问题有各种可能的解决方案。一种解决方案包括使用SDP group属性和流标识（FID）语义[3]。FID允许请求将流并行发送到两个不同的传输地址，如下所示：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
A T B
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
A T B
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      |                            |                            |
      |-------(1) INVITE SDP A----&gt;|                            |
      |                            |                            |
      |&lt;----(2) 200 OK SDP TA+TB---|                            |
      |                            |                            |
      |----------(3) ACK----------&gt;|                            |
      |                            |                            |
      |--------------------(4) INVITE SDP TA-------------------&gt;|
      |                            |                            |
      |&lt;--------------------(5) 200 OK SDP B--------------------|
      |                            |                            |
      |-------------------------(6) ACK------------------------&gt;|
      |                            |                            |
      |--------(7) INVITE---------&gt;|                            |
      |                            |                            |
      |&lt;---(8) 200 OK SDP TA+TB  --|                            |
      |                            |                            |
      |--------------------(9) INVITE SDP TA-------------------&gt;|
      |                            |                            |
      |&lt;-------------------(10) 200 OK SDP B--------------------|
      |                            |                            |
      |-------------------------(11) ACK-----------------------&gt;|
      |                            |                            |
      |------(12) ACK SDP A+B-----&gt;|                            |
      |                            |                            |
      | ************************** | ************************** |
      |*          MEDIA           *|*          MEDIA           *|
      | ************************** | ************************** |
      |                            |                            |
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      |                            |                            |
      |-------(1) INVITE SDP A----&gt;|                            |
      |                            |                            |
      |&lt;----(2) 200 OK SDP TA+TB---|                            |
      |                            |                            |
      |----------(3) ACK----------&gt;|                            |
      |                            |                            |
      |--------------------(4) INVITE SDP TA-------------------&gt;|
      |                            |                            |
      |&lt;--------------------(5) 200 OK SDP B--------------------|
      |                            |                            |
      |-------------------------(6) ACK------------------------&gt;|
      |                            |                            |
      |--------(7) INVITE---------&gt;|                            |
      |                            |                            |
      |&lt;---(8) 200 OK SDP TA+TB  --|                            |
      |                            |                            |
      |--------------------(9) INVITE SDP TA-------------------&gt;|
      |                            |                            |
      |&lt;-------------------(10) 200 OK SDP B--------------------|
      |                            |                            |
      |-------------------------(11) ACK-----------------------&gt;|
      |                            |                            |
      |------(12) ACK SDP A+B-----&gt;|                            |
      |                            |                            |
      | ************************** | ************************** |
      |*          MEDIA           *|*          MEDIA           *|
      | ************************** | ************************** |
      |                            |                            |
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
Figure 3: Caller&#39;s invocation of a transcoding service
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-10">
图3：调用方调用代码转换服务
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           a=group:FID 1 2
           m=audio 20000 RTP/AVP 0
           c=IN IP4 A.example.com
           a=mid:1
           m=audio 30000 RTP/AVP 0
           c=IN IP4 T.example.com
           a=mid:2
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           a=group:FID 1 2
           m=audio 20000 RTP/AVP 0
           c=IN IP4 A.example.com
           a=mid:1
           m=audio 30000 RTP/AVP 0
           c=IN IP4 T.example.com
           a=mid:2
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The problem with this solution is that the majority of the SIP user agents do not support FID. Moreover, only a small fraction of the few UAs that support FID, also support sending simultaneous copies of the same media stream at the same time. In addition, FID forces both copies of the stream to use the same codec.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此解决方案的问题是，大多数SIP用户代理不支持FID。此外，支持FID的少数UAs中只有一小部分还支持同时发送相同媒体流的副本。此外，FID强制流的两个副本使用相同的编解码器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Therefore, we recommend that T (instead of a user agent) replicates the media stream. The transcoder T receiving the following session description performs speech-to-text and text-to-speech conversions between the first audio stream and the text stream. In addition, T copies the first audio stream to the second audio stream and sends it to A.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
因此，我们建议T（而不是用户代理）复制媒体流。接收以下会话描述的转码器T在第一音频流和文本流之间执行语音到文本和文本到语音转换。此外，T将第一音频流复制到第二音频流并将其发送到A。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 40000 RTP/AVP 0
           c=IN IP4 B.example.com
           m=audio 20000 RTP/AVP 0
           c=IN IP4 A.example.com
           a=recvonly
           m=text 20002 RTP/AVP 96
           c=IN IP4 A.example.com
           a=rtpmap:96 t140/1000
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 40000 RTP/AVP 0
           c=IN IP4 B.example.com
           m=audio 20000 RTP/AVP 0
           c=IN IP4 A.example.com
           a=recvonly
           m=text 20002 RTP/AVP 96
           c=IN IP4 A.example.com
           a=rtpmap:96 t140/1000
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.5. Transcoding Services in Parallel
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.5. 并行代码转换服务
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Transcoding services sometimes consist of human relays (e.g., a person performing speech-to-text and text-to-speech conversions for a session). If the same person is involved in both conversions (i.e., from A to B and from B to A), he or she has access to all of the conversation. In order to provide some degree of privacy, sometimes two different persons are allocated to do the job (i.e., one person handles A-&gt;B and the other B-&gt;A). This type of disposition is also useful for automated transcoding services, where one machine converts text to synthetic speech (text-to-speech) and another performs voice recognition (speech-to-text).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
代码转换服务有时包括人工中继（例如，为会话执行语音到文本和文本到语音转换的人员）。如果同一个人同时参与两种转换（即从A到B和从B到A），他或她可以访问所有对话。为了提供某种程度的隐私，有时会分配两个不同的人来做这项工作（即，一个人处理A-&gt;B，另一个人处理B-&gt;A）。这种类型的配置也适用于自动转码服务，其中一台机器将文本转换为合成语音（文本到语音），另一台机器执行语音识别（语音到文本）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The scenario described above involves four different sessions: A-T1, T1-B, B-T2 and T2-A. Figure 4 shows the call flow where A invokes T1 and T2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上述场景涉及四个不同的会话：A-T1、T1-B、B-T2和T2-A。图4显示了A调用T1和T2的调用流。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note this example uses unidirectional media streams (i.e., sendonly or recvonly) to clearly identify which transcoder handles media in which direction. Nevertheless, nothing precludes the use of bidirectional streams in this scenario. They could be used, for example, by a human relay to ask for clarifications (e.g., I did not get that, could you repeat, please?) to the party he or she is receiving media from.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注：此示例使用单向媒体流（即，仅发送或仅接收）来清楚地标识哪个转码器在哪个方向处理媒体。然而，在这种情况下，没有什么可以排除双向流的使用。例如，他们可以被一个人的接力者用来向他或她接收媒体的一方要求澄清（例如，我不明白，你能重复一遍吗？）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(1) INVITE SDP AT1
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(1) 邀请SDP AT1
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 20000 RTP/AVP 96
           c=IN IP4 A.example.com
           a=rtpmap:96 t140/1000
           a=sendonly
           m=audio 20000 RTP/AVP 0
           c=IN IP4 0.0.0.0
           a=recvonly
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 20000 RTP/AVP 96
           c=IN IP4 A.example.com
           a=rtpmap:96 t140/1000
           a=sendonly
           m=audio 20000 RTP/AVP 0
           c=IN IP4 0.0.0.0
           a=recvonly
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(2) INVITE SDP AT2
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(2) 邀请SDP AT2
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 20002 RTP/AVP 96
           c=IN IP4 A.example.com
           a=rtpmap:96 t140/1000
           a=recvonly
           m=audio 20000 RTP/AVP 0
           c=IN IP4 0.0.0.0
           a=sendonly
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 20002 RTP/AVP 96
           c=IN IP4 A.example.com
           a=rtpmap:96 t140/1000
           a=recvonly
           m=audio 20000 RTP/AVP 0
           c=IN IP4 0.0.0.0
           a=sendonly
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(3) 200 OK SDP T1A+T1B
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(3) 200正常SDP T1A+T1B
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 30000 RTP/AVP 96
           c=IN IP4 T1.example.com
           a=rtpmap:96 t140/1000
           a=recvonly
           m=audio 30002 RTP/AVP 0
           c=IN IP4 T1.example.com
           a=sendonly
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 30000 RTP/AVP 96
           c=IN IP4 T1.example.com
           a=rtpmap:96 t140/1000
           a=recvonly
           m=audio 30002 RTP/AVP 0
           c=IN IP4 T1.example.com
           a=sendonly
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(5) 200 OK SDP T2A+T2B
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(5) 200正常SDP T2A+T2B
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 40000 RTP/AVP 96
           c=IN IP4 T2.example.com
           a=rtpmap:96 t140/1000
           a=sendonly
           m=audio 40002 RTP/AVP 0
           c=IN IP4 T2.example.com
           a=recvonly
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 40000 RTP/AVP 96
           c=IN IP4 T2.example.com
           a=rtpmap:96 t140/1000
           a=sendonly
           m=audio 40002 RTP/AVP 0
           c=IN IP4 T2.example.com
           a=recvonly
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(7) INVITE SDP T1B+T2B
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(7) 邀请SDP T1B+T2B
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 30002 RTP/AVP 0
           c=IN IP4 T1.example.com
           a=sendonly
           m=audio 40002 RTP/AVP 0
           c=IN IP4 T2.example.com
           a=recvonly
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 30002 RTP/AVP 0
           c=IN IP4 T1.example.com
           a=sendonly
           m=audio 40002 RTP/AVP 0
           c=IN IP4 T2.example.com
           a=recvonly
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
A T1 T2 B
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
A T1 t2b
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     |                          |                      |             |
     |----(1) INVITE SDP AT1---&gt;|                      |             |
     |                          |                      |             |
     |----------------(2) INVITE SDP AT2--------------&gt;|             |
     |                          |                      |             |
     |&lt;-(3) 200 OK SDP T1A+T1B--|                      |             |
     |                          |                      |             |
     |---------(4) ACK---------&gt;|                      |             |
     |                          |                      |             |
     |&lt;---------------(5) 200 OK SDP T2A+T2B-----------|             |
     |                          |                      |             |
     |----------------------(6) ACK-------------------&gt;|             |
     |                          |                      |             |
     |-----------------------(7) INVITE SDP T1B+T2B-----------------&gt;|
     |                          |                      |             |
     |&lt;----------------------(8) 200 OK SDP BT1+BT2------------------|
     |                          |                      |             |
     |------(9) INVITE---------&gt;|                      |             |
     |                          |                      |             |
     |-------------------(10) INVITE------------------&gt;|             |
     |                          |                      |             |
     |&lt;-(11) 200 OK SDP T1A+T1B-|                      |             |
     |                          |                      |             |
     |&lt;------------(12) 200 OK SDP T2A+T2B-------------|             |
     |                          |                      |             |
     |------------------(13) INVITE SDP T1B+T2B---------------------&gt;|
     |                          |                      |             |
     |&lt;-----------------(14) 200 OK SDP BT1+BT2----------------------|
     |                          |                      |             |
     |--------------------------(15) ACK----------------------------&gt;|
     |                          |                      |             |
     |---(16) ACK SDP AT1+BT1--&gt;|                      |             |
     |                          |                      |             |
     |------------(17) ACK SDP AT2+BT2----------------&gt;|             |
     |                          |                      |             |
     | ************************ | ********************************** |
     |*          MEDIA         *|*               MEDIA              *|
     | ************************ | ********************************** |
     |                          |                      |             |
     | ***********************************************   ***********
     |*                      MEDIA                    *|*   MEDIA   *|
     | *********************************************** | *********** |
     |                          |                      |             |
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     |                          |                      |             |
     |----(1) INVITE SDP AT1---&gt;|                      |             |
     |                          |                      |             |
     |----------------(2) INVITE SDP AT2--------------&gt;|             |
     |                          |                      |             |
     |&lt;-(3) 200 OK SDP T1A+T1B--|                      |             |
     |                          |                      |             |
     |---------(4) ACK---------&gt;|                      |             |
     |                          |                      |             |
     |&lt;---------------(5) 200 OK SDP T2A+T2B-----------|             |
     |                          |                      |             |
     |----------------------(6) ACK-------------------&gt;|             |
     |                          |                      |             |
     |-----------------------(7) INVITE SDP T1B+T2B-----------------&gt;|
     |                          |                      |             |
     |&lt;----------------------(8) 200 OK SDP BT1+BT2------------------|
     |                          |                      |             |
     |------(9) INVITE---------&gt;|                      |             |
     |                          |                      |             |
     |-------------------(10) INVITE------------------&gt;|             |
     |                          |                      |             |
     |&lt;-(11) 200 OK SDP T1A+T1B-|                      |             |
     |                          |                      |             |
     |&lt;------------(12) 200 OK SDP T2A+T2B-------------|             |
     |                          |                      |             |
     |------------------(13) INVITE SDP T1B+T2B---------------------&gt;|
     |                          |                      |             |
     |&lt;-----------------(14) 200 OK SDP BT1+BT2----------------------|
     |                          |                      |             |
     |--------------------------(15) ACK----------------------------&gt;|
     |                          |                      |             |
     |---(16) ACK SDP AT1+BT1--&gt;|                      |             |
     |                          |                      |             |
     |------------(17) ACK SDP AT2+BT2----------------&gt;|             |
     |                          |                      |             |
     | ************************ | ********************************** |
     |*          MEDIA         *|*               MEDIA              *|
     | ************************ | ********************************** |
     |                          |                      |             |
     | ***********************************************   ***********
     |*                      MEDIA                    *|*   MEDIA   *|
     | *********************************************** | *********** |
     |                          |                      |             |
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-16">
Figure 4: Transcoding services in parallel
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-16">
图4：并行转码服务
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(8) 200 OK SDP BT1+BT2
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(8) 200正常SDP BT1+BT2
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 50000 RTP/AVP 0
           c=IN IP4 B.example.com
           a=recvonly
           m=audio 50002 RTP/AVP 0
           c=IN IP4 B.example.com
           a=sendonly
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=audio 50000 RTP/AVP 0
           c=IN IP4 B.example.com
           a=recvonly
           m=audio 50002 RTP/AVP 0
           c=IN IP4 B.example.com
           a=sendonly
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(11) 200 OK SDP T1A+T1B
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
（11） 200正常SDP T1A+T1B
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 30000 RTP/AVP 96
           c=IN IP4 T1.example.com
           a=rtpmap:96 t140/1000
           a=recvonly
           m=audio 30002 RTP/AVP 0
           c=IN IP4 T1.example.com
           a=sendonly
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 30000 RTP/AVP 96
           c=IN IP4 T1.example.com
           a=rtpmap:96 t140/1000
           a=recvonly
           m=audio 30002 RTP/AVP 0
           c=IN IP4 T1.example.com
           a=sendonly
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(12) 200 OK SDP T2A+T2B
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
（12） 200正常SDP T2A+T2B
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 40000 RTP/AVP 96
           c=IN IP4 T2.example.com
           a=rtpmap:96 t140/1000
           a=sendonly
           m=audio 40002 RTP/AVP 0
           c=IN IP4 T2.example.com
           a=recvonly
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 40000 RTP/AVP 96
           c=IN IP4 T2.example.com
           a=rtpmap:96 t140/1000
           a=sendonly
           m=audio 40002 RTP/AVP 0
           c=IN IP4 T2.example.com
           a=recvonly
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Since T1 have returned the same SDP in (11) as in (3), and T2 has returned the same SDP in (12) as in (5), messages (13), (14) and (15) can be skipped.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
由于T1在（11）中返回了与（3）相同的SDP，T2在（12）中返回了与（5）相同的SDP，因此可以跳过消息（13）、（14）和（15）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(16) ACK SDP AT1+BT1
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
（16） 在1+BT1时确认SDP
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 20000 RTP/AVP 96
           c=IN IP4 A.example.com
           a=rtpmap:96 t140/1000
           a=sendonly
           m=audio 50000 RTP/AVP 0
           c=IN IP4 B.example.com
           a=recvonly
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 20000 RTP/AVP 96
           c=IN IP4 A.example.com
           a=rtpmap:96 t140/1000
           a=sendonly
           m=audio 50000 RTP/AVP 0
           c=IN IP4 B.example.com
           a=recvonly
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
(17) ACK SDP AT2+BT2
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
（17） ACK SDP AT2+BT2
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 20002 RTP/AVP 96
           c=IN IP4 A.example.com
           a=rtpmap:96 t140/1000
           a=recvonly
           m=audio 50002 RTP/AVP 0
           c=IN IP4 B.example.com
           a=sendonly
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
           m=text 20002 RTP/AVP 96
           c=IN IP4 A.example.com
           a=rtpmap:96 t140/1000
           a=recvonly
           m=audio 50002 RTP/AVP 0
           c=IN IP4 B.example.com
           a=sendonly
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Four media streams have been established at this point:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此时已建立四个媒体流：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
1. Text from A to T1.example.com:30000
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
1. 从A到T1.example.com的文本：30000
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
2. Audio from T1 to B.example.com:50000
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
2. 从T1到B.example.com的音频：50000
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
3. Audio from B to T2.example.com:40002
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
3. 从B到T2的音频。example.com:40002
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
4. Text from T2 to A.example.com:20002
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
4. 从T2到A.example.com的文本：20002
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that B, the user agent server, needs to support two media streams: sendonly and recvonly. At present, some user agents, although they support a single sendrecv media stream, do not support a different media line per direction. Implementers are encouraged to build support for this feature.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注意，用户代理服务器B需要支持两个媒体流：sendonly和RecvoOnly。目前，一些用户代理虽然支持单个sendrecv媒体流，但不支持每个方向的不同媒体线。鼓励实现者构建对该特性的支持。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.6. Multiple Transcoding Services in Series
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.6. 串联多个转码服务
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In a distributed environment, a complex transcoding service (e.g., English text to Spanish speech) is often provided by several servers. For example, one server performs English text to Spanish text translation, and its output is fed into a server that performs text-to-speech conversion. The flow in Figure 5 shows how A invokes T1 and T2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在分布式环境中，复杂的代码转换服务（例如，英语文本到西班牙语语音）通常由多个服务器提供。例如，一台服务器执行英语文本到西班牙语文本的翻译，其输出被送入执行文本到语音转换的服务器。图5中的流程显示了A如何调用T1和T2。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
A T1 T2 B
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
A T1 t2b
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     |                           |                     |             |
     |----(1) INVITE SDP A-----&gt; |                     |             |
     |                           |                     |             |
     |&lt;-(2) 200 OK SDP T1A+T1T2- |                     |             |
     |                           |                     |             |
     |----------(3) ACK--------&gt; |                     |             |
     |                           |                     |             |
     |-----------(4) INVITE SDP T1T2------------------&gt;|             |
     |                           |                     |             |
     |&lt;-----------(5) 200 OK SDP T2T1+T2B--------------|             |
     |                           |                     |             |
     |---------------------(6) ACK--------------------&gt;|             |
     |                           |                     |             |
     |---------------------------(7) INVITE SDP T2B-----------------&gt;|
     |                           |                     |             |
     |&lt;--------------------------(8) 200 OK SDP B--------------------|
     |                           |                     |             |
     |--------------------------------(9) ACK-----------------------&gt;|
     |                           |                     |             |
     |---(10) INVITE-----------&gt; |                     |             |
     |                           |                     |             |
     |------------------(11) INVITE-------------------&gt;|             |
     |                           |                     |             |
     |&lt;-(12) 200 OK SDP T1A+T1T2-|                     |             |
     |                           |                     |             |
     |&lt;-------------(13) 200 OK SDP T2T1+T2B-----------|             |
     |                           |                     |             |
     |---(14) ACK SDP T1T2+B---&gt; |                     |             |
     |                           |                     |             |
     |-----------------------(15) INVITE SDP T2B--------------------&gt;|
     |                           |                     |             |
     |&lt;----------------------(16) 200 OK SDP B-----------------------|
     |                           |                     |             |
     |----------------(17) ACK SDP T1T2+B-------------&gt;|             |
     |                           |                     |             |
     |----------------------------(18) ACK--------------------------&gt;|
     |                           |                     |             |
     | ************************* | *******************   *********** |
     |*         MEDIA           *|*       MEDIA       *|*   MEDIA   *|
     | ************************* | ******************* | *********** |
     |                           |                     |             |
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
     |                           |                     |             |
     |----(1) INVITE SDP A-----&gt; |                     |             |
     |                           |                     |             |
     |&lt;-(2) 200 OK SDP T1A+T1T2- |                     |             |
     |                           |                     |             |
     |----------(3) ACK--------&gt; |                     |             |
     |                           |                     |             |
     |-----------(4) INVITE SDP T1T2------------------&gt;|             |
     |                           |                     |             |
     |&lt;-----------(5) 200 OK SDP T2T1+T2B--------------|             |
     |                           |                     |             |
     |---------------------(6) ACK--------------------&gt;|             |
     |                           |                     |             |
     |---------------------------(7) INVITE SDP T2B-----------------&gt;|
     |                           |                     |             |
     |&lt;--------------------------(8) 200 OK SDP B--------------------|
     |                           |                     |             |
     |--------------------------------(9) ACK-----------------------&gt;|
     |                           |                     |             |
     |---(10) INVITE-----------&gt; |                     |             |
     |                           |                     |             |
     |------------------(11) INVITE-------------------&gt;|             |
     |                           |                     |             |
     |&lt;-(12) 200 OK SDP T1A+T1T2-|                     |             |
     |                           |                     |             |
     |&lt;-------------(13) 200 OK SDP T2T1+T2B-----------|             |
     |                           |                     |             |
     |---(14) ACK SDP T1T2+B---&gt; |                     |             |
     |                           |                     |             |
     |-----------------------(15) INVITE SDP T2B--------------------&gt;|
     |                           |                     |             |
     |&lt;----------------------(16) 200 OK SDP B-----------------------|
     |                           |                     |             |
     |----------------(17) ACK SDP T1T2+B-------------&gt;|             |
     |                           |                     |             |
     |----------------------------(18) ACK--------------------------&gt;|
     |                           |                     |             |
     | ************************* | *******************   *********** |
     |*         MEDIA           *|*       MEDIA       *|*   MEDIA   *|
     | ************************* | ******************* | *********** |
     |                           |                     |             |
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
Figure 5: Transcoding services in serial
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
图5：串行模式下的代码转换服务
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. 安全考虑
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 3725 [2] discusses security considerations which relate to the use of third party call control in SIP. These considerations apply to this document, since it describes how to use third party call control to invoke transcoding service.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 3725[2]讨论了与SIP中使用第三方呼叫控制相关的安全注意事项。这些注意事项适用于本文档，因为它描述了如何使用第三方调用控制来调用代码转换服务。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In particular, RFC 3725 states that end-to-end media security is based on the exchange of keying material within SDP and depends on the controller behaving properly. That is, the controller should not try to disable the security mechanisms offered by the other parties. As a result, it is trivially possible for the controller to insert itself as an intermediary on the media exchange, if it should so desire.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
特别是，RFC 3725指出，端到端媒体安全性基于SDP内密钥材料的交换，并取决于控制器是否正常工作。也就是说，控制器不应尝试禁用其他方提供的安全机制。因此，如果控制器愿意的话，它很可能在媒体交换上插入自己作为中介。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this document, the controller is the UA invoking the transcoder, and there is a media session established using third party call control between the remote UA and the transcoder. Consequently, the attack described in RFC 3725 does not constitute a threat because the controller is the UA invoking the transcoding service and it has access to the media anyway by definition. So, it seems unlikely that a UA would attempt to launch an attack against its own session by disabling security between the transcoder and the remote UA.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在本文档中，控制器是调用转码器的UA，并且在远程UA和转码器之间使用第三方呼叫控制建立媒体会话。因此，RFC 3725中描述的攻击不构成威胁，因为控制器是调用转码服务的UA，并且根据定义，它无论如何都可以访问媒体。因此，UA不太可能试图通过禁用转码器和远程UA之间的安全性来对自己的会话发起攻击。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Regarding end-to-end media security from the UAs&#39; point of view, the transcoder needs access to the media in order to perform its function. So, by definition, the transcoder behaves as a man in the middle. UAs that do not want a particular transcoder to have access to all the media exchanged between them can use a different transcoder for each direction. In addition, UAs can use different transcoders for different media types.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
从UAs的角度考虑端到端媒体安全，转码器需要访问媒体才能执行其功能。因此，根据定义，代码转换器的行为是中间人。不希望特定转码器访问它们之间交换的所有媒体的UAs可以为每个方向使用不同的转码器。此外，UAs可以为不同的媒体类型使用不同的转码器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. 规范性引用文件
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[1] Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &#34;SIP: Session Initiation Protocol&#34;, RFC 3261, June 2002.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[1] Rosenberg，J.，Schulzrinne，H.，Camarillo，G.，Johnston，A.，Peterson，J.，Sparks，R.，Handley，M.，和E.Schooler，“SIP：会话启动协议”，RFC 3261，2002年6月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[2] Rosenberg, J., Peterson, J., Schulzrinne, H., and G. Camarillo, &#34;Best Current Practices for Third Party Call Control (3pcc) in the Session Initiation Protocol (SIP)&#34;, BCP 85, RFC 3725, April 2004.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[2] Rosenberg，J.，Peterson，J.，Schulzrinne，H.，和G.Camarillo，“会话启动协议（SIP）中第三方呼叫控制（3pcc）的最佳当前实践”，BCP 85，RFC 37252004年4月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[3] Camarillo, G., Eriksson, G., Holler, J., and H. Schulzrinne, &#34;Grouping of Media Lines in the Session Description Protocol (SDP)&#34;, RFC 3388, December 2002.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[3] Camarillo，G.，Eriksson，G.，Holler，J.，和H.Schulzrinne，“会话描述协议（SDP）中媒体线路的分组”，RFC 3388，2002年12月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. Informative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. 资料性引用
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[4] Camarillo, G., &#34;Framework for transcoding with the session initiation protocol&#34;, August 2003, Work in Progress.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[4] Camarillo，G.“使用会话启动协议进行代码转换的框架”，2003年8月，正在进行的工作。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[5] Charlton, N., Gasson, M., Gybels, G., Spanner, M., and A. van Wijk, &#34;User Requirements for the Session Initiation Protocol (SIP) in Support of Deaf, Hard of Hearing and Speech-impaired Individuals&#34;, RFC 3351, August 2002.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[5] N.查尔顿、M.加森、G.吉贝尔斯、M.斯潘纳和A.范威克，“支持聋人、重听人和言语障碍者的会话启动协议（SIP）的用户需求”，RFC 3351，2002年8月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Authors&#39; Addresses
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
作者地址
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Gonzalo Camarillo Ericsson Advanced Signalling Research Lab. FIN-02420 Jorvas Finland
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Gonzalo Camarillo Ericsson高级信号研究实验室FIN-02420 Jorvas芬兰
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail:  Gonzalo.Camarillo@ericsson.com
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail:  Gonzalo.Camarillo@ericsson.com
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Eric Burger Brooktrout Technology, Inc. 18 Keewaydin Way Salem, NH 03079 USA
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Eric Burger Brooktrout Technology，Inc.美国新罕布什尔州塞勒姆市Keewaydin Way 18号，邮编03079
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail:  eburger@brooktrout.com
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail:  eburger@brooktrout.com
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Henning Schulzrinne Dept. of Computer Science Columbia University 1214 Amsterdam Avenue, MC 0401 New York, NY 10027 USA
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
美国纽约州纽约市阿姆斯特丹大道1214号哥伦比亚大学计算机科学系，邮编：10027
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail:  schulzrinne@cs.columbia.edu
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail:  schulzrinne@cs.columbia.edu
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Arnoud van Wijk Viataal Research &amp; Development Afdeling RDS Theerestraat 42 5271 GD Sint-Michielsgestel The Netherlands
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Arnoud van Wijk Viataal研发部位于荷兰圣米切尔塞斯特尔市，邮编42 5271
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail:  a.vwijk@viataal.nl
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   EMail:  a.vwijk@viataal.nl
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Full Copyright Statement
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
完整版权声明
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (C) The Internet Society (2005).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
版权所有（C）互联网协会（2005年）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to the rights, licenses and restrictions contained in BCP 78, and except as set forth therein, the authors retain all their rights.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件受BCP 78中包含的权利、许可和限制的约束，除其中规定外，作者保留其所有权利。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document and the information contained herein are provided on an &#34;AS IS&#34; basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件及其包含的信息是按“原样”提供的，贡献者、他/她所代表或赞助的组织（如有）、互联网协会和互联网工程任务组不承担任何明示或暗示的担保，包括但不限于任何保证，即使用本文中的信息不会侵犯任何权利，或对适销性或特定用途适用性的任何默示保证。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Intellectual Property
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
知识产权
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The IETF takes no position regarding the validity or scope of any Intellectual Property Rights or other rights that might be claimed to pertain to the implementation or use of the technology described in this document or the extent to which any license under such rights might or might not be available; nor does it represent that it has made any independent effort to identify any such rights. Information on the procedures with respect to rights in RFC documents can be found in BCP 78 and BCP 79.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IETF对可能声称与本文件所述技术的实施或使用有关的任何知识产权或其他权利的有效性或范围，或此类权利下的任何许可可能或可能不可用的程度，不采取任何立场；它也不表示它已作出任何独立努力来确定任何此类权利。有关RFC文件中权利的程序信息，请参见BCP 78和BCP 79。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copies of IPR disclosures made to the IETF Secretariat and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementers or users of this specification can be obtained from the IETF on-line IPR repository at http://www.ietf.org/ipr.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
向IETF秘书处披露的知识产权副本和任何许可证保证，或本规范实施者或用户试图获得使用此类专有权利的一般许可证或许可的结果，可从IETF在线知识产权存储库获取，网址为http://www.ietf.org/ipr.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The IETF invites any interested party to bring to its attention any copyrights, patents or patent applications, or other proprietary rights that may cover technology that may be required to implement this standard. Please address the information to the IETF at ietf-ipr@ietf.org.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IETF邀请任何相关方提请其注意任何版权、专利或专利申请，或其他可能涵盖实施本标准所需技术的专有权利。请将信息发送至IETF的IETF-ipr@ietf.org.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Acknowledgement
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
确认
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Funding for the RFC Editor function is currently provided by the Internet Society.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC编辑功能的资金目前由互联网协会提供。
        </p>
      </div>
    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
