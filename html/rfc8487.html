<!DOCTYPE html>

<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name='description' content="RFC 8487: Mtrace Version 2: Traceroute Facility for IP Multicast中文翻译 中文RFC RFC文档 RFC翻译 RFC中文版">
  <title>RFC8487 中文翻译 中文RFC RFC文档 RFC翻译 RFC中文版</title>

  <link rel="shortcut icon" type="image/x-icon"
    href="favicon.ico" />

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="master.css">
  <script src="index.js"></script>
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?b7f7721ebaa11b23aaf77df0590e7f4a";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  <script data-ad-client="ca-pub-9129771189441092" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  
</head>
<body>
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC2CN</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="about.html">打赏</a>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">8487</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc8487">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <div class="row">
      <div id="rfc_header" class="col-sm-12 col-md-12">
        <div class="alert alert-info" role="alert">
          <h1 class="alert-heading">RFC 8487: Mtrace Version 2: Traceroute Facility for IP Multicast 中文翻译</h1>
          <span class="URL">URL :
            <a href="https://datatracker.ietf.org/doc/html/rfc8487">
              https://datatracker.ietf.org/doc/html/rfc8487
            </a>
          </span><br>
          <span class="title_ja">
            标题 : <strong>RFC 8487</strong></span><br>
          <span class="updated_by">翻译类型 : 自动生成</span><br>
        </div>
      </div>
      <div id="rfc_alert" class="col-sm-12 col-md-12 hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                         H. Asaeda
Request for Comments: 8487                                          NICT
Category: Standards Track                                       K. Meyer
ISSN: 2070-1721                                                 Dell EMC
                                                             W. Lee, Ed.
                                                            October 2018
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                         H. Asaeda
Request for Comments: 8487                                          NICT
Category: Standards Track                                       K. Meyer
ISSN: 2070-1721                                                 Dell EMC
                                                             W. Lee, Ed.
                                                            October 2018
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
Mtrace Version 2: Traceroute Facility for IP Multicast
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
Mtrace版本2：用于IP多播的跟踪路由设施
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
摘要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes the IP multicast traceroute facility, named Mtrace version 2 (Mtrace2). Unlike unicast traceroute, Mtrace2 requires special implementations on the part of routers. This specification describes the required functionality in multicast routers, as well as how an Mtrace2 client invokes a Query and receives a Reply.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档描述了名为Mtrace版本2（Mtrace2）的IP多播跟踪路由设施。与单播跟踪路由不同，Mtrace2需要路由器的特殊实现。本规范描述了多播路由器中所需的功能，以及Mtrace2客户端如何调用查询和接收回复。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
关于下段备忘
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This is an Internet Standards Track document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
这是一份互联网标准跟踪文件。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 7841.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件是互联网工程任务组（IETF）的产品。它代表了IETF社区的共识。它已经接受了公众审查，并已被互联网工程指导小组（IESG）批准出版。有关互联网标准的更多信息，请参见RFC 7841第2节。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at https://www.rfc-editor.org/info/rfc8487.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
有关本文件当前状态、任何勘误表以及如何提供反馈的信息，请访问https://www.rfc-editor.org/info/rfc8487.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
版权公告
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (c) 2018 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
版权所有（c）2018 IETF信托基金和确定为文件作者的人员。版权所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents (https://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件受BCP 78和IETF信托有关IETF文件的法律规定的约束(https://trustee.ietf.org/license-info)自本文件出版之日起生效。请仔细阅读这些文件，因为它们描述了您对本文件的权利和限制。从本文件中提取的代码组件必须包括信托法律条款第4.e节中所述的简化BSD许可证文本，并提供简化BSD许可证中所述的无担保。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document may contain material from IETF Documents or IETF Contributions published or made publicly available before November 10, 2008. The person(s) controlling the copyright in some of this material may not have granted the IETF Trust the right to allow modifications of such material outside the IETF Standards Process. Without obtaining an adequate license from the person(s) controlling the copyright in such materials, this document may not be modified outside the IETF Standards Process, and derivative works of it may not be created outside the IETF Standards Process, except to format it for publication as an RFC or to translate it into languages other than English.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件可能包含2008年11月10日之前发布或公开的IETF文件或IETF贡献中的材料。控制某些材料版权的人员可能未授予IETF信托允许在IETF标准流程之外修改此类材料的权利。在未从控制此类材料版权的人员处获得充分许可的情况下，不得在IETF标准流程之外修改本文件，也不得在IETF标准流程之外创建其衍生作品，除了将其格式化以RFC形式发布或将其翻译成英语以外的其他语言。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目录
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   5
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   7
     2.1.  Definitions . . . . . . . . . . . . . . . . . . . . . . .   7
   3.  Packet Formats  . . . . . . . . . . . . . . . . . . . . . . .   8
     3.1.  Mtrace2 TLV Format  . . . . . . . . . . . . . . . . . . .   9
     3.2.  Defined TLVs  . . . . . . . . . . . . . . . . . . . . . .  10
       3.2.1.  Mtrace2 Query . . . . . . . . . . . . . . . . . . . .  10
       3.2.2.  Mtrace2 Request . . . . . . . . . . . . . . . . . . .  12
       3.2.3.  Mtrace2 Reply . . . . . . . . . . . . . . . . . . . .  12
       3.2.4.  IPv4 Mtrace2 Standard Response Block  . . . . . . . .  13
       3.2.5.  IPv6 Mtrace2 Standard Response Block  . . . . . . . .  18
       3.2.6.  Mtrace2 Augmented Response Block  . . . . . . . . . .  20
       3.2.7.  Mtrace2 Extended Query Block  . . . . . . . . . . . .  21
   4.  Router Behavior . . . . . . . . . . . . . . . . . . . . . . .  22
     4.1.  Receiving an Mtrace2 Query  . . . . . . . . . . . . . . .  22
       4.1.1.  Query Packet Verification . . . . . . . . . . . . . .  22
       4.1.2.  Query Normal Processing . . . . . . . . . . . . . . .  23
     4.2.  Receiving an Mtrace2 Request  . . . . . . . . . . . . . .  23
       4.2.1.  Request Packet Verification . . . . . . . . . . . . .  24
       4.2.2.  Request Normal Processing . . . . . . . . . . . . . .  24
     4.3.  Forwarding Mtrace2 Request  . . . . . . . . . . . . . . .  26
       4.3.1.  Destination Address . . . . . . . . . . . . . . . . .  26
       4.3.2.  Source Address  . . . . . . . . . . . . . . . . . . .  26
       4.3.3.  Appending Standard Response Block . . . . . . . . . .  26
     4.4.  Sending Mtrace2 Reply . . . . . . . . . . . . . . . . . .  27
       4.4.1.  Destination Address . . . . . . . . . . . . . . . . .  27
       4.4.2.  Source Address  . . . . . . . . . . . . . . . . . . .  27
       4.4.3.  Appending Standard Response Block . . . . . . . . . .  27
     4.5.  Proxying Mtrace2 Query  . . . . . . . . . . . . . . . . .  28
     4.6.  Hiding Information  . . . . . . . . . . . . . . . . . . .  28
   5.  Client Behavior . . . . . . . . . . . . . . . . . . . . . . .  29
     5.1.  Sending Mtrace2 Query . . . . . . . . . . . . . . . . . .  29
       5.1.1.  Destination Address . . . . . . . . . . . . . . . . .  29
       5.1.2.  Source Address  . . . . . . . . . . . . . . . . . . .  29
     5.2.  Determining the Path  . . . . . . . . . . . . . . . . . .  29
     5.3.  Collecting Statistics . . . . . . . . . . . . . . . . . .  29
     5.4.  Last-Hop Router (LHR) . . . . . . . . . . . . . . . . . .  30
     5.5.  First-Hop Router (FHR)  . . . . . . . . . . . . . . . . .  30
     5.6.  Broken Intermediate Router  . . . . . . . . . . . . . . .  30
     5.7.  Non-supported Router  . . . . . . . . . . . . . . . . . .  30
     5.8.  Mtrace2 Termination . . . . . . . . . . . . . . . . . . .  31
       5.8.1.  Arriving at Source  . . . . . . . . . . . . . . . . .  31
       5.8.2.  Fatal Error . . . . . . . . . . . . . . . . . . . . .  31
       5.8.3.  No Upstream Router  . . . . . . . . . . . . . . . . .  31
       5.8.4.  Reply Timeout . . . . . . . . . . . . . . . . . . . .  31
     5.9.  Continuing after an Error . . . . . . . . . . . . . . . .  31
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   5
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   7
     2.1.  Definitions . . . . . . . . . . . . . . . . . . . . . . .   7
   3.  Packet Formats  . . . . . . . . . . . . . . . . . . . . . . .   8
     3.1.  Mtrace2 TLV Format  . . . . . . . . . . . . . . . . . . .   9
     3.2.  Defined TLVs  . . . . . . . . . . . . . . . . . . . . . .  10
       3.2.1.  Mtrace2 Query . . . . . . . . . . . . . . . . . . . .  10
       3.2.2.  Mtrace2 Request . . . . . . . . . . . . . . . . . . .  12
       3.2.3.  Mtrace2 Reply . . . . . . . . . . . . . . . . . . . .  12
       3.2.4.  IPv4 Mtrace2 Standard Response Block  . . . . . . . .  13
       3.2.5.  IPv6 Mtrace2 Standard Response Block  . . . . . . . .  18
       3.2.6.  Mtrace2 Augmented Response Block  . . . . . . . . . .  20
       3.2.7.  Mtrace2 Extended Query Block  . . . . . . . . . . . .  21
   4.  Router Behavior . . . . . . . . . . . . . . . . . . . . . . .  22
     4.1.  Receiving an Mtrace2 Query  . . . . . . . . . . . . . . .  22
       4.1.1.  Query Packet Verification . . . . . . . . . . . . . .  22
       4.1.2.  Query Normal Processing . . . . . . . . . . . . . . .  23
     4.2.  Receiving an Mtrace2 Request  . . . . . . . . . . . . . .  23
       4.2.1.  Request Packet Verification . . . . . . . . . . . . .  24
       4.2.2.  Request Normal Processing . . . . . . . . . . . . . .  24
     4.3.  Forwarding Mtrace2 Request  . . . . . . . . . . . . . . .  26
       4.3.1.  Destination Address . . . . . . . . . . . . . . . . .  26
       4.3.2.  Source Address  . . . . . . . . . . . . . . . . . . .  26
       4.3.3.  Appending Standard Response Block . . . . . . . . . .  26
     4.4.  Sending Mtrace2 Reply . . . . . . . . . . . . . . . . . .  27
       4.4.1.  Destination Address . . . . . . . . . . . . . . . . .  27
       4.4.2.  Source Address  . . . . . . . . . . . . . . . . . . .  27
       4.4.3.  Appending Standard Response Block . . . . . . . . . .  27
     4.5.  Proxying Mtrace2 Query  . . . . . . . . . . . . . . . . .  28
     4.6.  Hiding Information  . . . . . . . . . . . . . . . . . . .  28
   5.  Client Behavior . . . . . . . . . . . . . . . . . . . . . . .  29
     5.1.  Sending Mtrace2 Query . . . . . . . . . . . . . . . . . .  29
       5.1.1.  Destination Address . . . . . . . . . . . . . . . . .  29
       5.1.2.  Source Address  . . . . . . . . . . . . . . . . . . .  29
     5.2.  Determining the Path  . . . . . . . . . . . . . . . . . .  29
     5.3.  Collecting Statistics . . . . . . . . . . . . . . . . . .  29
     5.4.  Last-Hop Router (LHR) . . . . . . . . . . . . . . . . . .  30
     5.5.  First-Hop Router (FHR)  . . . . . . . . . . . . . . . . .  30
     5.6.  Broken Intermediate Router  . . . . . . . . . . . . . . .  30
     5.7.  Non-supported Router  . . . . . . . . . . . . . . . . . .  30
     5.8.  Mtrace2 Termination . . . . . . . . . . . . . . . . . . .  31
       5.8.1.  Arriving at Source  . . . . . . . . . . . . . . . . .  31
       5.8.2.  Fatal Error . . . . . . . . . . . . . . . . . . . . .  31
       5.8.3.  No Upstream Router  . . . . . . . . . . . . . . . . .  31
       5.8.4.  Reply Timeout . . . . . . . . . . . . . . . . . . . .  31
     5.9.  Continuing after an Error . . . . . . . . . . . . . . . .  31
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
   6.  Protocol-Specific Considerations  . . . . . . . . . . . . . .  32
     6.1.  PIM-SM  . . . . . . . . . . . . . . . . . . . . . . . . .  32
     6.2.  Bidirectional PIM . . . . . . . . . . . . . . . . . . . .  32
     6.3.  PIM-DM  . . . . . . . . . . . . . . . . . . . . . . . . .  32
     6.4.  IGMP/MLD Proxy  . . . . . . . . . . . . . . . . . . . . .  33
   7.  Problem Diagnosis . . . . . . . . . . . . . . . . . . . . . .  33
     7.1.  Forwarding Inconsistencies  . . . . . . . . . . . . . . .  33
     7.2.  TTL or Hop-Limit Problems . . . . . . . . . . . . . . . .  33
     7.3.  Packet Loss . . . . . . . . . . . . . . . . . . . . . . .  33
     7.4.  Link Utilization  . . . . . . . . . . . . . . . . . . . .  34
     7.5.  Time Delay  . . . . . . . . . . . . . . . . . . . . . . .  34
   8.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  34
     8.1.  &#34;Mtrace2 Forwarding Codes&#34; Registry . . . . . . . . . . .  35
     8.2.  &#34;Mtrace2 TLV Types&#34; Registry  . . . . . . . . . . . . . .  35
     8.3.  UDP Destination Port  . . . . . . . . . . . . . . . . . .  35
   9.  Security Considerations . . . . . . . . . . . . . . . . . . .  35
     9.1.  Addresses in Mtrace2 Header . . . . . . . . . . . . . . .  35
     9.2.  Verification of Clients and Peers . . . . . . . . . . . .  35
     9.3.  Topology Discovery  . . . . . . . . . . . . . . . . . . .  36
     9.4.  Characteristics of Multicast Channel  . . . . . . . . . .  36
     9.5.  Limiting Query/Request Rates  . . . . . . . . . . . . . .  37
     9.6.  Limiting Reply Rates  . . . . . . . . . . . . . . . . . .  37
     9.7.  Specific Security Concerns  . . . . . . . . . . . . . . .  37
       9.7.1.  Request and Response Bombardment  . . . . . . . . . .  37
       9.7.2.  Amplification Attack  . . . . . . . . . . . . . . . .  37
       9.7.3.  Leaking of Confidential Topology Details  . . . . . .  38
       9.7.4.  Delivery of False Information (Forged Reply Messages)  38
   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .  39
     10.1.  Normative References . . . . . . . . . . . . . . . . . .  39
     10.2.  Informative References . . . . . . . . . . . . . . . . .  40
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  41
   Authors&#39; Addresses  . . . . . . . . . . . . . . . . . . . . . . .  41
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace toc">
   6.  Protocol-Specific Considerations  . . . . . . . . . . . . . .  32
     6.1.  PIM-SM  . . . . . . . . . . . . . . . . . . . . . . . . .  32
     6.2.  Bidirectional PIM . . . . . . . . . . . . . . . . . . . .  32
     6.3.  PIM-DM  . . . . . . . . . . . . . . . . . . . . . . . . .  32
     6.4.  IGMP/MLD Proxy  . . . . . . . . . . . . . . . . . . . . .  33
   7.  Problem Diagnosis . . . . . . . . . . . . . . . . . . . . . .  33
     7.1.  Forwarding Inconsistencies  . . . . . . . . . . . . . . .  33
     7.2.  TTL or Hop-Limit Problems . . . . . . . . . . . . . . . .  33
     7.3.  Packet Loss . . . . . . . . . . . . . . . . . . . . . . .  33
     7.4.  Link Utilization  . . . . . . . . . . . . . . . . . . . .  34
     7.5.  Time Delay  . . . . . . . . . . . . . . . . . . . . . . .  34
   8.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  34
     8.1.  &#34;Mtrace2 Forwarding Codes&#34; Registry . . . . . . . . . . .  35
     8.2.  &#34;Mtrace2 TLV Types&#34; Registry  . . . . . . . . . . . . . .  35
     8.3.  UDP Destination Port  . . . . . . . . . . . . . . . . . .  35
   9.  Security Considerations . . . . . . . . . . . . . . . . . . .  35
     9.1.  Addresses in Mtrace2 Header . . . . . . . . . . . . . . .  35
     9.2.  Verification of Clients and Peers . . . . . . . . . . . .  35
     9.3.  Topology Discovery  . . . . . . . . . . . . . . . . . . .  36
     9.4.  Characteristics of Multicast Channel  . . . . . . . . . .  36
     9.5.  Limiting Query/Request Rates  . . . . . . . . . . . . . .  37
     9.6.  Limiting Reply Rates  . . . . . . . . . . . . . . . . . .  37
     9.7.  Specific Security Concerns  . . . . . . . . . . . . . . .  37
       9.7.1.  Request and Response Bombardment  . . . . . . . . . .  37
       9.7.2.  Amplification Attack  . . . . . . . . . . . . . . . .  37
       9.7.3.  Leaking of Confidential Topology Details  . . . . . .  38
       9.7.4.  Delivery of False Information (Forged Reply Messages)  38
   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .  39
     10.1.  Normative References . . . . . . . . . . . . . . . . . .  39
     10.2.  Informative References . . . . . . . . . . . . . . . . .  40
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  41
   Authors&#39; Addresses  . . . . . . . . . . . . . . . . . . . . . . .  41
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. 介绍
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Given a multicast distribution tree, tracing hop-by-hop downstream from a multicast source to a given multicast receiver is difficult because there is no efficient and deterministic way to determine the branch of the multicast routing tree on which that receiver lies. On the other hand, walking up the tree from a receiver to a source is easy, as most existing multicast routing protocols know the upstream router for each source. Tracing from a receiver to a source can involve only the routers on the direct path.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
给定多播分布树，很难逐跳跟踪从多播源到给定多播接收器的下游，因为没有有效且确定的方法来确定该接收器所在的多播路由树的分支。另一方面，从一个接收器到一个源沿着树走很容易，因为大多数现有的多播路由协议都知道每个源的上游路由器。从接收器到源的跟踪只能涉及直接路径上的路由器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document specifies the multicast traceroute facility named Mtrace version 2 or Mtrace2, which allows the tracing of an IP multicast routing path. Mtrace2 is usually initiated from an Mtrace2 client by sending an Mtrace2 Query to a Last-Hop Router (LHR) or to a Rendezvous Point (RP). The RP is a special router where sources and receivers meet in Protocol Independent Multicast - Sparse Mode (PIM-SM) [5]. From the LHR/RP receiving the Query, the tracing is directed towards a specified source if a source address is specified and a source-specific state exists on the receiving router. If no source address is specified or if no source-specific state exists on a receiving LHR, the tracing is directed toward the RP for the specified group address. Moreover, Mtrace2 provides additional information such as the packet rates and losses, as well as other diagnostic information. Mtrace2 is primarily intended for the following purposes:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档指定了名为Mtrace version 2或Mtrace2的多播跟踪路由设施，该设施允许跟踪IP多播路由路径。Mtrace2通常通过向最后一跳路由器（LHR）或集合点（RP）发送Mtrace2查询，从Mtrace2客户端启动。RP是一种特殊的路由器，源和接收器在协议独立的多播稀疏模式（PIM-SM）下相遇[5]。从接收查询的LHR/RP，如果指定了源地址并且接收路由器上存在特定于源的状态，则跟踪将指向指定的源。如果未指定源地址或接收LHR上不存在源特定状态，则跟踪将指向指定组地址的RP。此外，Mtrace2还提供附加信息，如数据包速率和丢失，以及其他诊断信息。Mtrace2主要用于以下目的：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o To trace the path that a packet would take from a source to a receiver.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 跟踪数据包从源到接收器的路径。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o To isolate packet-loss problems (e.g., congestion).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 隔离数据包丢失问题（例如拥塞）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o To isolate configuration problems (e.g., Time to live (TTL) threshold).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 隔离配置问题（例如，生存时间（TTL）阈值）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following figure shows a typical case of how Mtrace2 is used. FHR represents the first-hop router, LHR represents the last-hop router, and the arrow lines represent the Mtrace2 messages that are sent from one node to another. The numbers before the Mtrace2 messages represent the sequence of the messages that would happen. The source, receiver, and Mtrace2 client are typically hosts.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
下图显示了如何使用Mtrace2的典型案例。FHR表示第一跳路由器，LHR表示最后一跳路由器，箭头线表示从一个节点发送到另一个节点的Mtrace2消息。Mtrace2消息前的数字表示将发生的消息序列。源、接收器和Mtrace2客户端通常是主机。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                  2. Request                 2. Request
                    +----+                    +----+
                    |    |                    |    |
                    v    |                    v    |
   +--------+    +-----+                        +-----+    +----------+
   | Source |----| FHR |----- The Internet -----| LHR |----| Receiver |
   +--------+    +-----+            |           +-----+    +----------+
                     \              |             ^
                      \             |            /
                       \            |           /
                        \           |          /
                3. Reply \          |         / 1. Query
                          \         |        /
                           \        |       /
                            \  +---------+ /
                             v | Mtrace2 |/
                               | Client  |
                               +---------+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
                  2. Request                 2. Request
                    +----+                    +----+
                    |    |                    |    |
                    v    |                    v    |
   +--------+    +-----+                        +-----+    +----------+
   | Source |----| FHR |----- The Internet -----| LHR |----| Receiver |
   +--------+    +-----+            |           +-----+    +----------+
                     \              |             ^
                      \             |            /
                       \            |           /
                        \           |          /
                3. Reply \          |         / 1. Query
                          \         |        /
                           \        |       /
                            \  +---------+ /
                             v | Mtrace2 |/
                               | Client  |
                               +---------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an Mtrace2 client initiates a multicast trace, it sends an Mtrace2 Query packet to an LHR or RP for a multicast group and, optionally, a source address. The LHR/RP turns the Query packet into a Request. The Request message type enables each of the upstream routers processing the message to apply different packet and message validation rules than those required for the handling of a Query message. The LHR/RP then appends a Standard Response Block containing its interface addresses and packet statistics to the Request packet, then forwards the packet towards the source/RP. The Request packet is either unicasted to its upstream router towards the source/RP or multicasted to the group if the upstream router&#39;s IP address is not known. In a similar fashion, each router along the path to the source/RP appends a Standard Response Block to the end of the Request packet before forwarding it to its upstream router. When the FHR receives the Request packet, it appends its own Standard Response Block, turns the Request packet into a Reply, and unicasts the Reply back to the Mtrace2 client.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当Mtrace2客户端启动多播跟踪时，它会向多播组的LHR或RP发送Mtrace2查询数据包，还可以选择发送源地址。LHR/RP将查询数据包转换为请求。请求消息类型使处理消息的每个上游路由器能够应用不同于处理查询消息所需的分组和消息验证规则。然后，LHR/RP将包含其接口地址和数据包统计信息的标准响应块附加到请求数据包，然后将数据包转发到源/RP。如果上游路由器的IP地址未知，则请求数据包要么单播到其上游路由器，要么多播到组。以类似的方式，沿到源/RP的路径的每个路由器在将请求分组转发到其上游路由器之前，将标准响应块附加到请求分组的末尾。当FHR接收到请求包时，它附加自己的标准响应块，将请求包转换为应答，并将应答单播回Mtrace2客户端。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Mtrace2 Reply may be returned before reaching the FHR under some circumstances. This can happen if a Request packet is received at an RP or gateway, or when any of several types of error or exception conditions occur that prevent the sending of a Request to the next upstream router.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在某些情况下，Mtrace2回复可能在到达FHR之前返回。如果在RP或网关处接收到请求数据包，或者发生了阻止向下一个上游路由器发送请求的任何类型的错误或异常情况，则可能发生这种情况。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Mtrace2 client waits for the Mtrace2 Reply message and displays the results. When not receiving an Mtrace2 Reply message due to network congestion, a broken router (see Section 5.6), or a non-responding router (see Section 5.7), the Mtrace2 client may resend another Mtrace2 Query with a lower hop count (see Section 3.2.1) and
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2客户端等待Mtrace2回复消息并显示结果。当由于网络拥塞、路由器损坏（见第5.6节）或无响应路由器（见第5.7节）而未收到Mtrace2回复消息时，Mtrace2客户端可重新发送另一个跳数较低的Mtrace2查询（见第3.2.1节），以及
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
repeat the process until it receives an Mtrace2 Reply message. The details are specific to the Mtrace2 client and outside the scope of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
重复此过程，直到收到Mtrace2回复消息。详细信息针对Mtrace2客户，不在本文档范围内。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that when a router&#39;s control plane and forwarding plane are out of sync, the Mtrace2 Requests might be forwarded based on the control states instead. In this case, the traced path might not represent the real path the data packets would follow.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
请注意，当路由器的控制平面和转发平面不同步时，Mtrace2请求可能会根据控制状态进行转发。在这种情况下，跟踪的路径可能不代表数据包将遵循的真实路径。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2 supports both IPv4 and IPv6. Unlike the previous version of Mtrace, which implements its query and response as Internet Group Management Protocol (IGMP) messages [10], all Mtrace2 messages are UDP based. Although the packet formats of IPv4 and IPv6 Mtrace2 are different because of the address families, the syntax between them is similar.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2同时支持IPv4和IPv6。与以前版本的Mtrace不同，Mtrace将其查询和响应实现为Internet组管理协议（IGMP）消息[10]，所有Mtrace2消息都基于UDP。虽然IPv4和IPv6 Mtrace2的数据包格式因地址系列不同而不同，但它们之间的语法相似。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes the base specification of Mtrace2 that can serve as a basis for future proposals such as Mtrace2 for Automatic Multicast Tunneling (AMT) [16] and Mtrace2 for Multicast in MPLS/BGP IP VPNs (known as Multicast VPN (MVPN)) [15]. They are, therefore, out of the scope of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档描述了Mtrace2的基本规范，该规范可作为未来提案的基础，如Mtrace2用于自动多播隧道（AMT）[16]和Mtrace2用于MPLS/BGP IP VPN中的多播（称为多播VPN（MVPN））[15]。因此，它们不在本文件的范围内。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. Terminology
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. 术语
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;NOT RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this document are to be interpreted as described in BCP 14 [1] [7] when, and only when, they appear in all capitals, as shown here. The key words indicate requirement levels for compliant Mtrace2 implementations.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文件中的关键词“必须”、“不得”、“必需”、“应”、“不应”、“建议”、“不建议”、“可”和“可选”在所有大写字母出现时（如图所示）应按照BCP 14[1][7]中所述进行解释。关键词表示符合Mtrace2实施的需求级别。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.1. Definitions
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.1. 定义
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Since Mtrace2 Queries and Requests flow in the opposite direction to the data flow, we refer to &#34;upstream&#34; and &#34;downstream&#34; with respect to data, unless explicitly specified.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
由于Mtrace2查询和请求的流动方向与数据流的流动方向相反，除非明确指定，否则我们在数据方面称为“上游”和“下游”。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Incoming Interface: The interface on which data is expected to arrive from the specified source and group.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
传入接口：预期数据将从指定的源和组到达的接口。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Outgoing Interface: This is one of the interfaces to which data from the source or RP is expected to be transmitted for the specified source and group. It is also the interface on which the Mtrace2 Request was received.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
传出接口：对于指定的源和组，源或RP的数据预期将传输到其中的一个接口。它也是接收Mtrace2请求的接口。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Upstream router: The router, connecting to the Incoming Interface of the current router, which is responsible for forwarding data for the specified source and group to the current router.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上游路由器：连接到当前路由器的传入接口的路由器，负责将指定源和组的数据转发到当前路由器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
First-Hop Router (FHR): The router that is directly connected to the source the Mtrace2 Query specifies.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
第一跳路由器（FHR）：直接连接到Mtrace2查询指定的源的路由器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Last-Hop Router (LHR): A router that is directly connected to a receiver. It is also the router that receives the Mtrace2 Query from an Mtrace2 client.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
最后一跳路由器（LHR）：直接连接到接收器的路由器。它也是从Mtrace2客户端接收Mtrace2查询的路由器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Group state: The state a shared-tree protocol, such as Protocol Independent Multicast - Sparse Mode (PIM-SM) [5], uses to choose the upstream router towards the RP for the specified group. In this state, source-specific state is not available for the corresponding group address on the router.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
组状态：共享树协议的状态，如协议独立多播-稀疏模式（PIM-SM）[5]，用于为指定组选择朝向RP的上游路由器。在此状态下，特定于源的状态对于路由器上的相应组地址不可用。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Source-specific state: The state that is used to choose the path towards the source for the specified source and group.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
源特定状态：用于为指定源和组选择指向源的路径的状态。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ALL-[protocol]-ROUTERS group: Link-local multicast address for multicast routers to communicate with their adjacent routers that are running the same routing protocol. For instance, the IPv4 &#39;ALL-PIM-ROUTERS&#39; group is &#39;224.0.0.13&#39;, and the IPv6 &#39;ALL-PIM-ROUTERS&#39; group is &#39;ff02::d&#39; [5].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ALL-[协议]-路由器组：链接多播路由器的本地多播地址，以便与运行相同路由协议的相邻路由器通信。例如，IPv4“ALL-PIM-ROUTERS”组为“224.0.0.13”，IPv6“ALL-PIM-ROUTERS”组为“ff02:：d”[5]。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. Packet Formats
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. 包格式
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section describes the details of the packet formats for Mtrace2 messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节介绍Mtrace2消息的数据包格式的详细信息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All Mtrace2 messages are encoded in the Type/Length/Value (TLV) format (see Section 3.1). The first TLV of a message is a message header TLV specifying the type of message and additional context information required for processing of the message and for parsing of subsequent TLVs in the message. Subsequent TLVs in a message, referred to as Blocks, are appended after the header TLV to provide additional information associated with the message. If an implementation receives an unknown TLV Type for any TLV in a message, it SHOULD ignore and silently discard the entire packet. If the length of a TLV exceeds the available space in the containing packet, the implementation MUST ignore and silently discard the TLV and any remaining portion of the containing packet.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
所有Mtrace2消息均采用类型/长度/值（TLV）格式编码（见第3.1节）。消息的第一个TLV是消息头TLV，指定消息类型以及处理消息和解析消息中后续TLV所需的附加上下文信息。消息中的后续TLV（称为块）附加在报头TLV之后，以提供与消息相关的附加信息。如果实现接收到消息中任何TLV的未知TLV类型，它应该忽略并静默地丢弃整个数据包。如果TLV的长度超过了包含数据包中的可用空间，则实现必须忽略并静默地丢弃TLV和包含数据包的任何剩余部分。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
All Mtrace2 messages are UDP packets. For IPv4, Mtrace2 Query/Request/Reply messages MUST NOT be fragmented. Therefore, Mtrace2 clients and LHRs/RPs MUST set the IP header do-not-fragment (DF) bit for all Mtrace2 messages. For IPv6, the packet size for the Mtrace2 messages MUST NOT exceed 1280 bytes, which is the smallest Maximum Transmission Unit (MTU) for an IPv6 interface [8]. The source port is uniquely selected by the local host operating system. The destination port is the IANA-reserved Mtrace2 port number (see Section 8). All Mtrace2 messages MUST have a valid UDP checksum.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
所有Mtrace2消息都是UDP数据包。对于IPv4，Mtrace2查询/请求/回复消息不得分段。因此，Mtrace2客户端和LHR/RPs必须为所有Mtrace2消息设置IP头不分段（DF）位。对于IPv6，Mtrace2消息的数据包大小不得超过1280字节，这是IPv6接口的最小最大传输单元（MTU）[8]。源端口由本地主机操作系统唯一选择。目标端口是IANA保留的Mtrace2端口号（参见第8节）。所有Mtrace2消息必须具有有效的UDP校验和。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Additionally, Mtrace2 supports both IPv4 and IPv6, but not when mixed. For example, if an Mtrace2 Query or Request message arrives as an IPv4 packet, all addresses specified in the Mtrace2 messages MUST be IPv4 as well. The same rule applies to IPv6 Mtrace2 messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此外，Mtrace2同时支持IPv4和IPv6，但混合使用时不支持。例如，如果Mtrace2查询或请求消息作为IPv4数据包到达，则Mtrace2消息中指定的所有地址也必须是IPv4。同样的规则也适用于IPv6 Mtrace2消息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1. Mtrace2 TLV Format
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1. Mtrace2 TLV格式
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |           Length              |   Value ....  |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |           Length              |   Value ....  |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Type: 8 bits
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
类型：8位
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Describes the format of the Value field. For all the available types, please see Section 3.2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
描述值字段的格式。有关所有可用类型，请参见第3.2节。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Length: 16 bits
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
长度：16位
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Length of Type, Length, and Value fields in octets. Minimum length required is 4 octets. The length MUST be a multiple of 4 octets. The maximum TLV length is not defined; however, the entire Mtrace2 packet length MUST NOT exceed the available MTU.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
类型、长度和值字段的长度（以八位字节为单位）。所需的最小长度为4个八位字节。长度必须是4个八位字节的倍数。未定义最大TLV长度；但是，整个Mtrace2数据包长度不得超过可用MTU。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Value: variable length
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
值：可变长度
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
The format is based on the Type value. The length of the Value field is the Length field minus 3. All reserved fields in the Value field MUST be transmitted as zeros and ignored on receipt.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
格式基于类型值。值字段的长度是长度字段减去3。值字段中的所有保留字段必须作为零传输，并在接收时忽略。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2. Defined TLVs
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2. 定义的TLV
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following TLV Types are defined:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
定义了以下TLV类型：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
         Code         Type
         ====         ================================
         0x00         Reserved
         0x01         Mtrace2 Query
         0x02         Mtrace2 Request
         0x03         Mtrace2 Reply
         0x04         Mtrace2 Standard Response Block
         0x05         Mtrace2 Augmented Response Block
         0x06         Mtrace2 Extended Query Block
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
         Code         Type
         ====         ================================
         0x00         Reserved
         0x01         Mtrace2 Query
         0x02         Mtrace2 Request
         0x03         Mtrace2 Reply
         0x04         Mtrace2 Standard Response Block
         0x05         Mtrace2 Augmented Response Block
         0x06         Mtrace2 Extended Query Block
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Each Mtrace2 message MUST begin with either a Query, a Request, or a Reply TLV. The first TLV determines the type of each Mtrace2 message. Following a Query TLV, there can be a sequence of optional Extended Query Blocks. In the case of a Request or a Reply TLV, it is then followed by a sequence of Standard Response Blocks, each from a multicast router on the path towards the source or the RP. In the case where more information is needed, a Standard Response Block can be followed by one or multiple Augmented Response Blocks.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
每个Mtrace2消息必须以查询、请求或回复TLV开头。第一个TLV确定每个Mtrace2消息的类型。在查询TLV之后，可以有一系列可选的扩展查询块。在请求或应答TLV的情况下，随后是一系列标准响应块，每个标准响应块来自指向源或RP的路径上的多播路由器。在需要更多信息的情况下，标准响应块后面可以是一个或多个增强响应块。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
We will describe each message type in detail in the next few sections.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
我们将在接下来的几节中详细描述每种消息类型。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.1. Mtrace2 Query
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.1. Mtrace2查询
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An Mtrace2 Query is originated by an Mtrace2 client, which sends an Mtrace2 Query message to the LHR. The LHR modifies only the Type field of the Query TLV (to turn it into a &#34;Request&#34;) before appending a Standard Response Block and forwarding it upstream. The LHR and intermediate routers handling the Mtrace2 message when tracing upstream MUST NOT modify any other fields within the Query/Request TLV. Additionally, intermediate routers handling the message after the LHR has converted the Query into a Request MUST NOT modify the Type field of the Request TLV. If the actual number of hops is not known, an Mtrace2 client could send an initial Query message with a large # Hops (e.g., 0xff), in order to try to trace the full path.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2查询由Mtrace2客户端发起，该客户端向LHR发送Mtrace2查询消息。LHR只修改查询TLV的类型字段（将其转换为“请求”），然后追加标准响应块并将其转发到上游。跟踪上游时处理Mtrace2消息的LHR和中间路由器不得修改查询/请求TLV中的任何其他字段。此外，在LHR将查询转换为请求后处理消息的中间路由器不得修改请求TLV的类型字段。如果不知道实际跳数，Mtrace2客户端可以发送带有大跳数（例如0xff）的初始查询消息，以尝试跟踪完整路径。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An Mtrace2 Query message is shown as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2查询消息如下所示：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |           Length              |    # Hops     |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     |                      Multicast Address                        |
     |                                                               |
     +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+
     |                                                               |
     |                        Source Address                         |
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     |                    Mtrace2 Client Address                     |
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |            Query ID           |         Client Port #         |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |           Length              |    # Hops     |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     |                      Multicast Address                        |
     |                                                               |
     +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+
     |                                                               |
     |                        Source Address                         |
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     |                    Mtrace2 Client Address                     |
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |            Query ID           |         Client Port #         |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Length: 16 bits The Length field MUST be either 20 (i.e., 8 + 3 * 4 (IPv4 addresses)) or 56 (i.e., 8 + 3 * 16 (IPv6 addresses)); if the length is 20, then IPv4 addresses MUST be assumed, and if the length is 56, then IPv6 addresses MUST be assumed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
长度：16位长度字段必须为20（即8+3*4（IPv4地址））或56（即8+3*16（IPv6地址））；如果长度为20，则必须假定IPv4地址，如果长度为56，则必须假定IPv6地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
# Hops: 8 bits This field specifies the maximum number of hops that the Mtrace2 client wants to trace. If there are some error conditions in the middle of the path that prevent an Mtrace2 Reply from being received by the client, the client MAY issue another Mtrace2 Query with a lower number of hops until it receives a Reply.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
#跃点：8位此字段指定Mtrace2客户端要跟踪的最大跃点数。如果在路径的中间有一些错误条件阻止了McTrace2应答被客户端接收，客户端可以发出另一个具有较低跳数的McTrace2查询，直到它接收到答复为止。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Multicast Address: 32 bits or 128 bits This field specifies an IPv4 or IPv6 address, which can be either:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
多播地址：32位或128位此字段指定IPv4或IPv6地址，可以是：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
m-1: a multicast group address to be traced or
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
m-1：要跟踪的多播组地址或
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
m-2: all ones in case of IPv4 or the unspecified address (::) in case of IPv6 if no group-specific information is desired.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
m-2：如果不需要特定于组的信息，则IPv4为所有地址，IPv6为未指定地址（：）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Source Address: 32 bits or 128 bits This field specifies an IPv4 or IPv6 address, which can be either:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
源地址：32位或128位此字段指定IPv4或IPv6地址，可以是：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
s-1: a unicast address of the source to be traced or
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
s-1：要跟踪的源的单播地址，或
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
s-2: all ones in case of IPv4 or the unspecified address (::) in case of IPv6 if no source-specific information is desired. For example, the client is tracing a (*,g) group state.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
s-2：如果不需要特定于源的信息，则IPv4中的所有地址或IPv6中的未指定地址（：）。例如，客户端正在跟踪（*，g）组状态。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Note that it is invalid to have a source-group combination of (s-2, m-2). If a router receives such combination in an Mtrace2 Query, it MUST silently discard the Query.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
请注意，具有（s-2，m-2）的源组组合是无效的。如果路由器在Mtrace2查询中接收到这样的组合，它必须以静默方式放弃该查询。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2 Client Address: 32 bits or 128 bits This field specifies the Mtrace2 client&#39;s IPv4 address or IPv6 global address. This address MUST be a valid unicast address; therefore, it MUST NOT be all ones or an unspecified address. The Mtrace2 Reply will be sent to this address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2客户端地址：32位或128位此字段指定Mtrace2客户端的IPv4地址或IPv6全局地址。此地址必须是有效的单播地址；因此，它不能是所有的或一个未指定的地址。Mtrace2回复将发送到此地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Query ID: 16 bits This field is used as a unique identifier for this Mtrace2 Query so that duplicate or delayed Reply messages may be detected.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
查询ID：16位此字段用作此Mtrace2查询的唯一标识符，以便检测重复或延迟的回复消息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Client Port #: 16 bits This field specifies the destination UDP port number for receiving the Mtrace2 Reply packet.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
客户端端口#：16位此字段指定接收Mtrace2应答数据包的目标UDP端口号。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.2. Mtrace2 Request
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.2. Mtrace2请求
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Mtrace2 Request TLV is exactly the same as an Mtrace2 Query except for identifying the Type field of 0x02.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2请求TLV与Mtrace2查询完全相同，只是标识了0x02的类型字段。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an LHR receives an Mtrace2 Query message, it turns the Query into a Request by changing the Type field of the Query from 0x01 to 0x02. The LHR then appends an Mtrace2 Standard Response Block (see Section 3.2.4) of its own to the Request message before sending it upstream. The upstream routers do the same without changing the Type field until one of them is ready to send a Reply.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当LHR收到Mtrace2查询消息时，它通过将查询的类型字段从0x01更改为0x02将查询转换为请求。然后，在向上游发送请求消息之前，LHR将其自身的Mtrace2标准响应块（见第3.2.4节）附加到请求消息。在其中一个路由器准备好发送应答之前，上游路由器在不更改类型字段的情况下执行相同的操作。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.3. Mtrace2 Reply
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.3. MT2答复
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Mtrace2 Reply TLV is exactly the same as an Mtrace2 Query except for identifying the Type field of 0x03.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2回复TLV与Mtrace2查询完全相同，只是标识了0x03的类型字段。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an FHR or an RP receives an Mtrace2 Request message that is destined to itself, it appends an Mtrace2 Standard Response Block (see Section 3.2.4) of its own to the Request message. Next, it turns the Request message into a Reply by changing the Type field of
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当FHR或RP接收到以自身为目的地的Mtrace2请求消息时，它会在请求消息中附加自己的Mtrace2标准响应块（见第3.2.4节）。接下来，它通过更改
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
the Request from 0x02 to 0x03 and by changing the UDP destination port to the port number specified in the Client Port Number field in the Request. It then unicasts the Reply message to the Mtrace2 client specified in the Mtrace2 Client Address field.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
将请求从0x02更改为0x03，并将UDP目标端口更改为请求中客户端端口号字段中指定的端口号。然后，它将应答消息单播到Mtrace2客户机地址字段中指定的Mtrace2客户机。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There are a number of cases in which an intermediate router might return a Reply before a Request reaches the FHR or the RP. See Sections 4.1.1, 4.2.2, 4.3.3, and 4.5 for more details.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在许多情况下，中间路由器可能会在请求到达FHR或RP之前返回回复。有关更多详细信息，请参阅第4.1.1、4.2.2、4.3.3和4.5节。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.4. IPv4 Mtrace2 Standard Response Block
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.4. IPv4 Mtrace2标准响应块
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section describes the message format of an IPv4 Mtrace2 Standard Response Block. The Type field is 0x04.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节介绍IPv4 Mtrace2标准响应块的消息格式。类型字段为0x04。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |           Length              |      MBZ      |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                      Query Arrival Time                       |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                  Incoming Interface Address                   |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                  Outgoing Interface Address                   |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                   Upstream Router Address                     |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     .           Input packet count on Incoming Interface            .
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     .           Output packet count on Outgoing Interface           .
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     .      Total number of packets for this source-group pair       .
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |          Rtg Protocol         |    Multicast Rtg Protocol     |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |    Fwd TTL    |      MBZ      |S|   Src Mask  |Forwarding Code|
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |           Length              |      MBZ      |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                      Query Arrival Time                       |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                  Incoming Interface Address                   |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                  Outgoing Interface Address                   |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                   Upstream Router Address                     |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     .           Input packet count on Incoming Interface            .
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     .           Output packet count on Outgoing Interface           .
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     .      Total number of packets for this source-group pair       .
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |          Rtg Protocol         |    Multicast Rtg Protocol     |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |    Fwd TTL    |      MBZ      |S|   Src Mask  |Forwarding Code|
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MBZ: 8 bits This field MUST be zeroed on transmission and ignored on reception.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MBZ:8位此字段在传输时必须归零，在接收时必须忽略。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Query Arrival Time: 32 bits The Query Arrival Time is a 32-bit Network Time Protocol (NTP) timestamp specifying the arrival time of the Mtrace2 Query or Request packet at this router. The 32-bit form of an NTP timestamp consists of the middle 32 bits of the full 64-bit form; that is, the low 16 bits of the integer part and the high 16 bits of the fractional part.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
查询到达时间：32位查询到达时间是一个32位网络时间协议（NTP）时间戳，指定Mtrace2查询或请求数据包在此路由器上的到达时间。NTP时间戳的32位形式由完整64位形式的中间32位组成；即，整数部分的低16位和小数部分的高16位。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
The following formula converts from a timespec (fractional part in nanoseconds) to a 32-bit NTP timestamp:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
以下公式将timespec（以纳秒为单位的小数部分）转换为32位NTP时间戳：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
         query_arrival_time
         = ((tv.tv_sec + 32384) &lt;&lt; 16) + ((tv.tv_nsec &lt;&lt; 7) / 1953125)
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
         query_arrival_time
         = ((tv.tv_sec + 32384) &lt;&lt; 16) + ((tv.tv_nsec &lt;&lt; 7) / 1953125)
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
The constant 32384 is the number of seconds from Jan 1, 1900 to Jan 1, 1970 truncated to 16 bits. ((tv.tv_nsec &lt;&lt; 7) / 1953125) is a reduction of ((tv.tv_nsec / 1000000000) &lt;&lt; 16), where &#34;&lt;&lt;&#34; denotes a logical left shift.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
常数32384是从1900年1月1日到1970年1月1日被截断为16位的秒数。（（tv.tv\u nsec&lt;&lt;7）/1953125）是（（tv.tv\u nsec/100000000）&lt;&lt;16）的减少，其中“&lt;&lt;”表示逻辑左移。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Note that synchronized clocks are required on the traced routers to estimate propagation and queuing delays between successive hops. Nevertheless, even without this synchronization, an application can still estimate an upper bound on cumulative one-way latency by measuring the time between sending a Query and receiving a Reply.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
请注意，跟踪路由器上需要同步时钟来估计连续跃点之间的传播和排队延迟。然而，即使没有这种同步，应用程序仍然可以通过测量发送查询和接收回复之间的时间来估计累计单向延迟的上限。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Additionally, Query Arrival Time is useful for measuring the packet rate. For example, suppose that a client issues two Queries, and the corresponding Requests R1 and R2 arrive at router X at time T1 and T2, then the client would be able to compute the packet rate on router X by using the packet-count information stored in the R1 and R2 and using the time T1 and T2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
此外，查询到达时间可用于测量数据包速率。例如，假设客户机发出两个查询，并且相应的请求R1和R2在时间T1和T2到达路由器X，那么客户机将能够通过使用存储在R1和R2中的包计数信息并使用时间T1和T2来计算路由器X上的包速率。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Incoming Interface Address: 32 bits This field specifies the address of the interface on which packets from the source or the RP are expected to arrive, or 0 if unknown or unnumbered.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
传入接口地址：32位此字段指定源或RP的数据包预期到达的接口地址，如果未知或未编号，则为0。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Outgoing Interface Address: 32 bits This field specifies the address of the interface on which packets from the source or the RP are expected to transmit towards the receiver, or 0 if unknown or unnumbered. This is also the address of the interface on which the Mtrace2 Query or Request arrives.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
传出接口地址：32位此字段指定接口的地址，源或RP的数据包将在该接口上传输到接收器，如果未知或未编号，则为0。这也是Mtrace2查询或请求到达的接口的地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Upstream Router Address: 32 bits This field specifies the address of the upstream router from which this router expects packets from this source. This MAY be a multicast group (e.g., ALL-[protocol]-ROUTERS group) if the upstream router is not known because of the workings of the multicast routing protocol. However, it MUST be 0 if the Incoming Interface address is unknown or unnumbered.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上行路由器地址：32位此字段指定上行路由器的地址，该路由器期望从该地址收到来自该源的数据包。如果上游路由器由于多播路由协议的工作而未知，则这可能是多播组（例如，所有-[协议]-路由器组）。但是，如果传入接口地址未知或未编号，则必须为0。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Input packet count on Incoming Interface: 64 bits This field contains the number of multicast packets received for all groups and sources on the Incoming Interface, or all ones if no count can be reported. This counter may have the same value as ifHCInMulticastPkts from the Interfaces Group MIB (IF-MIB) [9] for this interface.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
传入接口上的输入数据包计数：64位此字段包含传入接口上所有组和源接收的多播数据包的数量，如果无法报告计数，则包含所有组和源接收的多播数据包的数量。此计数器的值可能与此接口的接口组MIB（IF-MIB）[9]中的ifHCInMulticastPkts的值相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Output packet count on Outgoing Interface: 64 bits This field contains the number of multicast packets that have been transmitted or queued for transmission for all groups and sources on the Outgoing Interface, or all ones if no count can be reported. This counter may have the same value as ifHCOutMulticastPkts from the IF-MIB [9] for this interface.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
传出接口上的输出数据包计数：64位此字段包含传出接口上所有组和源已传输或排队等待传输的多播数据包数，如果无法报告计数，则包含所有组和源的多播数据包数。此计数器的值可能与此接口的IF-MIB[9]中的ifHCOutMulticastPkts的值相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Total number of packets for this source-group pair: 64 bits This field counts the number of packets from the specified source forwarded by the router to the specified group, or all ones if no count can be reported. If the S bit is set (see below), the count is for the source network, as specified by the Src Mask field (see below). If the S bit is set and the Src Mask field is 127, indicating no source-specific state, the count is for all sources sending to this group. This counter should have the same value as ipMcastRoutePkts from the IP Multicast MIB [14] for this forwarding entry.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此源组对的数据包总数：64位此字段统计路由器从指定源转发到指定组的数据包数，如果无法报告计数，则统计所有数据包数。如果设置了S位（见下文），则根据Src掩码字段（见下文）的规定，计数是源网络的。如果设置了S位且Src Mask字段为127，表示没有特定于源的状态，则计数适用于发送到此组的所有源。此计数器的值应与此转发条目的IP多播MIB[14]中的IPMCastroutPKTS的值相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Rtg Protocol: 16 bits This field describes the unicast routing protocol running between this router and the upstream router, and it is used to determine the Reverse Path Forwarding (RPF) interface for the specified source or RP. This value should have the same value as ipMcastRouteRtProtocol from the IP Multicast MIB [14] for this entry. If the router is not able to obtain this value, all 0&#39;s must be specified.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Rtg协议：16位此字段描述此路由器和上游路由器之间运行的单播路由协议，用于确定指定源或RP的反向路径转发（RPF）接口。对于此条目，此值应与IP多播MIB[14]中的IPMCastroutterProtocol具有相同的值。如果路由器无法获得此值，则必须指定所有0。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Multicast Rtg Protocol: 16 bits This field describes the multicast routing protocol in use between the router and the upstream router. This value should have the same value as ipMcastRouteProtocol from the IP Multicast MIB [14] for this entry. If the router cannot obtain this value, all 0&#39;s must be specified.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
多播Rtg协议：16位此字段描述路由器和上游路由器之间使用的多播路由协议。此值应与此条目的IP多播MIB[14]中的ipMcastRouteProtocol具有相同的值。如果路由器无法获得此值，则必须指定所有0。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Fwd TTL: 8 bits This field contains the configured multicast TTL threshold, if any, of the Outgoing Interface.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Fwd TTL:8位此字段包含传出接口的已配置多播TTL阈值（如果有）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
S: 1 bit If this bit is set, it indicates that the packet count for the source-group pair is for the source network, as determined by masking the source address with the Src Mask field.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
S:1位如果设置了该位，则表示源组对的数据包计数用于源网络，这是通过使用Src Mask字段屏蔽源地址确定的。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Src Mask: 7 bits This field contains the number of 1&#39;s in the netmask the router has for the source (i.e., a value of 24 means the netmask is 0xffffff00). If the router is forwarding solely on group state, this field is set to 127 (0x7f).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Src Mask:7位此字段包含路由器对源具有的网络掩码中的1的数量（即，值24表示网络掩码为0xFFFF00）。如果路由器仅在组状态下转发，则此字段设置为127（0x7f）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Forwarding Code: 8 bits This field contains a forwarding information/error code. Values with the high-order bit set (0x80-0xff) are intended for use with conditions that are transitory or automatically recovered. Other Forwarding Code values indicate a need to fix a problem in the Query or a need to redirect the Query. Sections 4.1 and 4.2 explain how and when the Forwarding Code is filled. Defined values are as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
转发代码：8位此字段包含转发信息/错误代码。具有高阶位集（0x80-0xff）的值用于暂时或自动恢复的条件。其他转发代码值表示需要修复查询中的问题或需要重定向查询。第4.1节和第4.2节解释了如何以及何时填写转发代码。定义值如下：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Value  Name            Description
   -----  --------------  ----------------------------------------------
   0x00   NO_ERROR        No error.
   0x01   WRONG_IF        Mtrace2 Request arrived on an interface
                          for which this router does not perform
                          forwarding for the specified group to the
                          source or RP.
   0x02   PRUNE_SENT      This router has sent a prune upstream that
                          applies to the source and group in the
                          Mtrace2 Request.
   0x03   PRUNE_RCVD      This router has stopped forwarding for this
                          source and group in response to a Request
                          from the downstream router.
   0x04   SCOPED          The group is subject to administrative
                          scoping at this router.
   0x05   NO_ROUTE        This router has no route for the source or
                          group and no way to determine a potential
                          route.
   0x06   WRONG_LAST_HOP  This router is not the proper LHR.
   0x07   NOT_FORWARDING  This router is not forwarding this source and
                          group out the Outgoing Interface for an
                          unspecified reason.
   0x08   REACHED_RP      Reached the Rendezvous Point.
   0x09   RPF_IF          Mtrace2 Request arrived on the expected
                          RPF interface for this source and group.
   0x0A   NO_MULTICAST    Mtrace2 Request arrived on an interface
                          that is not enabled for multicast.
   0x0B   INFO_HIDDEN     One or more hops have been hidden from this
                          trace.
   0x0C   REACHED_GW      Mtrace2 Request arrived on a gateway (e.g.,
                          a NAT or firewall) that hides the
                          information between this router and the
                          Mtrace2 client.
   0x0D   UNKNOWN_QUERY   A non-transitive Extended Query Type was
                          received by a router that does not support
                          the type.
   0x80   FATAL_ERROR     A fatal error is one where the router may
                          know the upstream router but cannot forward
                          the message to it.
   0x81   NO_SPACE        There was not enough room to insert another
                          Standard Response Block in the packet.
   0x83   ADMIN_PROHIB    Mtrace2 is administratively prohibited.
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Value  Name            Description
   -----  --------------  ----------------------------------------------
   0x00   NO_ERROR        No error.
   0x01   WRONG_IF        Mtrace2 Request arrived on an interface
                          for which this router does not perform
                          forwarding for the specified group to the
                          source or RP.
   0x02   PRUNE_SENT      This router has sent a prune upstream that
                          applies to the source and group in the
                          Mtrace2 Request.
   0x03   PRUNE_RCVD      This router has stopped forwarding for this
                          source and group in response to a Request
                          from the downstream router.
   0x04   SCOPED          The group is subject to administrative
                          scoping at this router.
   0x05   NO_ROUTE        This router has no route for the source or
                          group and no way to determine a potential
                          route.
   0x06   WRONG_LAST_HOP  This router is not the proper LHR.
   0x07   NOT_FORWARDING  This router is not forwarding this source and
                          group out the Outgoing Interface for an
                          unspecified reason.
   0x08   REACHED_RP      Reached the Rendezvous Point.
   0x09   RPF_IF          Mtrace2 Request arrived on the expected
                          RPF interface for this source and group.
   0x0A   NO_MULTICAST    Mtrace2 Request arrived on an interface
                          that is not enabled for multicast.
   0x0B   INFO_HIDDEN     One or more hops have been hidden from this
                          trace.
   0x0C   REACHED_GW      Mtrace2 Request arrived on a gateway (e.g.,
                          a NAT or firewall) that hides the
                          information between this router and the
                          Mtrace2 client.
   0x0D   UNKNOWN_QUERY   A non-transitive Extended Query Type was
                          received by a router that does not support
                          the type.
   0x80   FATAL_ERROR     A fatal error is one where the router may
                          know the upstream router but cannot forward
                          the message to it.
   0x81   NO_SPACE        There was not enough room to insert another
                          Standard Response Block in the packet.
   0x83   ADMIN_PROHIB    Mtrace2 is administratively prohibited.
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.5. IPv6 Mtrace2 Standard Response Block
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.5. IPv6 Mtrace2标准响应块
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section describes the message format of an IPv6 Mtrace2 Standard Response Block. The Type field is also 0x04.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节介绍IPv6 Mtrace2标准响应块的消息格式。类型字段也是0x04。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |           Length              |      MBZ      |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                      Query Arrival Time                       |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                     Incoming Interface ID                     |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                     Outgoing Interface ID                     |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     *                         Local Address                         *
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     *                         Remote Address                        *
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     .           Input packet count on Incoming Interface            .
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     .           Output packet count on Outgoing Interface           .
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     .      Total number of packets for this source-group pair       .
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |          Rtg Protocol         |    Multicast Rtg Protocol     |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |              MBZ 2          |S|Src Prefix Len |Forwarding Code|
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |           Length              |      MBZ      |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                      Query Arrival Time                       |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                     Incoming Interface ID                     |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                     Outgoing Interface ID                     |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     *                         Local Address                         *
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     *                         Remote Address                        *
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     .           Input packet count on Incoming Interface            .
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     .           Output packet count on Outgoing Interface           .
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     .      Total number of packets for this source-group pair       .
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |          Rtg Protocol         |    Multicast Rtg Protocol     |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |              MBZ 2          |S|Src Prefix Len |Forwarding Code|
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MBZ: 8 bits This field MUST be zeroed on transmission and ignored on reception.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MBZ:8位此字段在传输时必须归零，在接收时必须忽略。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Query Arrival Time: 32 bits Same definition as in IPv4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
查询到达时间：32位，与IPv4中的定义相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Incoming Interface ID: 32 bits This field specifies the interface ID on which packets from the source or RP are expected to arrive, or 0 if unknown. This ID should be the value taken from InterfaceIndex of the IF-MIB [9] for this interface.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
传入接口ID：32位此字段指定来自源或RP的数据包预期到达的接口ID，如果未知，则指定0。该ID应该是从该接口的IF-MIB[9]的InterfaceIndex中获取的值。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Outgoing Interface ID: 32 bits This field specifies the interface ID to which packets from the source or RP are expected to transmit, or 0 if unknown. This ID should be the value taken from InterfaceIndex of the IF-MIB [9] for this interface.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
传出接口ID：32位此字段指定源或RP的数据包预期传输到的接口ID，如果未知，则为0。该ID应该是从该接口的IF-MIB[9]的InterfaceIndex中获取的值。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Local Address: 128 bits This field specifies a global IPv6 address that uniquely identifies the router. A unique local unicast address [12] SHOULD NOT be used unless the router is only assigned link-local and unique local addresses. If the router is only assigned link-local addresses, its link-local address can be specified in this field.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本地地址：128位此字段指定唯一标识路由器的全局IPv6地址。除非路由器仅分配了链路本地和唯一本地地址，否则不应使用唯一本地单播地址[12]。如果仅为路由器分配了链路本地地址，则可在此字段中指定其链路本地地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Remote Address: 128 bits This field specifies the address of the upstream router, which, in most cases, is a link-local unicast address for the upstream router.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
远程地址：128位此字段指定上游路由器的地址，在大多数情况下，它是上游路由器的链路本地单播地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Although a link-local address does not have enough information to identify a node, it is possible to detect the upstream router with the assistance of the Incoming Interface ID and the current router address (i.e., Local Address).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
尽管链路本地地址没有足够的信息来识别节点，但是可以借助传入接口ID和当前路由器地址（即本地地址）来检测上游路由器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Note that this may be a multicast group (e.g., ALL-[protocol]- ROUTERS group) if the upstream router is not known because of the workings of a multicast routing protocol. However, it should be the unspecified address (::) if the Incoming Interface address is unknown.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
注意，如果上游路由器由于多播路由协议的工作而未知，则这可能是多播组（例如，所有-[协议]-路由器组）。但是，如果传入接口地址未知，则应该是未指定的地址（：：）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Input packet count on Incoming Interface: 64 bits Same definition as in IPv4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
传入接口上的输入数据包计数：64位，与IPv4中的定义相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Output packet count on Outgoing Interface: 64 bits Same definition as in IPv4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
输出接口上的输出数据包计数：64位，与IPv4中的定义相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Total number of packets for this source-group pair: 64 bits Same definition as in IPv4, except if the S bit is set (see below), the count is for the source network, as specified by the Src Prefix Len field. If the S bit is set and the Src Prefix Len field is 255, indicating no source-specific state, the count is
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此源组对的数据包总数：64位与IPv4中的定义相同，除非设置了S位（请参见下文），否则计数是针对源网络的，由Src Prefix Len字段指定。如果设置了S位且Src Prefix Len字段为255，表示没有特定于源的状态，则计数为
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
for all sources sending to this group. This counter should have the same value as ipMcastRoutePkts from the IP Multicast MIB [14] for this forwarding entry.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
对于发送到此组的所有源。此计数器的值应与此转发条目的IP多播MIB[14]中的IPMCastroutPKTS的值相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Rtg Protocol: 16 bits Same definition as in IPv4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Rtg协议：16位，与IPv4中的定义相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Multicast Rtg Protocol: 16 bits
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
多播Rtg协议：16位
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Same definition as in IPv4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
与IPv4中的定义相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MBZ 2: 15 bits This field MUST be zeroed on transmission and ignored on reception.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MBZ 2:15位此字段在传输时必须归零，在接收时必须忽略。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
S: 1 bit Same definition as in IPv4, except the Src Prefix Len field is used to mask the source address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
S:1位与IPv4中的定义相同，只是Src Prefix Len字段用于屏蔽源地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Src Prefix Len: 8 bits This field contains the prefix length this router has for the source. If the router is forwarding solely on group state, this field is set to 255 (0xff).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Src Prefix Len：8位此字段包含此路由器对源的前缀长度。如果路由器仅在组状态下转发，则此字段设置为255（0xff）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Forwarding Code: 8 bits Same definition as in IPv4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
转发代码：8位，与IPv4中的定义相同。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.6. Mtrace2 Augmented Response Block
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.6. Mtrace2增强响应块
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In addition to the Standard Response Block, a multicast router on the traced path can optionally add one or multiple Augmented Response Blocks before sending the Request to its upstream router.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
除了标准响应块之外，跟踪路径上的多播路由器还可以在向其上游路由器发送请求之前选择性地添加一个或多个增强响应块。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Augmented Response Block is flexible for various purposes such as providing diagnosis information (see Section 7) and protocol verification. Its Type field is 0x05, and its format is as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
增强响应块可灵活用于各种用途，如提供诊断信息（见第7节）和协议验证。其类型字段为0x05，格式如下：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |           Length              |      MBZ      |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |    Augmented Response Type    |           Value ....          |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |           Length              |      MBZ      |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |    Augmented Response Type    |           Value ....          |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MBZ: 8 bits This field MUST be zeroed on transmission and ignored on reception.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MBZ:8位此字段在传输时必须归零，在接收时必须忽略。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Augmented Response Type: 16 bits This field specifies the type of various responses from a multicast router that might need to communicate back to the Mtrace2 client as well as the multicast routers on the traced path.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
增强响应类型：16位此字段指定可能需要与Mtrace2客户端以及跟踪路径上的多播路由器通信的多播路由器的各种响应类型。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
The Augmented Response Type is defined as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
增强响应类型定义如下：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
         Code      Type
         ======    ==============================================
         0x0001    # of the returned Standard Response Blocks
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
         Code      Type
         ======    ==============================================
         0x0001    # of the returned Standard Response Blocks
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
When the NO_SPACE error occurs on a router, the router should send the original Mtrace2 Request received from the downstream router as a Reply back to the Mtrace2 client and continue with a new Mtrace2 Request. In the new Request, the router adds a Standard Response Block followed by an Augmented Response Block with 0x01 as the Augmented Response Type, and the number of the returned Mtrace2 Standard Response Blocks as the Value.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
当路由器出现无空间错误时，路由器应将从下游路由器收到的原始Mtrace2请求作为回复发送回Mtrace2客户端，并继续发送新的Mtrace2请求。在新请求中，路由器添加一个标准响应块，后跟一个扩展响应块，扩展响应类型为0x01，返回的Mtrace2标准响应块的数量为值。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Each upstream router recognizes the total number of hops the Request has traced so far by adding this number and the number of the Standard Response Block in the current Request message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
每个上游路由器通过在当前请求消息中添加该数字和标准响应块的数字来识别到目前为止请求跟踪的总跳数。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
This document only defines one Augmented Response Type in the Augmented Response Block. The description on how to provide diagnosis information using the Augmented Response Block is out of the scope of this document and will be addressed in separate documents.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
本文档仅在增强响应块中定义了一种增强响应类型。关于如何使用增强响应块提供诊断信息的说明不在本文档范围内，将在单独的文档中介绍。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Value: variable length The format is based on the Augmented Response Type value. The length of the Value field is Length field minus 6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
值：可变长度格式基于增强响应类型值。值字段的长度是长度字段减去6。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.7. Mtrace2 Extended Query Block
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2.7. Mtrace2扩展查询块
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There may be a sequence of optional Extended Query Blocks that follow an Mtrace2 Query to further specify any information needed for the Query. For example, an Mtrace2 client might be interested in tracing the path the specified source and group would take based on a certain topology. In this case, the client can pass in the multi-topology ID as the value for an Extended Query Type (see below). The Extended Query Type is extensible, and the behavior of the new types will be addressed by separate documents.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2查询之后可能有一系列可选的扩展查询块，用于进一步指定查询所需的任何信息。例如，Mtrace2客户机可能有兴趣根据特定拓扑跟踪指定源和组将采用的路径。在这种情况下，客户机可以传入多拓扑ID作为扩展查询类型的值（请参见下文）。扩展查询类型是可扩展的，新类型的行为将由单独的文档处理。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Mtrace2 Extended Query Block&#39;s Type field is 0x06 and is formatted as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2扩展查询块的类型字段为0x06，格式如下：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |           Length              |      MBZ    |T|
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |      Extended Query Type      |           Value ....          |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |           Length              |      MBZ    |T|
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |      Extended Query Type      |           Value ....          |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MBZ: 7 bits This field MUST be zeroed on transmission and ignored on reception.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MBZ:7位此字段在传输时必须归零，在接收时必须忽略。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
T-bit (Transitive Attribute): 1 bit If the TLV Type is unrecognized by the receiving router, then this TLV is either discarded or forwarded along with the Query, depending on the value of this bit. If this bit is set, then the router MUST forward this TLV. If this bit is clear, the router MUST send an Mtrace2 Reply with an UNKNOWN_QUERY error.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
T位（可传递属性）：1位如果接收路由器无法识别TLV类型，则该TLV将被丢弃或与查询一起转发，具体取决于该位的值。如果设置了此位，则路由器必须转发此TLV。如果此位是清除的，路由器必须发送带有未知查询错误的Mtrace2回复。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Extended Query Type: 16 bits This field specifies the type of the Extended Query Block.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
扩展查询类型：16位此字段指定扩展查询块的类型。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Value: 16 bits This field specifies the value of this Extended Query.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
值：16位此字段指定此扩展查询的值。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. Router Behavior
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. 路由器行为
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section describes the router behavior in the context of Mtrace2 in detail.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节详细描述Mtrace2上下文中的路由器行为。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1. Receiving an Mtrace2 Query
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1. 接收Mtrace2查询
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An Mtrace2 Query message is an Mtrace2 message with no response blocks filled in and uses a TLV Type of 0x01.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2查询消息是未填充响应块的Mtrace2消息，使用的TLV类型为0x01。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1.1. Query Packet Verification
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1.1. 查询包验证
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Upon receiving an Mtrace2 Query message, a router MUST examine whether the Multicast Address and the Source Address are a valid combination as specified in Section 3.2.1, and whether the Mtrace2 Client Address is a valid IP unicast address. If either one is invalid, the Query MUST be silently ignored.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
收到Mtrace2查询消息后，路由器必须检查多播地址和源地址是否为第3.2.1节规定的有效组合，以及Mtrace2客户端地址是否为有效的IP单播地址。如果其中一个无效，则必须以静默方式忽略查询。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2 supports a non-local client to the LHR/RP. A router MUST, however, support a mechanism to drop Queries from clients beyond a specified administrative boundary. The potential approaches are described in Section 9.2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2支持到LHR/RP的非本地客户端。但是，路由器必须支持从指定管理边界以外的客户端删除查询的机制。第9.2节描述了可能的方法。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the case where a local LHR client is required, the router must then examine the Query to see if it is the proper LHR/RP for the destination address in the packet. It is the proper local LHR if it has a multicast-capable interface on the same subnet as the Mtrace2 Client Address and is the router that would forward traffic from the given (S,G) or (*,G) onto that subnet. It is the proper RP if the multicast group address specified in the Query is 0 and if the IP header destination address is a valid RP address on this router.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在需要本地LHR客户端的情况下，路由器必须检查查询，以确定它是否是数据包中目标地址的正确LHR/RP。如果它在与Mtrace2客户端地址相同的子网上具有支持多播的接口，并且是将给定（S，G）或（*，G）的流量转发到该子网上的路由器，则它是适当的本地LHR。如果查询中指定的多播组地址为0，并且IP报头目标地址是此路由器上的有效RP地址，则为正确的RP。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the router determines that it is not the proper LHR/RP, or it cannot make that determination, it does one of two things depending on whether the Query was received via multicast or unicast. If the Query was received via multicast, then it MUST be silently discarded. If it was received via unicast, the router turns the Query into a Reply message by changing the TLV Type to 0x03 and appending a Standard Response Block with a Forwarding Code of WRONG_LAST_HOP. The rest of the fields in the Standard Response Block MUST be zeroed. The router then sends the Reply message to the Mtrace2 Client Address on the Client Port # as specified in the Mtrace2 Query.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果路由器确定它不是正确的LHR/RP，或者它无法做出该确定，那么它将根据查询是通过多播还是单播接收，执行以下两种操作之一。如果查询是通过多播接收的，则必须以静默方式放弃查询。如果是通过单播接收到的，路由器会通过将TLV类型更改为0x03并在标准响应块上附加错误的最后一跳转发代码，将查询转换为回复消息。标准响应块中的其余字段必须归零。然后，路由器将回复消息发送到Mtrace2查询中指定的客户端端口#上的Mtrace2客户端地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Duplicate Query messages as identified by the tuple (Mtrace2 Client Address, Query ID) SHOULD be ignored. This MAY be implemented using a cache of previously processed Queries keyed by the Mtrace2 Client Address and Query ID pair. The duration of the cached entries is implementation specific. Duplicate Request messages MUST NOT be ignored in this manner.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
应忽略元组（Mtrace2客户端地址，查询ID）标识的重复查询消息。这可以使用由Mtrace2客户机地址和查询ID对键入的先前处理的查询的缓存来实现。缓存项的持续时间是特定于实现的。不能以这种方式忽略重复的请求消息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1.2. Query Normal Processing
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1.2. 查询正常处理
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a router receives an Mtrace2 Query and it determines that it is the proper LHR/RP, it turns the Query to a Request by changing the TLV Type from 0x01 to 0x02, and it performs the steps listed in Section 4.2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当路由器收到Mtrace2查询并确定它是正确的LHR/RP时，它通过将TLV类型从0x01更改为0x02将查询转换为请求，并执行第4.2节中列出的步骤。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2. Receiving an Mtrace2 Request
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2. 接收Mtrace2请求
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An Mtrace2 Request is an Mtrace2 message that uses the TLV Type of 0x02. With the exception of the LHR, whose Request was just converted from a Query, each Request received by a router should have at least one Standard Response Block filled in.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2请求是使用TLV类型0x02的Mtrace2消息。除了LHR（其请求刚刚从查询转换而来）之外，路由器接收的每个请求都应该至少填写一个标准响应块。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2.1. Request Packet Verification
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2.1. 请求包验证
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the Mtrace2 Request does not come from an adjacent router, or if the Request is not addressed to this router, or if the Request is addressed to a multicast group that is not a link-scoped group (i.e., 224.0.0.0/24 for IPv4 and FFx2::/16 for IPv6 [2]), it MUST be silently ignored. The Generalized TTL Security Mechanism (GTSM) [13] SHOULD be used by the router to determine whether the router is adjacent or not. Source verification specified in Section 9.2 is also considered.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果Mtrace2请求不是来自相邻路由器，或者如果该请求不是发往该路由器，或者如果该请求发往不是链路作用域组的多播组（即，对于IPv4为224.0.0.0/24，对于IPv6为FFx2:：/16[2]），则必须以静默方式忽略该请求。路由器应使用通用TTL安全机制（GTSM）[13]来确定路由器是否相邻。还应考虑第9.2节中规定的源验证。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the sum of the number of the Standard Response Blocks in the received Mtrace2 Request and the value of the Augmented Response Type of 0x01, if any, is equal or more than the # Hops in the Mtrace2 Request, it MUST be silently ignored.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果接收到的Mtrace2请求中的标准响应块数与扩展响应类型0x01的值（如果有）之和等于或大于Mtrace2请求中的#跳数，则必须忽略该值。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2.2. Request Normal Processing
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2.2. 请求正常处理
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a router receives an Mtrace2 Request message, it performs the following steps. Note that it is possible to have multiple situations covered by the Forwarding Codes. The first one encountered is the one that is reported, i.e., all &#34;note Forwarding Code N&#34; should be interpreted as &#34;if Forwarding Code is not already set, set Forwarding Code to N&#34;. Note that in the steps described below, the &#34;Outgoing Interface&#34; is the one on which the Mtrace2 Request message arrives.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当路由器收到Mtrace2请求消息时，它将执行以下步骤。请注意，转发代码可能涵盖多种情况。遇到的第一个是报告的，即所有“票据转发代码N”应解释为“如果尚未设置转发代码，请将转发代码设置为N”。注意，在下面描述的步骤中，“传出接口”是Mtrace2请求消息到达的接口。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. Prepare a Standard Response Block to be appended to the packet, setting all fields to an initial default value of zero.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 准备要附加到数据包的标准响应块，将所有字段设置为初始默认值零。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. If Mtrace2 is administratively prohibited, note the Forwarding Code of ADMIN_PROHIB and skip to step 4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 如果管理禁止Mtrace2，请注意ADMIN_PROHIB的转发代码并跳至步骤4。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. In the Standard Response Block, fill in the Query Arrival Time, Outgoing Interface Address (for IPv4) or Outgoing Interface ID (for IPv6), Output Packet Count, and Fwd TTL (for IPv4).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. 在标准响应块中，填写查询到达时间、传出接口地址（对于IPv4）或传出接口ID（对于IPv6）、输出数据包计数和Fwd TTL（对于IPv4）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. Attempt to determine the forwarding information for the specified source and group, using the same mechanisms as would be used when a packet is received from the source destined for the group. A state need not be instantiated, it can be a &#34;phantom&#34; state created only for the purpose of the trace, such as &#34;dry-run&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. 尝试确定指定源和组的转发信息，使用与从目的地为该组的源接收数据包时相同的机制。状态不需要实例化，它可以是仅为跟踪目的而创建的“幻影”状态，例如“干运行”。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
If using a shared-tree protocol and there is no source-specific state, or if no source-specific information is desired (i.e., all ones for IPv4 or an unspecified address (::) for IPv6), group state should be used. If there is no group state or no
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
如果使用共享树协议且没有特定于源的状态，或者如果不需要特定于源的信息（即，IPv4的所有信息或IPv6的未指定地址（：），则应使用组状态。如果没有组状态或
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
group-specific information is desired, potential source state (i.e., the path that would be followed for a source-specific &#34;join&#34;) should be used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-8">
需要特定于组的信息时，应使用潜在的源状态（即特定于源的“连接”将遵循的路径）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. If no forwarding information can be determined, the router notes a Forwarding Code of NO_ROUTE, sets the remaining fields that have not yet been filled in to zero, and then sends an Mtrace2 Reply back to the Mtrace2 client.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. 如果无法确定转发信息，路由器会记录no_ROUTE的转发代码，将尚未填写的剩余字段设置为零，然后将Mtrace2回复发送回Mtrace2客户端。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
6. If a Forwarding Code of ADMIN_PROHIB has been set, skip to step 7. Otherwise, fill in the Incoming Interface Address (or Incoming Interface ID and Local Address for IPv6), Upstream Router Address (or Remote Address for IPv6), Input Packet Count, Total Number of Packets, Routing Protocol, S, and Src Mask (or Src Prefix Len for IPv6) using the forwarding information determined in step 4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
6. 如果设置了ADMIN_PROHIB的转发代码，请跳至步骤7。否则，使用步骤4中确定的转发信息填写传入接口地址（或IPv6的传入接口ID和本地地址）、上游路由器地址（或IPv6的远程地址）、输入数据包计数、数据包总数、路由协议、S和Src掩码（或IPv6的Src前缀Len）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
7. If the Outgoing Interface is not enabled for multicast, note Forwarding Code of NO_MULTICAST. If the Outgoing Interface is the interface from which the router would expect data to arrive from the source, note Forwarding Code RPF_IF. If the Outgoing Interface is not one to which the router would forward data from the source or RP to the group, a Forwarding Code of WRONG_IF is noted. In the above three cases, the router will return an Mtrace2 Reply and terminate the trace.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
7. 如果未为多播启用传出接口，请注意无_多播的转发代码。如果传出接口是路由器期望数据从源到达的接口，请注意转发代码RPF_If。如果传出接口不是路由器将数据从源或RP转发到组的接口，则会记录错误的_If转发代码。在上述三种情况下，路由器将返回Mtrace2回复并终止跟踪。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
8. If the group is subject to administrative scoping on either the Outgoing or Incoming Interfaces, a Forwarding Code of SCOPED is noted.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
8. 如果该组在传出接口或传入接口上受管理作用域的约束，则会记录范围为的转发代码。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
9. If this router is the RP for the group for a non-source-specific Query, note a Forwarding Code of REACHED_RP. The router will send an Mtrace2 Reply and terminate the trace.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
9. 如果此路由器是非源特定查询组的RP，请注意到达的转发代码。\u RP。路由器将发送Mtrace2回复并终止跟踪。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
10. If this router is directly connected to the specified source or source network on the Incoming Interface, it sets the Upstream Router Address (for IPv4) or the Remote Address (for IPv6) of the response block to zero. The router will send an Mtrace2 Reply and terminate the trace.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
10. 如果此路由器直接连接到传入接口上的指定源或源网络，它会将响应块的上游路由器地址（对于IPv4）或远程地址（对于IPv6）设置为零。路由器将发送Mtrace2回复并终止跟踪。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
11. If this router has sent a prune upstream that applies to the source and group in the Mtrace2 Request, it notes a Forwarding Code of PRUNE_SENT. If the router has stopped forwarding downstream in response to a prune sent by the downstream router, it notes a Forwarding Code of PRUNE_RCVD. If the router should normally forward traffic downstream for this source and group but is not, it notes a Forwarding Code of NOT_FORWARDING.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
11. 如果此路由器已向Mtrace2请求中的源和组发送了适用于该源和组的剪枝上游，则它会记录发送的剪枝的转发代码。如果路由器响应下游路由器发送的删减而停止下游转发，它会记录一个删减RCVD的转发代码。如果路由器通常应将此源和组的流量转发到下游，但不是，则它会记录一个not_转发的转发代码。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
12. If this router is a gateway (e.g., a NAT or firewall) that hides the information between this router and the Mtrace2 client, it notes a Forwarding Code of REACHED_GW. The router continues the processing as described in Section 4.5.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
12. 如果该路由器是一个网关（例如，NAT或防火墙），它隐藏了该路由器和Mtrace2客户端之间的信息，则它会记录一个到达的转发代码。路由器继续进行第4.5节所述的处理。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
13. If the total number of the Standard Response Blocks, including the newly prepared one, and the value of the Augmented Response Type of 0x01, if any, is less than the # Hops in the Request, the packet is then forwarded to the upstream router as described in Section 4.3; otherwise, the packet is sent as an Mtrace2 Reply to the Mtrace2 client as described in Section 4.4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
13. 如果标准响应块（包括新准备的响应块）的总数和扩展响应类型0x01的值（如果有）小于请求中的#跳数，则按照第4.3节所述将数据包转发到上游路由器；否则，数据包将作为Mtrace2回复发送给Mtrace2客户端，如第4.4节所述。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.3. Forwarding Mtrace2 Request
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.3. 转发Mtrace2请求
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section describes how an Mtrace2 Request should be forwarded.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节介绍如何转发Mtrace2请求。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.3.1. Destination Address
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.3.1. 目的地址
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the upstream router for the Mtrace2 Request is known for this Request, the Mtrace2 Request is sent to that router. If the Incoming Interface is known but the upstream router is not, the Mtrace2 Request is sent to an appropriate multicast address on the Incoming Interface. The multicast address SHOULD depend on the multicast routing protocol in use, such as ALL-[protocol]-ROUTERS group. It MUST be a link-scoped group (i.e., 224.0.0.0/24 for IPv4 and FF02::/16 for IPv6) and MUST NOT be the all-systems multicast group (224.0.0.1) for IPv4 and All Nodes Address (FF02::1) for IPv6. It MAY also be the all-routers multicast group (224.0.0.2) for IPv4 or All Routers Address (FF02::2) for IPv6 if the routing protocol in use does not define a more appropriate multicast address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果此请求已知Mtrace2请求的上游路由器，则将Mtrace2请求发送到该路由器。如果传入接口已知，但上游路由器未知，则将Mtrace2请求发送到传入接口上的适当多播地址。多播地址应取决于正在使用的多播路由协议，如ALL-[协议]-路由器组。它必须是一个链接范围组（即，对于IPv4为224.0.0.0/24，对于IPv6为FF02:：/16），对于IPv4为全系统多播组（224.0.0.1），对于IPv6为全节点地址（FF02:：1）。如果正在使用的路由协议没有定义更合适的多播地址，则它也可能是IPv4的所有路由器多播组（224.0.0.2）或IPv6的所有路由器地址（FF02:：2）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.3.2. Source Address
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.3.2. 源地址
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An Mtrace2 Request should be sent with the address of the Incoming Interface. However, if the Incoming Interface is unnumbered, the router can use one of its numbered interface addresses as the source address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2请求应与传入接口的地址一起发送。但是，如果传入接口没有编号，路由器可以使用其编号的接口地址之一作为源地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.3.3. Appending Standard Response Block
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.3.3. 附加标准响应块
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An Mtrace2 Request MUST be sent upstream towards the source or the RP after appending a Standard Response Block to the end of the received Mtrace2 Request. The Standard Response Block includes the multicast states and statistics information of the router described in Section 3.2.4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在接收到的Mtrace2请求末尾附加标准响应块后，必须向源或RP向上游发送Mtrace2请求。标准响应块包括第3.2.4节中描述的路由器的多播状态和统计信息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If appending the Standard Response Block would make the Mtrace2 Request packet longer than the MTU of the Incoming Interface, or, in the case of IPv6, longer than 1280 bytes, the router MUST change the Forwarding Code in the last Standard Response Block of the received Mtrace2 Request into NO_SPACE. The router then turns the Request into a Reply and sends the Reply as described in Section 4.4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果附加标准响应块将使Mtrace2请求数据包比传入接口的MTU长，或者，在IPv6的情况下，超过1280字节，则路由器必须将接收到的Mtrace2请求的最后一个标准响应块中的转发代码更改为NOU空间。然后，路由器将请求转换为应答，并按照第4.4节所述发送应答。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The router will continue with a new Request by copying the old Request, excluding all the response blocks, followed by the previously prepared Standard Response Block and an Augmented Response Block with 0x01 as the Augmented Response Type, and the number of the returned Standard Response Blocks as the Value.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
路由器将通过复制旧请求（不包括所有响应块）继续执行新请求，然后是先前准备的标准响应块和扩展响应块，扩展响应类型为0x01，返回的标准响应块数量为值。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4. Sending Mtrace2 Reply
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4. 发送Mtrace2回复
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An Mtrace2 Reply MUST be returned to the client by a router if any of the following conditions occur:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果出现以下任何情况，路由器必须将Mtrace2回复返回给客户端：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. The total number of the traced routers are equal to the # Hops in the Request (including the one just added) plus the number of the returned blocks, if any.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 跟踪路由器的总数等于请求中的#跳数（包括刚才添加的跳数）加上返回的块数（如果有）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. Appending the Standard Response Block would make the Mtrace2 Request packet longer than the MTU of the Incoming Interface. (In case of IPv6, not more than 1280 bytes; see Section 4.3.3 for additional details on the handling of this case.)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 附加标准响应块将使Mtrace2请求包比传入接口的MTU长。（在IPv6情况下，不超过1280字节；有关此情况处理的更多详细信息，请参阅第4.3.3节。）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. The Request has reached the RP for a non-source-specific Query or has reached the first-hop router for a source-specific Query (see Section 4.2.2, items 9 and 10, for additional details).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. 对于非源特定查询，请求已到达RP，或者对于源特定查询，请求已到达第一跳路由器（有关更多详细信息，请参阅第4.2.2节第9项和第10项）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4.1. Destination Address
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4.1. 目的地址
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An Mtrace2 Reply MUST be sent to the address specified in the Mtrace2 Client Address field in the Mtrace2 Request.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2回复必须发送到Mtrace2请求中Mtrace2客户端地址字段中指定的地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4.2. Source Address
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4.2. 源地址
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An Mtrace2 Reply SHOULD be sent with the address of the router&#39;s Outgoing Interface. However, if the Outgoing Interface address is unnumbered, the router can use one of its numbered interface addresses as the source address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2回复应与路由器输出接口的地址一起发送。但是，如果输出接口地址未编号，路由器可以使用其编号的接口地址之一作为源地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4.3. Appending Standard Response Block
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4.3. 附加标准响应块
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An Mtrace2 Reply MUST be sent with the prepared Standard Response Block appended at the end of the received Mtrace2 Request except in the case of NO_SPACE Forwarding Code.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2回复必须在收到的Mtrace2请求末尾附加准备好的标准响应块，除非没有空间转发代码。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.5. Proxying Mtrace2 Query
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.5. 代理Mtrace2查询
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a gateway (e.g., a NAT or firewall), which needs to block unicast packets to the Mtrace2 client, or hide information between the gateway and the Mtrace2 client, receives an Mtrace2 Query from an adjacent host or Mtrace2 Request from an adjacent router, it appends a Standard Response Block with REACHED_GW as the Forwarding Code. It turns the Query or Request into a Reply and sends the Reply back to the client.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当需要阻止到Mtrace2客户端的单播数据包或隐藏网关和Mtrace2客户端之间的信息的网关（例如NAT或防火墙）接收到来自相邻主机的Mtrace2查询或来自相邻路由器的Mtrace2请求时，它会附加一个标准响应块，其中包含到达的_GW作为转发代码。它将查询或请求转换为应答，并将应答发送回客户端。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
At the same time, the gateway originates a new Mtrace2 Query message by copying the original Mtrace2 header (the Query or Request without any of the response blocks) and making the following changes:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
同时，网关通过复制原始Mtrace2报头（不带任何响应块的查询或请求）并进行以下更改来生成新的Mtrace2查询消息：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o setting the RPF interface&#39;s address as the Mtrace2 Client Address;
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 将RPF接口的地址设置为Mtrace2客户端地址；
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o using its own port number as the Client Port #; and,
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 使用自己的端口号作为客户端端口#；和
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o decreasing # Hops by ((number of the Standard Response Blocks that were just returned in a Reply) - 1). The &#34;- 1&#34; in this expression accounts for the additional Standard Response Block appended by the gateway router.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 将#跳数减少（（回复中刚刚返回的标准响应块的数量）-1）。此表达式中的“-1”表示网关路由器附加的附加标准响应块。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The new Mtrace2 Query message is then sent to the upstream router or to an appropriate multicast address on the RPF interface.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
然后将新的Mtrace2查询消息发送到上游路由器或RPF接口上的适当多播地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the gateway receives an Mtrace2 Reply whose Query ID matches the one in the original Mtrace2 header, it MUST relay the Mtrace2 Reply back to the Mtrace2 client by replacing the Reply&#39;s header with the original Mtrace2 header. If the gateway does not receive the corresponding Mtrace2 Reply within the [Mtrace Reply Timeout] period (see Section 5.8.4), then it silently discards the original Mtrace2 Query or Request message and terminates the trace.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当网关接收到查询ID与原始Mtrace2标头中的查询ID匹配的Mtrace2答复时，它必须通过将答复的标头替换为原始Mtrace2标头，将Mtrace2答复中继回Mtrace2客户端。如果网关在[Mtrace Reply Timeout]期限内（参见第5.8.4节）未收到相应的Mtrace2回复，则它会自动丢弃原始Mtrace2查询或请求消息，并终止跟踪。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.6. Hiding Information
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.6. 隐藏信息
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Information about a domain&#39;s topology and connectivity may be hidden from Mtrace2 Requests. The Forwarding Code of INFO_HIDDEN may be used to note that. For example, the Incoming Interface address and packet count on the ingress router of a domain, and the Outgoing Interface address and packet count on the egress router of the domain, can be specified as all ones. Additionally, the source-group packet count (see Sections 3.2.4 and 3.2.5) within the domain may be all ones if it is hidden.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
有关域的拓扑和连接的信息可能对Mtrace2请求隐藏。INFO_HIDDEN的转发代码可用于说明。例如，可以将域的入口路由器上的输入接口地址和分组计数以及域的出口路由器上的输出接口地址和分组计数指定为所有。此外，域内的源组数据包计数（见第3.2.4节和第3.2.5节）如果是隐藏的，则可能全部为1。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. Client Behavior
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. 客户行为
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section describes the behavior of an Mtrace2 client in detail.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节详细介绍Mtrace2客户端的行为。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. Sending Mtrace2 Query
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. 发送Mtrace2查询
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An Mtrace2 client initiates an Mtrace2 Query by sending the Query to the LHR of interest.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2客户端通过将查询发送到感兴趣的LHR来启动Mtrace2查询。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1.1. Destination Address
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1.1. 目的地址
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If an Mtrace2 client knows the proper LHR, it unicasts an Mtrace2 Query packet to that router; otherwise, it MAY send the Mtrace2 Query packet to the all-routers multicast group (224.0.0.2) for IPv4 or All Routers Address (FF02::2) for IPv6. This will ensure that the packet is received by the LHR on the subnet.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果Mtrace2客户端知道正确的LHR，它将Mtrace2查询数据包单播到该路由器；否则，它可能会将Mtrace2查询数据包发送到IPv4的所有路由器多播组（224.0.0.2）或IPv6的所有路由器地址（FF02:：2）。这将确保子网上的LHR接收到数据包。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
See also Section 5.4 on determining the LHR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
另见第5.4节，确定LHR。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1.2. Source Address
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1.2. 源地址
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An Mtrace2 Query MUST be sent with the client&#39;s interface address, which is the Mtrace2 Client Address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2查询必须与客户端的接口地址（即Mtrace2客户端地址）一起发送。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2. Determining the Path
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2. 确定路径
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An Mtrace2 client could send an initial Query message with a large # Hops, in order to try to trace the full path. If this attempt fails, one strategy is to perform a linear search (as the traditional unicast traceroute program does); set the # Hops field to 1 and try to get a Reply, then 2, and so on. If no Reply is received at a certain hop, this hop is identified as the probable cause of forwarding failures on the path. Nevertheless, the sender may attempt to continue tracing past the non-responding hop by further increasing the hop count in the hope that further hops may respond. Each of these attempts MUST NOT be initiated before the previous attempt has terminated either because of successful reception of a Reply or because the [Mtrace Reply Timeout] timeout has occurred.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2客户机可以发送一个带有较大跳数的初始查询消息，以便尝试跟踪完整路径。如果这种尝试失败，一种策略是执行线性搜索（就像传统的单播跟踪路由程序那样）；将#Hops字段设置为1并尝试获得回复，然后设置为2，依此类推。如果在某个跃点未收到回复，则该跃点被标识为路径上转发失败的可能原因。然而，发送方可以尝试通过进一步增加跳数来继续跟踪未响应的跳，希望更多的跳可以响应。由于成功接收回复或[Mtrace Reply Timeout]超时，在上一次尝试终止之前，不得启动这些尝试。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
See also Section 5.6 on receiving the results of a trace.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
另请参见第5.6节“接收跟踪结果”。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3. Collecting Statistics
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3. 收集统计数据
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
After a client has determined that it has traced the whole path or as much as it can expect to (see Section 5.8), it might collect statistics by waiting a short time and performing a second trace. If the path is the same in the two traces, statistics can be displayed as described in Sections 7.3 and 7.4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在客户机确定它已经跟踪了整个路径或尽可能多的路径（参见第5.8节）之后，它可以通过等待一小段时间并执行第二次跟踪来收集统计信息。如果两条记录道中的路径相同，则可以按照第7.3节和第7.4节所述显示统计信息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4. Last-Hop Router (LHR)
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4. 最后一跳路由器（LHR）
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Mtrace2 client may not know which is the last-hop router, or that router may be behind a firewall that blocks unicast packets but passes multicast packets. In these cases, the Mtrace2 Request should be multicasted to the all-routers multicast group (224.0.0.2) for IPv4 or All Routers Address (FF02::2) for IPv6. All routers except the correct last-hop router SHOULD ignore any Mtrace2 Request received via multicast.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2客户端可能不知道哪一个是最后一跳路由器，或者该路由器可能位于防火墙后面，防火墙阻止单播数据包，但传递多播数据包。在这些情况下，Mtrace2请求应多播到IPv4的所有路由器多播组（224.0.0.2）或IPv6的所有路由器地址（FF02:：2）。除正确的最后一跳路由器外，所有路由器应忽略通过多播接收的任何Mtrace2请求。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.5. First-Hop Router (FHR)
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.5. 第一跳路由器（FHR）
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The IANA assigned 224.0.1.32 as the default multicast group for old IPv4 mtrace (v1) responses, in order to support mtrace clients that are not unicast reachable from the first-hop router. Mtrace2, however, does not require any IPv4/IPv6 multicast addresses for the Mtrace2 Replies. Every Mtrace2 Reply is sent to the unicast address specified in the Mtrace2 Client Address field of the Mtrace2 Reply.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IANA将224.0.1.32指定为旧IPv4 mtrace（v1）响应的默认多播组，以支持无法从第一跳路由器单播访问的mtrace客户端。但是，Mtrace2不需要任何IPv4/IPv6多播地址才能进行Mtrace2回复。每个Mtrace2回复都会发送到Mtrace2回复的Mtrace2客户端地址字段中指定的单播地址。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.6. Broken Intermediate Router
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.6. 中断的中间路由器
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A broken intermediate router might simply not understand Mtrace2 packets and drop them. The Mtrace2 client will get no Reply at all as a result. It should then perform a hop-by-hop search by setting the # Hops field until it gets an Mtrace2 Reply. The client may use linear or binary search; however, the latter is likely to be slower because a failure requires waiting for the [Mtrace Reply Timeout] period.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
中断的中间路由器可能根本无法理解Mtrace2数据包并丢弃它们。因此，Mtrace2客户端将根本得不到任何回复。然后，它应该通过设置#Hops字段执行逐跳搜索，直到得到Mtrace2回复。客户可以使用线性或二进制搜索；但是，后者可能会较慢，因为失败需要等待[Mtrace Reply Timeout]时间。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.7. Non-supported Router
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.7. 不受支持的路由器
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When a non-supported router receives an Mtrace2 Query or Request message whose destination address is a multicast address, the router will silently discard the message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当不受支持的路由器收到目标地址为多播地址的Mtrace2查询或请求消息时，路由器将自动丢弃该消息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the router receives an Mtrace2 Query that is destined to itself, the router returns an Internet Control Message Protocol (ICMP) port unreachable to the Mtrace2 client. On the other hand, when the router receives an Mtrace2 Request that is destined to itself, the router returns an ICMP port unreachable to its adjacent router from which the Request receives. Therefore, the Mtrace2 client needs to terminate the trace when the [Mtrace Reply Timeout] timeout has occurred, and it may then issue another Query with a lower number of # Hops.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当路由器接收到以自身为目的地的Mtrace2查询时，路由器返回Mtrace2客户端无法访问的Internet控制消息协议（ICMP）端口。另一方面，当路由器接收到一个以自身为目的地的Mtrace2请求时，路由器返回一个ICMP端口，该端口无法到达该请求所来自的相邻路由器。因此，当[Mtrace Reply Timeout]超时发生时，Mtrace2客户端需要终止跟踪，然后它可能会发出另一个具有较低跳数的查询。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.8. Mtrace2 Termination
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.8. MT2终止
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When performing an expanding hop-by-hop trace, it is necessary to determine when to stop expanding.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
执行逐跳扩展跟踪时，需要确定何时停止扩展。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.8.1. Arriving at Source
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.8.1. 到达源头
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A trace can be determined to have arrived at the source if the Incoming Interface of the last router in the trace is non-zero, but the upstream router is zero.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果跟踪中最后一个路由器的传入接口为非零，但上游路由器为零，则可以确定跟踪已到达源。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.8.2. Fatal Error
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.8.2. 致命错误
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A trace has encountered a fatal error if the last Forwarding Error in the trace has the 0x80 bit set.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果跟踪中的最后一个转发错误设置为0x80位，则跟踪遇到致命错误。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.8.3. No Upstream Router
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.8.3. 无上行路由器
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A trace cannot continue if the last upstream router in the trace is set to 0.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果跟踪中的最后一个上游路由器设置为0，则跟踪无法继续。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.8.4. Reply Timeout
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.8.4. 回复超时
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document defines the [Mtrace Reply Timeout] value, which is used to time out an Mtrace2 Reply as seen in Sections 4.5, 5.2, and 5.7. The default [Mtrace Reply Timeout] value is 10 (seconds) and can be manually changed on the Mtrace2 client and routers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本文档定义了[Mtrace Reply Timeout]值，该值用于超时Mtrace2回复，如第4.5、5.2和5.7节所示。默认[Mtrace Reply Timeout]值为10（秒），可以在Mtrace2客户端和路由器上手动更改。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.9. Continuing after an Error
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.9. 出错后继续
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the NO_SPACE error occurs, as described in Section 4.2, a router will send back an Mtrace2 Reply to the Mtrace2 client and continue with a new Request (see Section 4.3.3). In this case, the Mtrace2 client may receive multiple Mtrace2 Replies from different routers along the path. When this happens, the client MUST treat them as a single Mtrace2 Reply message by collating the Augmented Response Blocks of subsequent Replies sharing the same Query ID, sequencing each cluster of Augmented Response Blocks based on the order in which they are received.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如第4.2节所述，当出现无空间错误时，路由器将向Mtrace2客户端发回Mtrace2回复，并继续执行新请求（见第4.3.3节）。在这种情况下，Mtrace2客户端可以从路径上的不同路由器接收多个Mtrace2应答。发生这种情况时，客户机必须将它们视为单个Mtrace2回复消息，方法是整理共享相同查询ID的后续回复的增强响应块，并根据接收顺序对每个增强响应块集群进行排序。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If a trace times out, it is very likely that a router in the middle of the path does not support Mtrace2. That router&#39;s address will be in the Upstream Router field of the last Standard Response Block in the last received Reply. A client may be able to determine a list of neighbors of the non-responding router (e.g., by using the Simple Network Management Protocol (SNMP) [12] [14]). The neighbors obtained in this way could then be probed (via the multicast MIB [14]) to determine which one is the upstream neighbor (i.e., an RPF
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果跟踪超时，很可能路径中间的路由器不支持McTrace2。该路由器的地址将位于上次收到的应答中最后一个标准响应块的上游路由器字段中。客户端可以确定无响应路由器的邻居列表（例如，通过使用简单网络管理协议（SNMP）[12][14]）。然后可以探测（通过多播MIB[14]）以确定哪一个是上游邻居（即，RPF）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
neighbor) of the non-responding router. This algorithm can identify the upstream neighbor because, even though there may be multiple neighbors, the non-responding router should only have sent a &#34;join&#34; to the one neighbor corresponding to its selected RPF path. Because of this, only the RPF neighbor should contain the non-responding router as a multicast next hop in its MIB output list for the affected multicast route.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
无响应路由器的邻居）。该算法可以识别上游邻居，因为即使可能有多个邻居，无响应路由器也应该只向与其所选RPF路径对应的一个邻居发送“连接”。因此，对于受影响的多播路由，只有RPF邻居应该在其MIB输出列表中包含作为多播下一跳的无响应路由器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. Protocol-Specific Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. 特定于议定书的考虑
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section describes the Mtrace2 behavior with the presence of different multicast protocols.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节描述存在不同多播协议的Mtrace2行为。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.1. PIM-SM
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.1. PIM-SM
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an Mtrace2 reaches a PIM-SM RP, and the RP does not forward the trace on, it means that the RP has not performed a source-specific join, so there is no more state to trace. However, the path that traffic would use if the RP did perform a source-specific join can be traced by setting the trace destination to the RP, the trace source to the traffic source, and the trace group to 0. This Mtrace2 Query may be unicasted to the RP, and the RP takes the same actions as an LHR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当Mtrace2到达PIM-SM RP时，RP没有转发上的跟踪，这意味着RP没有执行源特定的连接，因此没有更多的状态可跟踪。但是，如果RP确实执行源特定连接，则可以通过将跟踪目标设置为RP、将跟踪源设置为流量源、将跟踪组设置为0来跟踪流量将使用的路径。此Mtrace2查询可以单播到RP，RP采取与LHR相同的操作。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2. Bidirectional PIM
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2. 双向PIM
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Bidirectional PIM [4] is a variant of PIM-SM that builds bidirectional shared trees that connect multicast sources and receivers. Along the bidirectional shared trees, multicast data is natively forwarded from the sources to the Rendezvous Point Link (RPL), and from which, to receivers without requiring source-specific state. In contrast to PIM-SM, Bidirectional PIM always has the state to trace.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
双向PIM[4]是PIM-SM的一个变体，它构建连接多播源和接收器的双向共享树。沿着双向共享树，多播数据从源本地转发到集合点链路（RPL），并从该链路转发到接收机，而无需源特定状态。与PIM-SM相反，双向PIM始终具有要跟踪的状态。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A Designated Forwarder (DF) for a given Rendezvous Point Address (RPA) is in charge of forwarding downstream traffic onto its link and forwarding upstream traffic from its link towards the RPL that the RPA belongs to. Hence, Mtrace2 Reply reports DF addresses or RPA along the path.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
给定集合点地址（RPA）的指定转发器（DF）负责将下游流量转发到其链路上，并将上游流量从其链路转发到RPA所属的RPL。因此，Mtrace2 Reply报告沿路径的DF地址或RPA。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.3. PIM-DM
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.3. PIM-DM
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Routers running PIM - Dense Mode (PIM-DM) [11] do not know the path packets would take unless traffic is flowing. Without some extra protocol mechanism, this means that in an environment with multiple possible paths with branch points on shared media, Mtrace2 can only trace existing paths, not potential paths. When there are multiple
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
运行PIM密集模式（PIM-DM）[11]的路由器不知道数据包的路径，除非流量流动。如果没有一些额外的协议机制，这意味着在共享媒体上有多条可能路径和分支点的环境中，Mtrace2只能跟踪现有路径，而不能跟踪潜在路径。当有多个
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
possible paths but the branch points are not on shared media, the upstream router is known, but the LHR may not know that it is the appropriate last hop.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
可能的路径但分支点不在共享媒体上，上游路由器已知，但LHR可能不知道它是适当的最后一跳。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When traffic is flowing, PIM-DM routers know whether or not they are the LHR for the link (because they won or lost an Assert battle) and know who the upstream router is (because it won an Assert battle). Therefore, Mtrace2 is always able to follow the proper path when traffic is flowing.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当流量流动时，PIM-DM路由器知道它们是否是链路的LHR（因为它们赢得或输掉了一场断言战），并且知道上游路由器是谁（因为它赢得了一场断言战）。因此，当交通流动时，Mtrace2始终能够遵循正确的路径。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.4. IGMP/MLD Proxy
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.4. IGMP/MLD代理
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When an IGMP or Multicast Listener Discovery (MLD) Proxy [3] receives an Mtrace2 Query packet on an Incoming Interface, it notes a WRONG_IF in the Forwarding Code of the last Standard Response Block (see Section 3.2.4) and sends the Mtrace2 Reply back to the Mtrace2 client. On the other hand, when an Mtrace2 Query packet reaches an Outgoing Interface of the IGMP/MLD proxy, it is forwarded onto its Incoming Interface towards the upstream router.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
当IGMP或多播侦听器发现（MLD）代理[3]在传入接口上接收到Mtrace2查询数据包时，它会在最后一个标准响应块（参见第3.2.4节）的转发代码中记录错误的_，并将Mtrace2回复发送回Mtrace2客户端。另一方面，当Mtrace2查询包到达IGMP/MLD代理的传出接口时，它被转发到其传入接口上，朝向上游路由器。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. Problem Diagnosis
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. 问题诊断
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section describes different scenarios in which Mtrace2 can be used to diagnose the multicast problems.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节描述了Mtrace2可用于诊断多播问题的不同场景。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1. Forwarding Inconsistencies
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1. 转发不一致
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Forwarding Error code can tell if a group is unexpectedly pruned or administratively scoped.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
转发错误代码可以判断组是否被意外删除或管理范围。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2. TTL or Hop-Limit Problems
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2. TTL或跃点限制问题
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
By taking the maximum of hops from the source and forwarding the TTL threshold over all hops, it is possible to discover the TTL or hop limit required for the source to reach the destination.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
通过从源获取最大跳数并在所有跳数上转发TTL阈值，可以发现源到达目的地所需的TTL或跳数限制。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.3. Packet Loss
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.3. 丢包
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
By taking multiple traces, it is possible to find packet-loss information by tracking the difference between the output packet count for the specified source-group address pair at a given upstream router and the input packet count on the next-hop downstream router. On a point-to-point link, any steadily increasing difference in these counts implies packet loss. Although the packet counts will differ due to Mtrace2 Request propagation delay, the difference should remain essentially constant (except for jitter caused by differences in propagation time among the trace iterations). However, this difference will display a steady increase if packet loss is
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
通过采取多个跟踪，可以通过跟踪给定上游路由器上指定源组地址对的输出分组计数与下一跳下游路由器上的输入分组计数之间的差值来查找分组丢失信息。在点到点链路上，这些计数的任何稳步增加的差异都意味着数据包丢失。尽管由于Mtrace2请求传播延迟，数据包计数将有所不同，但差异应基本保持不变（跟踪迭代之间传播时间差异引起的抖动除外）。然而，如果数据包丢失是正常的，则这种差异将稳步增加
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
occurring. On a shared link, the count of input packets can be larger than the number of output packets at the previous hop, due to other routers or hosts on the link injecting packets. This appears as &#34;negative loss&#34;, which may mask real packet loss.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
发生。在共享链路上，由于链路上的其他路由器或主机注入数据包，输入数据包的数量可能大于上一跳的输出数据包的数量。这显示为“负丢失”，可能会掩盖真实的数据包丢失。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In addition to the counts of input and output packets for all multicast traffic on the interfaces, the Standard Response Block includes a count of the packets forwarded by a node for the specified source-group pair. Taking the difference in this count between two traces and then comparing those differences between two hops gives a measure of packet loss just for traffic from the specified source to the specified receiver via the specified group. This measure is not affected by shared links.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
除了接口上所有多播业务的输入和输出分组的计数外，标准响应块还包括由节点为指定的源组对转发的分组的计数。获取两个记录道之间的计数差，然后比较两个跃点之间的差异，就可以测量通过指定组从指定源到指定接收器的流量的数据包丢失。此度量不受共享链接的影响。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
On a point-to-point link that is a multicast tunnel, packet loss is usually due to congestion in unicast routers along the path of that tunnel. On native multicast links, loss is more likely in the output queue of one hop, perhaps due to priority dropping, or in the input queue at the next hop. The counters in the Standard Response Block do not allow these cases to be distinguished. Differences in packet counts between the Incoming and Outgoing Interfaces on one node cannot generally be used to measure queue overflow in the node.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
在作为多播隧道的点对点链路上，数据包丢失通常是由于沿着该隧道路径的单播路由器中的拥塞造成的。在本机多播链路上，丢失更可能发生在一个跃点的输出队列中，可能是由于优先级下降，或者是在下一个跃点的输入队列中。标准响应块中的计数器不允许区分这些情况。一个节点上的传入和传出接口之间的数据包计数差异通常不能用于测量节点中的队列溢出。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.4. Link Utilization
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.4. 链路利用率
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Again, with two traces, you can divide the difference in the input or output packet counts at some hop by the difference in timestamps from the same hop to obtain the packet rate over the link. If the average packet size is known, then the link utilization can also be estimated to see whether packet loss may be due to the rate limit or the physical capacity on a particular link being exceeded.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
同样，使用两条记录道，您可以将某一跳的输入或输出数据包计数的差异除以同一跳的时间戳的差异，以获得链路上的数据包速率。如果平均分组大小已知，则还可以估计链路利用率，以查看分组丢失是否可能是由于速率限制或特定链路上的物理容量被超过所致。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.5. Time Delay
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.5. 延时
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the routers have synchronized clocks, it is possible to estimate propagation and queuing delay from the differences between the timestamps at successive hops. However, this delay includes control processing overhead, so is not necessarily indicative of the delay that data traffic would experience.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
如果路由器具有同步时钟，则可以根据连续跳的时间戳之间的差异来估计传播和排队延迟。然而，该延迟包括控制处理开销，因此不一定表示数据通信将经历的延迟。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. IANA Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. IANA考虑
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following registries have been created and are maintained under the &#34;Specification Required&#34; registry policy as specified in [6].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
已创建以下注册表，并按照[6]中规定的“所需规范”注册表策略进行维护。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.1. &#34;Mtrace2 Forwarding Codes&#34; Registry
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.1. “Mtrace2转发代码”注册表
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This registry holds integers in the range 0-255. Assignment of a Forwarding Code requires specification of a value and a name for the Forwarding Code. Initial values for the Forwarding Codes are given in the table at the end of Section 3.2.4. Additional values (specific to IPv6) may also be specified at the end of Section 3.2.5. Any additions to this registry are required to fully describe the conditions under which the new Forwarding Code is used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此注册表包含0-255范围内的整数。分配转发代码需要指定转发代码的值和名称。第3.2.4节末尾的表格中给出了转发代码的初始值。附加值（特定于IPv6）也可在第3.2.5节末尾指定。需要对此注册表进行任何添加，以充分描述使用新转发代码的条件。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2. &#34;Mtrace2 TLV Types&#34; Registry
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2. “Mtrace2 TLV类型”注册表
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Assignment of a TLV Type requires specification of an integer value &#34;Code&#34; in the range 0-255 and a name (&#34;Type&#34;). Initial values for the TLV Types are given in the table at the beginning of Section 3.2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
TLV类型的分配需要指定0-255范围内的整数值“代码”和名称（“类型”）。第3.2节开头的表格中给出了TLV类型的初始值。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.3. UDP Destination Port
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.3. UDP目标端口
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IANA has assigned UDP user port 33435 (mtrace) for use by this protocol as the Mtrace2 UDP destination port.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IANA已将此协议使用的UDP用户端口33435（mtrace）指定为Mtrace2 UDP目标端口。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. 安全考虑
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section addresses some of the security considerations related to Mtrace2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本节介绍与Mtrace2相关的一些安全注意事项。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.1. Addresses in Mtrace2 Header
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.1. Mtrace2头中的地址
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An Mtrace2 header includes three addresses: a source address, a multicast address, and an Mtrace2 Client Address. These addresses MUST be congruent with the definition defined in Section 3.2.1, and forwarding Mtrace2 messages that have invalid addresses MUST be prohibited. For instance, if the Mtrace2 Client Address specified in an Mtrace2 header is a multicast address, then a router that receives the Mtrace2 message MUST silently discard it.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2标头包括三个地址：源地址、多播地址和Mtrace2客户端地址。这些地址必须与第3.2.1节中定义的定义一致，并且必须禁止转发具有无效地址的Mtrace2消息。例如，如果在Mtrace2报头中指定的Mtrace2客户端地址是多播地址，则接收Mtrace2消息的路由器必须以静默方式放弃它。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.2. Verification of Clients and Peers
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.2. 客户和同行的验证
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A router providing Mtrace2 functionality MUST support a source-verification mechanism to drop Queries from clients and Requests from peer router or client addresses that are unauthorized or that are beyond a specified administrative boundary. This verification could, for example, be specified via a list of allowed/disallowed clients and peer addresses or subnets for a given Mtrace2 message type sent to the Mtrace2 protocol port. If a Query or Request is received from an unauthorized address or one beyond the specified administrative boundary, the Query/Request MUST NOT be processed. The router MAY, however, perform rate-limited logging of such events.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
提供Mtrace2功能的路由器必须支持源验证机制，以删除来自客户端的查询以及来自对等路由器或客户端地址的未经授权或超出指定管理边界的请求。例如，可以通过发送到Mtrace2协议端口的给定Mtrace2消息类型的允许/不允许客户端和对等地址或子网列表来指定此验证。如果从未经授权的地址或超出指定管理边界的地址收到查询或请求，则不得处理该查询/请求。然而，路由器可以对此类事件执行速率受限的日志记录。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The required use of source verification on the participating routers minimizes the possible methods for introduction of spoofed Query/ Request packets that would otherwise enable DoS amplification attacks targeting an authorized &#34;query&#34; host. The source verification mechanisms provide this protection by allowing Query messages from an authorized host address to be received only by the router(s) connected to that host and only on the interface to which that host is attached. For protection against spoofed Request messages, the source-verification mechanisms allow Request messages only from a directly connected routing peer and allow these messages to be received only on the interface to which that peer is attached.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
参与路由器上所需的源验证使用最小化了引入伪造查询/请求数据包的可能方法，否则将导致针对授权“查询”主机的DoS放大攻击。源验证机制通过允许来自授权主机地址的查询消息仅由连接到该主机的路由器接收，并且仅在该主机所连接的接口上接收来提供这种保护。为了防止伪造请求消息，源验证机制只允许来自直接连接的路由对等方的请求消息，并且只允许在该对等方连接的接口上接收这些消息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that the following vulnerabilities cannot be covered by the source verification methods described here. These methods can, nevertheless, prevent attacks launched from outside the boundaries of a given network as well as from any hosts within the network that are not on the same LAN as an intended authorized query client.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
请注意，此处描述的源验证方法无法覆盖以下漏洞。然而，这些方法可以防止从给定网络边界之外以及从网络内与预期授权查询客户端不在同一LAN上的任何主机发起的攻击。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o A server/router &#34;B&#34; other than the server/router &#34;A&#34; that actually &#34;owns&#34; a given IP address could, if it is connected to the same LAN, send an Mtrace2 Query or Request with the source address set to the address for server/router &#34;A&#34;. This is not a significant threat, however, if only trusted servers and routers are connected to that LAN.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 如果服务器/路由器“B”连接到同一LAN，则实际“拥有”给定IP地址的服务器/路由器“A”以外的服务器/路由器“B”可以发送Mtrace2查询或请求，源地址设置为服务器/路由器“A”的地址。但是，如果只有受信任的服务器和路由器连接到该LAN，则这不是一个重大威胁。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o A malicious application running on a trusted server or router could send packets that might cause an amplification problem. It is beyond the scope of this document to protect against a DoS attack launched from the same host that is the target of the attack or from another &#34;on path&#34; host, but this is not a likely threat scenario. In addition, routers on the path MAY rate-limit the packets as specified in Sections 9.5 and 9.6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 在受信任的服务器或路由器上运行的恶意应用程序可能发送可能导致放大问题的数据包。防范来自攻击目标主机或另一“路径上”主机的DoS攻击超出了本文档的范围，但这不可能是一种威胁场景。此外，路径上的路由器可以按照第9.5节和第9.6节的规定对数据包进行速率限制。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.3. Topology Discovery
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.3. 拓扑发现
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2 can be used to discover any actively used topology. If your network topology is a secret, Mtrace2 may be restricted at the border of your domain, using the ADMIN_PROHIB Forwarding Code.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2可用于发现任何活动使用的拓扑。如果您的网络拓扑是保密的，则Mtrace2可能会使用ADMIN_PROHIB转发代码限制在域边界。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.4. Characteristics of Multicast Channel
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.4. 多播信道特性
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2 can be used to discover what sources are sending to what groups and at what rates. If this information is a secret, Mtrace2 may be restricted at the border of your domain, using the ADMIN_PROHIB Forwarding Code.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2可用于发现哪些来源发送到哪些组以及发送速率。如果此信息是机密信息，Mtrace2可能会使用ADMIN_PROHIB转发代码限制在您的域边界。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.5. Limiting Query/Request Rates
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.5. 限制查询/请求速率
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A router may limit Mtrace2 Queries and Requests by ignoring some of the consecutive messages. The router MAY randomly ignore the received messages to minimize the processing overhead, i.e., to keep fairness in processing Queries or prevent traffic amplification. The rate limit is left to the router&#39;s implementation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
路由器可以通过忽略某些连续消息来限制Mtrace2查询和请求。路由器可以随机忽略接收到的消息以最小化处理开销，即，保持处理查询的公平性或防止流量放大。速率限制留给路由器的实现。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.6. Limiting Reply Rates
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.6. 限制答复率
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The proxying and NO_SPACE behaviors may result in one Query returning multiple Reply messages. In order to prevent abuse, the routers in the traced path MAY need to rate-limit the Replies. The rate-limit function is left to the router&#39;s implementation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
代理和无空间行为可能导致一个查询返回多个回复消息。为了防止滥用，跟踪路径中的路由器可能需要对回复进行速率限制。速率限制功能留给路由器实现。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.7. Specific Security Concerns
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.7. 具体的安全问题
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.7.1. Request and Response Bombardment
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.7.1. 请求和响应轰炸
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A malicious sender could generate invalid and undesirable Mtrace2 traffic to hosts and/or routers on a network by eliciting responses to spoofed or multicast client addresses. This could be done via forged or multicast client/source addresses in Mtrace2 Query or Request messages. The recommended protections against this type of attack are described in Sections 9.1, 9.2, 9.5, and 9.6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
恶意发送方可通过对伪造或多播客户端地址的响应，向网络上的主机和/或路由器生成无效和不需要的Mtrace2通信量。这可以通过Mtrace2查询或请求消息中的伪造或多播客户端/源地址来实现。第9.1、9.2、9.5和9.6节介绍了针对此类攻击的建议保护措施。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.7.2. Amplification Attack
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.7.2. 放大攻击
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Because an Mtrace2 Query results in Mtrace2 Request and Mtrace2 Reply messages that are larger than the original message, the potential exists for an amplification attack from a malicious sender. This threat is minimized by restricting the set of addresses from which Mtrace2 messages can be received on a given router as specified in Section 9.2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
由于Mtrace2查询会导致Mtrace2请求和Mtrace2回复消息大于原始消息，因此存在恶意发送者的放大攻击的可能性。根据第9.2节的规定，通过限制可在给定路由器上接收Mtrace2消息的地址集，将这种威胁降至最低。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In addition, for a router running a PIM protocol (PIM-SM, PIM-DM, PIM - Source-Specific Multicast (PIM-SSM), or Bidirectional PIM), the router SHOULD drop any Mtrace2 Request or Reply message that is received from an IP address that does not correspond to an authenticated PIM neighbor on the interface from which the packet is received. The intent of this text is to prevent non-router endpoints from injecting Request messages. Implementations of non-PIM protocols SHOULD employ some other mechanism to prevent this attack.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
此外，对于运行PIM协议（PIM-SM、PIM-DM、PIM源特定多播（PIM-SSM）或双向PIM）的路由器，路由器应丢弃从接收数据包的接口上的IP地址接收的任何Mtrace2请求或回复消息，该IP地址与经过验证的PIM邻居不对应。本文的目的是防止非路由器端点注入请求消息。非PIM协议的实现应该采用一些其他机制来防止这种攻击。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.7.3. Leaking of Confidential Topology Details
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.7.3. 泄露机密拓扑详细信息
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2 Queries are a potential mechanism for obtaining confidential topology information for a targeted network. Sections 9.2 and 9.4 describe required and optional methods for ensuring that information delivered with Mtrace2 messages is not disseminated to unauthorized hosts.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Mtrace2查询是获取目标网络机密拓扑信息的潜在机制。第9.2节和第9.4节描述了确保Mtrace2消息传递的信息不会传播给未经授权的主机所需和可选的方法。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.7.4. Delivery of False Information (Forged Reply Messages)
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.7.4. 提供虚假信息（伪造回复信息）
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Forged Reply messages could potentially provide a host with invalid or incorrect topology information. They could also provide invalid or incorrect information regarding multicast traffic statistics, multicast stream propagation delay between hops, multicast and unicast protocols in use between hops and other information used for analyzing multicast traffic patterns, and troubleshooting multicast traffic problems. This threat is mitigated by the following factors:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
伪造的回复消息可能为主机提供无效或不正确的拓扑信息。它们还可以提供有关多播流量统计信息、多播流在跃点之间的传播延迟、在跃点之间使用的多播和单播协议以及用于分析多播流量模式和解决多播流量问题的其他信息的无效或不正确信息。这一威胁通过以下因素得以缓解：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The required source verification of permissible source addresses specified in Section 9.2 eliminates the origination of forged Replies from addresses that have not been authorized to send Mtrace2 messages to routers on a given network. This mechanism can block forged Reply messages sent from any &#34;off path&#34; source.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 第9.2节中规定的允许源地址的所需源验证消除了未经授权向给定网络上的路由器发送Mtrace2消息的地址伪造回复的来源。此机制可以阻止从任何“非路径”源发送的伪造回复消息。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o To forge a Reply, the sender would need to somehow know (or guess) the associated 2-byte Query ID for an extant Query and the dynamically allocated source port number. Because &#34;off path&#34; sources can be blocked by a source verification mechanism, the scope of this threat is limited to &#34;on path&#34; attackers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 要伪造回复，发送方需要知道（或猜测）现有查询的关联2字节查询ID和动态分配的源端口号。由于源验证机制可以阻止“非路径”源，因此此威胁的范围仅限于“路径上”攻击者。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The required use of source verification (Section 9.2) and recommended use of PIM neighbor authentication (Section 9.7.2) for messages that are only valid when sent by a multicast routing peer (Request and Reply messages) eliminate the possibility of reception of a forged Reply from an authorized host address that does not belong to a multicast peer router.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 对于仅在由多播路由对等方发送时有效的消息（请求和回复消息），要求使用源验证（第9.2节）和建议使用PIM邻居验证（第9.7.2节）消除从不属于多播对等路由器的授权主机地址接收伪造回复的可能性。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The use of encryption between the source of a Query and the endpoint of the trace would provide a method to protect the values of the Query ID and the dynamically allocated client (source) port (see Section 3.2.1). These are the values needed to create a forged Reply message that would pass validity checks at the querying client. This type of cryptographic protection is not practical, however, because the primary reason for executing an Mtrace2 is that the destination endpoint (and path to that endpoint) are not known by the querying client. While it is not practical to provide cryptographic protection between a client and the Mtrace2 endpoints (destinations), it may be possible to
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 在查询源和跟踪端点之间使用加密将提供一种方法来保护查询ID和动态分配的客户端（源）端口的值（参见第3.2.1节）。这些是创建伪造回复消息所需的值，该消息将通过查询客户端的有效性检查。但是，这种类型的加密保护并不实用，因为执行Mtrace2的主要原因是查询客户端不知道目标端点（以及到该端点的路径）。虽然在客户机和Mtrace2端点（目的地）之间提供加密保护并不实际，但可以
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
prevent forged responses from &#34;off path&#34; nodes attached to any Mtrace2 transit LAN by devising a scheme to encrypt the critical portions of an Mtrace2 message between each valid sender/receiver pair at each hop to be used for multicast/Mtrace2 transit. The use of encryption protection between nodes is, however, out of the scope of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
通过设计一种方案，对用于多播/Mtrace2传输的每个跃点处的每个有效发送方/接收方对之间的Mtrace2消息的关键部分进行加密，防止来自连接到任何Mtrace2传输LAN的“非路径”节点的伪造响应。但是，在节点之间使用加密保护超出了本文档的范围。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10. References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10. 工具书类
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10.1. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10.1. 规范性引用文件
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[1] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, &lt;https://www.rfc-editor.org/info/rfc2119&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[1] Bradner，S.，“RFC中用于表示需求水平的关键词”，BCP 14，RFC 2119，DOI 10.17487/RFC2119，1997年3月&lt;https://www.rfc-editor.org/info/rfc2119&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[2] Hinden, R. and S. Deering, &#34;IP Version 6 Addressing Architecture&#34;, RFC 4291, DOI 10.17487/RFC4291, February 2006, &lt;https://www.rfc-editor.org/info/rfc4291&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[2] Hinden，R.和S.Deering，“IP版本6寻址体系结构”，RFC 4291，DOI 10.17487/RFC42912006年2月&lt;https://www.rfc-editor.org/info/rfc4291&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[3] Fenner, B., He, H., Haberman, B., and H. Sandick, &#34;Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding (&#34;IGMP/MLD Proxying&#34;)&#34;, RFC 4605, DOI 10.17487/RFC4605, August 2006, &lt;https://www.rfc-editor.org/info/rfc4605&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[3] Fenner，B.，He，H.，Haberman，B.，和H.Sandick，“基于Internet组管理协议（IGMP）/多播侦听器发现（MLD）的多播转发（“IGMP/MLD代理”）”，RFC 4605，DOI 10.17487/RFC4605，2006年8月&lt;https://www.rfc-editor.org/info/rfc4605&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[4] Handley, M., Kouvelas, I., Speakman, T., and L. Vicisano, &#34;Bidirectional Protocol Independent Multicast (BIDIR- PIM)&#34;, RFC 5015, DOI 10.17487/RFC5015, October 2007, &lt;https://www.rfc-editor.org/info/rfc5015&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[4] Handley，M.，Kouvelas，I.，Speakman，T.，和L.Vicisano，“双向协议独立多播（BIDIR-PIM）”，RFC 5015，DOI 10.17487/RFC5015，2007年10月&lt;https://www.rfc-editor.org/info/rfc5015&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[5] Fenner, B., Handley, M., Holbrook, H., Kouvelas, I., Parekh, R., Zhang, Z., and L. Zheng, &#34;Protocol Independent Multicast - Sparse Mode (PIM-SM): Protocol Specification (Revised)&#34;, STD 83, RFC 7761, DOI 10.17487/RFC7761, March 2016, &lt;https://www.rfc-editor.org/info/rfc7761&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[5] Fenner，B.，Handley，M.，Holbrook，H.，Kouvelas，I.，Parekh，R.，Zhang，Z.，和L.Zheng，“协议独立多播-稀疏模式（PIM-SM）：协议规范（修订版）”，STD 83，RFC 7761，DOI 10.17487/RFC7761，2016年3月&lt;https://www.rfc-editor.org/info/rfc7761&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[6] Cotton, M., Leiba, B., and T. Narten, &#34;Guidelines for Writing an IANA Considerations Section in RFCs&#34;, BCP 26, RFC 8126, DOI 10.17487/RFC8126, June 2017, &lt;https://www.rfc-editor.org/info/rfc8126&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[6] Cotton，M.，Leiba，B.，和T.Narten，“在RFCs中编写IANA考虑因素部分的指南”，BCP 26，RFC 8126，DOI 10.17487/RFC8126，2017年6月&lt;https://www.rfc-editor.org/info/rfc8126&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[7] Leiba, B., &#34;Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words&#34;, BCP 14, RFC 8174, DOI 10.17487/RFC8174, May 2017, &lt;https://www.rfc-editor.org/info/rfc8174&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[7] Leiba，B.“RFC 2119关键词中大写与小写的歧义”，BCP 14，RFC 8174，DOI 10.17487/RFC8174，2017年5月&lt;https://www.rfc-editor.org/info/rfc8174&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[8] Deering, S. and R. Hinden, &#34;Internet Protocol, Version 6 (IPv6) Specification&#34;, STD 86, RFC 8200, DOI 10.17487/RFC8200, July 2017, &lt;https://www.rfc-editor.org/info/rfc8200&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[8] Deering，S.和R.Hinden，“互联网协议，第6版（IPv6）规范”，STD 86，RFC 8200，DOI 10.17487/RFC8200，2017年7月&lt;https://www.rfc-editor.org/info/rfc8200&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10.2. Informative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10.2. 资料性引用
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[9] McCloghrie, K. and F. Kastenholz, &#34;The Interfaces Group MIB&#34;, RFC 2863, DOI 10.17487/RFC2863, June 2000, &lt;https://www.rfc-editor.org/info/rfc2863&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[9] McCloghrie，K.和F.Kastenholz，“接口组MIB”，RFC 2863，DOI 10.17487/RFC2863，2000年6月&lt;https://www.rfc-editor.org/info/rfc2863&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[10] Cain, B., Deering, S., Kouvelas, I., Fenner, B., and A. Thyagarajan, &#34;Internet Group Management Protocol, Version 3&#34;, RFC 3376, DOI 10.17487/RFC3376, October 2002, &lt;https://www.rfc-editor.org/info/rfc3376&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[10] Cain，B.，Deering，S.，Kouvelas，I.，Fenner，B.，和A.Thyagarajan，“互联网组管理协议，版本3”，RFC 3376，DOI 10.17487/RFC3376，2002年10月&lt;https://www.rfc-editor.org/info/rfc3376&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[11] Adams, A., Nicholas, J., and W. Siadak, &#34;Protocol Independent Multicast - Dense Mode (PIM-DM): Protocol Specification (Revised)&#34;, RFC 3973, DOI 10.17487/RFC3973, January 2005, &lt;https://www.rfc-editor.org/info/rfc3973&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[11] Adams，A.，Nicholas，J.，和W.Siadak，“协议独立多播-密集模式（PIM-DM）：协议规范（修订版）”，RFC 3973，DOI 10.17487/RFC3973，2005年1月&lt;https://www.rfc-editor.org/info/rfc3973&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[12] Draves, R. and D. Thaler, &#34;Default Router Preferences and More-Specific Routes&#34;, RFC 4191, DOI 10.17487/RFC4191, November 2005, &lt;https://www.rfc-editor.org/info/rfc4191&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[12] Draves，R.和D.Thaler，“默认路由器首选项和更具体的路由”，RFC 4191，DOI 10.17487/RFC4191，2005年11月&lt;https://www.rfc-editor.org/info/rfc4191&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[13] Gill, V., Heasley, J., Meyer, D., Savola, P., Ed., and C. Pignataro, &#34;The Generalized TTL Security Mechanism (GTSM)&#34;, RFC 5082, DOI 10.17487/RFC5082, October 2007, &lt;https://www.rfc-editor.org/info/rfc5082&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[13] Gill，V.，Heasley，J.，Meyer，D.，Savola，P.，Ed.，和C.Pignataro，“广义TTL安全机制（GTSM）”，RFC 5082，DOI 10.17487/RFC5082，2007年10月&lt;https://www.rfc-editor.org/info/rfc5082&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[14] McWalter, D., Thaler, D., and A. Kessler, &#34;IP Multicast MIB&#34;, RFC 5132, DOI 10.17487/RFC5132, December 2007, &lt;https://www.rfc-editor.org/info/rfc5132&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[14] McWalter，D.，Thaler，D.，和A.Kessler，“IP多播MIB”，RFC 5132，DOI 10.17487/RFC5132，2007年12月&lt;https://www.rfc-editor.org/info/rfc5132&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[15] Rosen, E., Ed. and R. Aggarwal, Ed., &#34;Multicast in MPLS/ BGP IP VPNs&#34;, RFC 6513, DOI 10.17487/RFC6513, February 2012, &lt;https://www.rfc-editor.org/info/rfc6513&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[15] Rosen，E.，Ed.和R.Aggarwal，Ed.，“MPLS/BGP IP VPN中的多播”，RFC 6513，DOI 10.17487/RFC6513，2012年2月&lt;https://www.rfc-editor.org/info/rfc6513&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[16] Bumgardner, G., &#34;Automatic Multicast Tunneling&#34;, RFC 7450, DOI 10.17487/RFC7450, February 2015, &lt;https://www.rfc-editor.org/info/rfc7450&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[16] Bumgardner，G.“自动多播隧道”，RFC 7450，DOI 10.17487/RFC7450，2015年2月&lt;https://www.rfc-editor.org/info/rfc7450&gt;.
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Acknowledgements
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
致谢
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This specification started largely as a transcription of Van Jacobson&#39;s slides from the 30th IETF meeting and the implementation in mrouted 3.3 by Ajit Thyagarajan. Van&#39;s original slides credit Steve Casner, Steve Deering, Dino Farinacci, and Deb Agrawal. The original multicast traceroute client, mtrace (version 1), has been implemented by Ajit Thyagarajan, Steve Casner, and Bill Fenner. The idea of the S bit to allow statistics for a source subnet is due to Tom Pusateri.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
本规范主要是从第30次IETF会议上Van Jacobson的幻灯片以及Ajit Thyagarajan在mrouted 3.3中的实现开始的。范的原始幻灯片归功于史蒂夫·卡斯纳、史蒂夫·迪林、迪诺·法里纳奇和黛布·阿格拉瓦尔。最初的多播跟踪路由客户端mtrace（版本1）已经由Ajit Thyagarajan、Steve Casner和Bill Fenner实现。S位允许源子网统计的想法是由Tom Pusateri提出的。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For the Mtrace version 2 specification, the authors would like to give special thanks to Tatsuya Jinmei, Bill Fenner, and Steve Casner. Also, extensive comments were received from David L. Black, Ronald Bonica, Yiqun Cai, Liu Hui, Bharat Joshi, Robert Kebler, John Kristoff, Mankamana Mishra, Heidi Ou, Eric Rescorla, Pekka Savola, Shinsuke Suzuki, Dave Thaler, Achmad Husni Thamrin, Stig Venaas, Cao Wei, and the MBONED Working Group members.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
对于Mtrace版本2规范，作者要特别感谢Tatsuya Jinmei、Bill Fenner和Steve Casner。此外，David L.Black、Ronald Bonica、蔡益群、刘慧、巴拉特·乔希、罗伯特·凯布勒、约翰·克里斯托夫、曼卡马纳·米什拉、海蒂·欧、埃里克·雷斯科拉、佩卡·萨沃拉、铃木新介、戴夫·泰勒、阿赫迈德·胡斯尼·塔姆林、斯蒂格·维纳斯、曹伟和MBONED工作组成员也发表了广泛的评论。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Authors&#39; Addresses
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
作者地址
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Hitoshi Asaeda National Institute of Information and Communications Technology 4-2-1 Nukui-Kitamachi Koganei, Tokyo 184-8795 Japan
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
浅田仁国立信息与通信技术研究所4-2-1日本东京北天町小江内Nukui Kitamachi Koganei 184-8795
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Email: asaeda@nict.go.jp
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Email: asaeda@nict.go.jp
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Kerry Meyer Dell EMC 176 South Street Hopkinton, MA 01748 United States
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
美国马萨诸塞州霍普金顿南街176号Kerry Meyer Dell EMC 01748
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Email: kerry.meyer@me.com
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Email: kerry.meyer@me.com
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
WeeSan Lee (editor)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
李维山（编辑）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Email: weesan@weesan.com
        </pre>
      </div>
      <div class="col-sm-12 col-md-6">
        <pre class="text text-monospace">
   Email: weesan@weesan.com
        </pre>
      </div>

    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
